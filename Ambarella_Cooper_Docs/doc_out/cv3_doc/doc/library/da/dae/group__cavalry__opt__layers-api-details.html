<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Library: Cavalry Opt Layers Library API details</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Library"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="../../../library/mathjax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Library<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/dae/group__cavalry__opt__layers-api-details.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Cavalry Opt Layers Library API details<div class="ingroups"><a class="el" href="../../d4/db4/group__cavalry__opt__layers-api.html">Cavalry Opt Layers Library API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>cavalry_opt_layers API details, in file <a class="el" href="../../d7/d58/opt__layers_8hpp.html">opt_layers.hpp</a>  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Cavalry Opt Layers Library API details:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 0 -->
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga18b7d2247a3a6b2e043cc350c4bc9362"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a></td></tr>
<tr class="memdesc:ga18b7d2247a3a6b2e043cc350c4bc9362"><td class="mdescLeft">&#160;</td><td class="mdescRight">The feature map data type.  <a href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">More...</a><br /></td></tr>
<tr class="separator:ga18b7d2247a3a6b2e043cc350c4bc9362"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1f283dc0114cf1a5b0494d6c3a9e61cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga1f283dc0114cf1a5b0494d6c3a9e61cb">opt_layers_get_version</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> struct <a class="el" href="../../d2/d52/structopt__layers__version.html">opt_layers_version</a> *ver)</td></tr>
<tr class="separator:ga1f283dc0114cf1a5b0494d6c3a9e61cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5095956a02846240c0402fbffefde73d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga5095956a02846240c0402fbffefde73d">opt_layers_frcnn_init</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> struct <a class="el" href="../../de/d21/structfrcnn__desc.html">frcnn_desc</a> *desc, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *anchors_array)</td></tr>
<tr class="separator:ga5095956a02846240c0402fbffefde73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a90dcbb2aa0b87f858270184bebd017"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga4a90dcbb2aa0b87f858270184bebd017">opt_layers_frcnn_pre_nms_roi</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *rpn_fmap, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *roi_out, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *nms_out)</td></tr>
<tr class="separator:ga4a90dcbb2aa0b87f858270184bebd017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f52a44895bec2115084f2fb0f7337ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga8f52a44895bec2115084f2fb0f7337ff">opt_layers_frcnn_post_nms</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rcnn_cls_prob, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rcnn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *nms_out, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *bbox_result, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t num_rois)</td></tr>
<tr class="separator:ga8f52a44895bec2115084f2fb0f7337ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcdf09b0fd8705075d44a6f4580bf2c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gafcdf09b0fd8705075d44a6f4580bf2c1">opt_layers_frcnn_prenms_nms</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *nms_out)</td></tr>
<tr class="separator:gafcdf09b0fd8705075d44a6f4580bf2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4370f5c94ec21686c7bc2a5c3551a051"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga4370f5c94ec21686c7bc2a5c3551a051">opt_layers_frcnn_prenms</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half **detection_out)</td></tr>
<tr class="separator:ga4370f5c94ec21686c7bc2a5c3551a051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaebc4f5976b0ca899e54fa28ee499eb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gaaebc4f5976b0ca899e54fa28ee499eb2">nms</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *out, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *in, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int in_count, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float iou_thresh, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int out_lim)</td></tr>
<tr class="separator:gaaebc4f5976b0ca899e54fa28ee499eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cb6fde258756029b84bd718034a7658"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga2cb6fde258756029b84bd718034a7658">opt_layers_frcnn_exit</a> (void)</td></tr>
<tr class="separator:ga2cb6fde258756029b84bd718034a7658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dffd129237dbc07570da30ecd720229"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> struct <a class="el" href="../../de/d21/structfrcnn__desc.html">frcnn_desc</a> *desc, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *anchors_array)</td></tr>
<tr class="separator:ga7dffd129237dbc07570da30ecd720229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d5c9fd3c3d1637bdc0e7adc29b1b438"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga9d5c9fd3c3d1637bdc0e7adc29b1b438">opt_layers_instance_frcnn_pre_nms_roi</a> (void *handle, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *rpn_fmap, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *roi_out, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *nms_out)</td></tr>
<tr class="separator:ga9d5c9fd3c3d1637bdc0e7adc29b1b438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1266f6649774a6e7deb458af7424e476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga1266f6649774a6e7deb458af7424e476">opt_layers_instance_frcnn_post_nms</a> (void *handle, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rcnn_cls_prob, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rcnn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *nms_out, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *bbox_result, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t num_rois)</td></tr>
<tr class="separator:ga1266f6649774a6e7deb458af7424e476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf32803967f74c5d8eec8a2d707039938"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gaf32803967f74c5d8eec8a2d707039938">opt_layers_instance_frcnn_prenms_nms</a> (void *handle, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *nms_out)</td></tr>
<tr class="separator:gaf32803967f74c5d8eec8a2d707039938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b1efe79dd283cd77fbf936584708e43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga2b1efe79dd283cd77fbf936584708e43">opt_layers_instance_frcnn_prenms</a> (void *handle, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_cls_score, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rpn_bbox, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half **detection_out)</td></tr>
<tr class="separator:ga2b1efe79dd283cd77fbf936584708e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ce59774a12ae238ccffbe6e00d86bd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7ce59774a12ae238ccffbe6e00d86bd7">opt_layers_instance_frcnn_exit</a> (void *handle)</td></tr>
<tr class="separator:ga7ce59774a12ae238ccffbe6e00d86bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc14fae52a1310c324b742e345f632d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gadc14fae52a1310c324b742e345f632d1">opt_layers_float_dtcvt_init</a> (struct <a class="el" href="../../d5/d2a/structfloat__dtcvt__desc.html">float_dtcvt_desc</a> *desc)</td></tr>
<tr class="separator:gadc14fae52a1310c324b742e345f632d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a5e8322fcc119bc332be2af0914db94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7a5e8322fcc119bc332be2af0914db94">opt_layers_float_dtcvt</a> (<a class="el" href="../../dc/d00/structdtcvt__vect__t.html">dtcvt_vect_t</a> *src, <a class="el" href="../../dc/d00/structdtcvt__vect__t.html">dtcvt_vect_t</a> *dst, float scl)</td></tr>
<tr class="separator:ga7a5e8322fcc119bc332be2af0914db94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadabd7c7e1c6e929a618aad53bfb2ba60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gadabd7c7e1c6e929a618aad53bfb2ba60">opt_layers_float_dtcvt_exit</a> (void)</td></tr>
<tr class="separator:gadabd7c7e1c6e929a618aad53bfb2ba60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc00782815ce3a67d5f8110998e155ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gacc00782815ce3a67d5f8110998e155ab">ps_roi_pooling</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *feature_map, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int channels, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int input_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int num_roi, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> float *output, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int pooled_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int pooled_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int out_dim, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int output_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float spatial_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int group_size)</td></tr>
<tr class="separator:gacc00782815ce3a67d5f8110998e155ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd9169e1c1d473864dedcf74aa72b4dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gacd9169e1c1d473864dedcf74aa72b4dc">ps_roi_pooling_scale</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *feature_map, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int channels, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int input_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int num_roi, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> float *output, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int pooled_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int pooled_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int out_dim, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int output_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float spatial_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int group_size, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float roi_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float bin_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float dilation)</td></tr>
<tr class="separator:gacd9169e1c1d473864dedcf74aa72b4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga745430f1cfe3b09fffc49053aa196e27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga745430f1cfe3b09fffc49053aa196e27">roi_align_four_fmap_int16</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *fmap[4], <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_scale[4], <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *proposal, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fpn_post_nms_top_n, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t image_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t image_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t channels, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int16_t *roi_result)</td></tr>
<tr class="separator:ga745430f1cfe3b09fffc49053aa196e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7cc51605369d3d19e18f0f914eda895"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gae7cc51605369d3d19e18f0f914eda895">roi_align_fmap_int16</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *fmap, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *proposal, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fpn_post_nms_top_n, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t channels, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int16_t *roi_result)</td></tr>
<tr class="separator:gae7cc51605369d3d19e18f0f914eda895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab18c51bc9d3386d309e70fad6e4ca6de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gab18c51bc9d3386d309e70fad6e4ca6de">crop_and_resize_fmap_int16</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *fmap, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float fmap_w_spatial_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float fmap_h_spatial_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float extrapolation_value, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *proposal, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fpn_post_nms_top_n, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t fmap_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t pooled_height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t channels, int16_t *roi_result)</td></tr>
<tr class="separator:gab18c51bc9d3386d309e70fad6e4ca6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9598b13e51db7b0262a09e7e81e477d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga9598b13e51db7b0262a09e7e81e477d5">roi_pooling</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *feature_map, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *output, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int num_rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_w, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_h, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int fmap_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int channels)</td></tr>
<tr class="separator:ga9598b13e51db7b0262a09e7e81e477d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc63034e066c8e6909ed991fb804aa09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gacc63034e066c8e6909ed991fb804aa09">roi_pooling_sign</a> (<a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *feature_map, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *output, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int num_rois, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_w, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_h, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pooled_pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int fmap_scale, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int pitch, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int height, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int width, <a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int channels)</td></tr>
<tr class="separator:gacc63034e066c8e6909ed991fb804aa09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >cavalry_opt_layers API details, in file <a class="el" href="../../d7/d58/opt__layers_8hpp.html">opt_layers.hpp</a> </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga18b7d2247a3a6b2e043cc350c4bc9362" name="ga18b7d2247a3a6b2e043cc350c4bc9362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18b7d2247a3a6b2e043cc350c4bc9362">&#9670;&nbsp;</a></span>fmap_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The feature map data type. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab18c51bc9d3386d309e70fad6e4ca6de" name="gab18c51bc9d3386d309e70fad6e4ca6de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab18c51bc9d3386d309e70fad6e4ca6de">&#9670;&nbsp;</a></span>crop_and_resize_fmap_int16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int crop_and_resize_fmap_int16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *&#160;</td>
          <td class="paramname"><em>fmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>fmap_w_spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>fmap_h_spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>extrapolation_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *&#160;</td>
          <td class="paramname"><em>proposal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fpn_post_nms_top_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>roi_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API crop and resize is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gae7cc51605369d3d19e18f0f914eda895">roi_align_fmap_int16()</a>. This API used in Tensorflow, but <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gae7cc51605369d3d19e18f0f914eda895">roi_align_fmap_int16()</a> used in other framework.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmap</td><td>the feature map that RPN generated. Data type is signed FX16. FMap dimension should reshape and permute from (C, H, W) to (H, W, C). </td></tr>
    <tr><td class="paramname">fmap_w_spatial_scale</td><td>the spatial scale from input image width to feature map width. </td></tr>
    <tr><td class="paramname">fmap_h_spatial_scale</td><td>the spatial scale from input image height to feature map height. </td></tr>
    <tr><td class="paramname">extrapolation_value</td><td>set the extra polation value when calcuated ROI size base on feature map exceed feature map size. </td></tr>
    <tr><td class="paramname">proposal</td><td>the ROIs. Format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">fpn_post_nms_top_n</td><td>the number of ROIs. </td></tr>
    <tr><td class="paramname">fmap_width</td><td>the width of feature map. </td></tr>
    <tr><td class="paramname">fmap_height</td><td>the height of feature map. </td></tr>
    <tr><td class="paramname">pooled_width</td><td>the width of aligned. </td></tr>
    <tr><td class="paramname">pooled_height</td><td>the height of aligned. </td></tr>
    <tr><td class="paramname">channels</td><td>the channel of feature map, it is the same as channel of aligned. </td></tr>
    <tr><td class="paramname">roi_result</td><td>the result of ROI Align. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gaaebc4f5976b0ca899e54fa28ee499eb2" name="gaaebc4f5976b0ca899e54fa28ee499eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaebc4f5976b0ca899e54fa28ee499eb2">&#9670;&nbsp;</a></span>nms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int nms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>in_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>iou_thresh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>out_lim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for NMS which is one part of the Faster-RCNN ARM stage 1 process. It calculates the IOU over the remaining bboxes, and keeps only one bbox among several bboxes that have an IOU greater than the predefined threshold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the virt address of NMS result. Data type is FP16. format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">in</td><td>the virt address of input ROIs and score. Data type is FP16, format is (x1, y1, x2, y2, score). </td></tr>
    <tr><td class="paramname">in_count</td><td>the number of ROIs count. Data type is FP16. </td></tr>
    <tr><td class="paramname">iou_thresh</td><td>the IoU overlap threshold. </td></tr>
    <tr><td class="paramname">out_lim</td><td>the max number of NMS output ROIs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga7a5e8322fcc119bc332be2af0914db94" name="ga7a5e8322fcc119bc332be2af0914db94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a5e8322fcc119bc332be2af0914db94">&#9670;&nbsp;</a></span>opt_layers_float_dtcvt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_float_dtcvt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d00/structdtcvt__vect__t.html">dtcvt_vect_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d00/structdtcvt__vect__t.html">dtcvt_vect_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API do data type conversion with scale factor when data is converted to float32 or from float32.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Input vector data descriptor </td></tr>
    <tr><td class="paramname">dst</td><td>Output vector data descriptor </td></tr>
    <tr><td class="paramname">scl</td><td>Scale factor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gadabd7c7e1c6e929a618aad53bfb2ba60" name="gadabd7c7e1c6e929a618aad53bfb2ba60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadabd7c7e1c6e929a618aad53bfb2ba60">&#9670;&nbsp;</a></span>opt_layers_float_dtcvt_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void opt_layers_float_dtcvt_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API release the resource that allocated in <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gadc14fae52a1310c324b742e345f632d1">opt_layers_float_dtcvt_init()</a>. </p>

</div>
</div>
<a id="gadc14fae52a1310c324b742e345f632d1" name="gadc14fae52a1310c324b742e345f632d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc14fae52a1310c324b742e345f632d1">&#9670;&nbsp;</a></span>opt_layers_float_dtcvt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_float_dtcvt_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/d2a/structfloat__dtcvt__desc.html">float_dtcvt_desc</a> *&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API initializes float data conversion function by thread number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desc</td><td>the description of functions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga2cb6fde258756029b84bd718034a7658" name="ga2cb6fde258756029b84bd718034a7658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cb6fde258756029b84bd718034a7658">&#9670;&nbsp;</a></span>opt_layers_frcnn_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void opt_layers_frcnn_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API release the resource that allocated in <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga5095956a02846240c0402fbffefde73d">opt_layers_frcnn_init()</a>. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d9/d51/test_pvanet_8cpp-example.html#a94">test_pvanet.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ga5095956a02846240c0402fbffefde73d" name="ga5095956a02846240c0402fbffefde73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5095956a02846240c0402fbffefde73d">&#9670;&nbsp;</a></span>opt_layers_frcnn_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_frcnn_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> struct <a class="el" href="../../de/d21/structfrcnn__desc.html">frcnn_desc</a> *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *&#160;</td>
          <td class="paramname"><em>anchors_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API initializes the Faster-RCNN functions by description and anchors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desc</td><td>the description of functions </td></tr>
    <tr><td class="paramname">anchors_array</td><td>anchors, (x_left, y_left, x_right, y_right) base on image center (0, 0). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d9/d51/test_pvanet_8cpp-example.html#a85">test_pvanet.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ga8f52a44895bec2115084f2fb0f7337ff" name="ga8f52a44895bec2115084f2fb0f7337ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f52a44895bec2115084f2fb0f7337ff">&#9670;&nbsp;</a></span>opt_layers_frcnn_post_nms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_frcnn_post_nms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rcnn_cls_prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rcnn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>bbox_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>num_rois</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for Faster-RCNN ARM stage 2 process. After obtaining the RCNN output, rcnn_bbox_delta and rcnn_cls_prob, the post-processing module adjusts the final bbox and performs another NMS for each object class. This API include 2 steps:</p><ol type="1">
<li>bbox_trans_inv_prcnn uses the output bboxes of the previous NMS and the bbox delta of RCNN to perform a final adjustment on the bboxes;</li>
<li>nms_all_class fetches the classification probability for each bbox from RCNN. Then, for each class, it sorts all of the remaining bboxes according to their probability, performing NMS afterwards to prevent repeating a bbox for the same object.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rcnn_cls_prob</td><td>the virt address of RCNN class score. Data type is FP16. </td></tr>
    <tr><td class="paramname">rcnn_bbox</td><td>the virt address of RCNN bbox delta virt address. Data type is FP16 </td></tr>
    <tr><td class="paramname">nms_out</td><td>the virt address of ROIs that generated by NMS. Data type is FX16. </td></tr>
    <tr><td class="paramname">bbox_result</td><td>the virt address of RPN class score. Data type is same as @rpn_fmap. </td></tr>
    <tr><td class="paramname">num_rois</td><td>the number of ROIs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d9/d51/test_pvanet_8cpp-example.html#a87">test_pvanet.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ga4a90dcbb2aa0b87f858270184bebd017" name="ga4a90dcbb2aa0b87f858270184bebd017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a90dcbb2aa0b87f858270184bebd017">&#9670;&nbsp;</a></span>opt_layers_frcnn_pre_nms_roi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_frcnn_pre_nms_roi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>rpn_fmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>roi_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for Faster-RCNN ARM stage 1 process. It include 4 steps:</p><ol type="1">
<li>Thansform bbox by anchors and RPN bbox delta; It uses these generated anchors and the RPN-generated bbox deltas, adjusts each bbox, and filters out the bboxes that are not large enough.</li>
<li>PreNMS sorts the proposal bboxes according to the foreground probability supplied by RPN for each box, and then keeps only a small portion for the later NMS.</li>
<li>NMS calculates the IOU over the remaining bboxes, and keeps only one bbox among several bboxes that have an IOU greater than the predefined threshold.</li>
<li>ROI Pooling performs pooling using the ROI ouput of NMS and the feature map of RPN. It generates pooled feature maps for the FC classifier to obtain more accurate bbox coordinates and scores over each object class.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpn_cls_score</td><td>the virt address of RPN class score. Data type is FP16. </td></tr>
    <tr><td class="paramname">rpn_bbox</td><td>the virt address of RPN bbox delta. Data type is FP16 </td></tr>
    <tr><td class="paramname">rpn_fmap</td><td>the virt address of RPN feature map. Data type is FX16. FMap dimension should reshape and permute from (C, H, W) to (C/16, H, W, 16). </td></tr>
    <tr><td class="paramname">roi_out</td><td>the virt address of ROI Pooling result. Data type and shape are the same as @rpn_fmap, but width and height are pooled. </td></tr>
    <tr><td class="paramname">nms_out</td><td>the virt address of NMS result. Data type is FP16, format is (x1, y1, x2, y2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d9/d51/test_pvanet_8cpp-example.html#a86">test_pvanet.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ga4370f5c94ec21686c7bc2a5c3551a051" name="ga4370f5c94ec21686c7bc2a5c3551a051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4370f5c94ec21686c7bc2a5c3551a051">&#9670;&nbsp;</a></span>opt_layers_frcnn_prenms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_frcnn_prenms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half **&#160;</td>
          <td class="paramname"><em>detection_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for Faster-RCNN ARM stage 1 process. It include 2 steps:</p><ol type="1">
<li>Thansform bbox by anchors and RPN bbox delta; It uses these generated anchors and the RPN-generated bbox deltas, adjusts each bbox, and filters out the bboxes that are not large enough.</li>
<li>PreNMS sorts the proposal bboxes according to the foreground probability supplied by RPN for each box, and then keeps only a small portion for the later NMS.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpn_cls_score</td><td>the virt address of RPN class score. Data type is FP16. </td></tr>
    <tr><td class="paramname">rpn_bbox</td><td>the virt address of RPN bbox delta. Data type is FP16 </td></tr>
    <tr><td class="paramname">detection_out</td><td>the virt address of PreNMS result. Data type is FP16, format is (x1, y1, x2, y2, score). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gafcdf09b0fd8705075d44a6f4580bf2c1" name="gafcdf09b0fd8705075d44a6f4580bf2c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcdf09b0fd8705075d44a6f4580bf2c1">&#9670;&nbsp;</a></span>opt_layers_frcnn_prenms_nms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_frcnn_prenms_nms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for Faster-RCNN ARM stage 1 process. It include 3 steps:</p><ol type="1">
<li>Thansform bbox by anchors and RPN bbox delta. It uses these generated anchors and the RPN-generated bbox deltas, adjusts each bbox, and filters out the bboxes that are not large enough.</li>
<li>PreNMS sorts the proposal bboxes according to the foreground probability supplied by RPN for each box, and then keeps only a small portion for the later NMS.</li>
<li>NMS calculates the IOU over the remaining bboxes, and keeps only one bbox among several bboxes that have an IOU greater than the predefined threshold.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpn_cls_score</td><td>the virt address of RPN class score. Data type is FP16. </td></tr>
    <tr><td class="paramname">rpn_bbox</td><td>the virt address of RPN bbox delta. Data type is FP16 </td></tr>
    <tr><td class="paramname">nms_out</td><td>the virt address of NMS result. Data type is FP16, format is (x1, y1, x2, y2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga1f283dc0114cf1a5b0494d6c3a9e61cb" name="ga1f283dc0114cf1a5b0494d6c3a9e61cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f283dc0114cf1a5b0494d6c3a9e61cb">&#9670;&nbsp;</a></span>opt_layers_get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_get_version </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> struct <a class="el" href="../../d2/d52/structopt__layers__version.html">opt_layers_version</a> *&#160;</td>
          <td class="paramname"><em>ver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API get the version of library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ver</td><td>the pointer to version </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d9/d51/test_pvanet_8cpp-example.html#a59">test_pvanet.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="ga7ce59774a12ae238ccffbe6e00d86bd7" name="ga7ce59774a12ae238ccffbe6e00d86bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ce59774a12ae238ccffbe6e00d86bd7">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void opt_layers_instance_frcnn_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga2cb6fde258756029b84bd718034a7658">opt_layers_frcnn_exit()</a>. The difference is this API need feed instance of this Faster-RCNN description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the instance that returned by <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7dffd129237dbc07570da30ecd720229" name="ga7dffd129237dbc07570da30ecd720229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7dffd129237dbc07570da30ecd720229">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> void * opt_layers_instance_frcnn_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> struct <a class="el" href="../../de/d21/structfrcnn__desc.html">frcnn_desc</a> *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *&#160;</td>
          <td class="paramname"><em>anchors_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga5095956a02846240c0402fbffefde73d">opt_layers_frcnn_init()</a>. The difference is this API will return instance of this Faster-RCNN description.</p>
<dl class="section return"><dt>Returns</dt><dd>valid pointer = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga1266f6649774a6e7deb458af7424e476" name="ga1266f6649774a6e7deb458af7424e476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1266f6649774a6e7deb458af7424e476">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_post_nms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_instance_frcnn_post_nms </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rcnn_cls_prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rcnn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>bbox_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>num_rois</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga8f52a44895bec2115084f2fb0f7337ff">opt_layers_frcnn_post_nms()</a>. The difference is this API need feed instance of this Faster-RCNN description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the instance that returned by <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga9d5c9fd3c3d1637bdc0e7adc29b1b438" name="ga9d5c9fd3c3d1637bdc0e7adc29b1b438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d5c9fd3c3d1637bdc0e7adc29b1b438">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_pre_nms_roi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_instance_frcnn_pre_nms_roi </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>rpn_fmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>roi_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga4a90dcbb2aa0b87f858270184bebd017">opt_layers_frcnn_pre_nms_roi()</a>. The difference is this API need feed instance of this Faster-RCNN description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the instance that returned by <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga2b1efe79dd283cd77fbf936584708e43" name="ga2b1efe79dd283cd77fbf936584708e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b1efe79dd283cd77fbf936584708e43">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_prenms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_instance_frcnn_prenms </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half **&#160;</td>
          <td class="paramname"><em>detection_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga4370f5c94ec21686c7bc2a5c3551a051">opt_layers_frcnn_prenms()</a>. The difference is this API need feed instance of this Faster-RCNN description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the instance that returned by <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gaf32803967f74c5d8eec8a2d707039938" name="gaf32803967f74c5d8eec8a2d707039938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf32803967f74c5d8eec8a2d707039938">&#9670;&nbsp;</a></span>opt_layers_instance_frcnn_prenms_nms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int opt_layers_instance_frcnn_prenms_nms </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_cls_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rpn_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> half *&#160;</td>
          <td class="paramname"><em>nms_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gafcdf09b0fd8705075d44a6f4580bf2c1">opt_layers_frcnn_prenms_nms()</a>. The difference is this API need feed instance of this Faster-RCNN description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the instance that returned by <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga7dffd129237dbc07570da30ecd720229">opt_layers_instance_frcnn_init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gacc00782815ce3a67d5f8110998e155ab" name="gacc00782815ce3a67d5f8110998e155ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc00782815ce3a67d5f8110998e155ab">&#9670;&nbsp;</a></span>ps_roi_pooling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int ps_roi_pooling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *&#160;</td>
          <td class="paramname"><em>feature_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>input_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>num_roi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> float *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>out_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>output_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>group_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for PS-ROI Pooling which is introduced in RFCN.</p>
<p >Our optimization works under the following conditions:</p><ol type="1">
<li>pooled_width == pooled_height == group_size</li>
<li>out_dim == OC, IC == OC * group_size * group_size</li>
<li>Input feature map(FP32) is reshape and remap to (group_size * group_size) * IH * IW * OC with pitch == input_pitch</li>
<li>Output feature map(FP32) is NxOHxOWxOC with pitch == output_pitch</li>
<li>batch size is always 1 and roi_batch_ind is always 0</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature_map</td><td>the virt address of feature map. Data type is float32. FMap dimension should reshape and permute from (P, C, H, W) to (C, H, W, P). </td></tr>
    <tr><td class="paramname">width</td><td>the width of feature_map. </td></tr>
    <tr><td class="paramname">height</td><td>the height of feature_map. </td></tr>
    <tr><td class="paramname">channels</td><td>the value (P x C) of feature_map. </td></tr>
    <tr><td class="paramname">input_pitch</td><td>the pitch of feature_map. </td></tr>
    <tr><td class="paramname">rois</td><td>the ROIs for input. Data type is float32, format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">num_roi</td><td>the number of ROIs. </td></tr>
    <tr><td class="paramname">output</td><td>the virt address of PS-ROI Pooling result. Data type is same as @feature_map. The shape is (H, W, C). </td></tr>
    <tr><td class="paramname">pooled_width</td><td>the width of pooled. </td></tr>
    <tr><td class="paramname">pooled_height</td><td>the height of pooled. </td></tr>
    <tr><td class="paramname">out_dim</td><td>the plane of pooled. It's class number in RFCN. </td></tr>
    <tr><td class="paramname">output_pitch</td><td>the plane of pooled. It's class number in RFCN. </td></tr>
    <tr><td class="paramname">spatial_scale</td><td>the spatial scale that from feature map to pooled. </td></tr>
    <tr><td class="paramname">group_size</td><td>the width of feature map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gacd9169e1c1d473864dedcf74aa72b4dc" name="gacd9169e1c1d473864dedcf74aa72b4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd9169e1c1d473864dedcf74aa72b4dc">&#9670;&nbsp;</a></span>ps_roi_pooling_scale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int ps_roi_pooling_scale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *&#160;</td>
          <td class="paramname"><em>feature_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>input_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float *&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>num_roi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> float *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>out_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>output_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> const int&#160;</td>
          <td class="paramname"><em>group_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>roi_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>bin_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float&#160;</td>
          <td class="paramname"><em>dilation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gacd9169e1c1d473864dedcf74aa72b4dc">ps_roi_pooling_scale()</a>. The difference is this API have three more parameters. Please see the additional parameters in below, others are the same as <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#gacd9169e1c1d473864dedcf74aa72b4dc">ps_roi_pooling_scale()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi_scale</td><td>the scale base on RPN proosal. </td></tr>
    <tr><td class="paramname">bin_scale</td><td>the bin scale. </td></tr>
    <tr><td class="paramname">dilation</td><td>the dilation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gae7cc51605369d3d19e18f0f914eda895" name="gae7cc51605369d3d19e18f0f914eda895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7cc51605369d3d19e18f0f914eda895">&#9670;&nbsp;</a></span>roi_align_fmap_int16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int roi_align_fmap_int16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *&#160;</td>
          <td class="paramname"><em>fmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *&#160;</td>
          <td class="paramname"><em>proposal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fpn_post_nms_top_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int16_t *&#160;</td>
          <td class="paramname"><em>roi_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for ROI Align which is intrudocued in Mask-RCNN.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmap</td><td>the feature map that RPN generated. Data type is signed FX16. FMap dimension should reshape and permute from (C, H, W) to (H, W, C). </td></tr>
    <tr><td class="paramname">fmap_scale</td><td>the scale from input image to feature map. </td></tr>
    <tr><td class="paramname">proposal</td><td>the ROIs. Format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">fpn_post_nms_top_n</td><td>the number of ROIs. </td></tr>
    <tr><td class="paramname">fmap_width</td><td>the width of feature map. </td></tr>
    <tr><td class="paramname">fmap_height</td><td>the height of feature map.. </td></tr>
    <tr><td class="paramname">pooled_width</td><td>the width of aligned. </td></tr>
    <tr><td class="paramname">pooled_height</td><td>the height of aligned. </td></tr>
    <tr><td class="paramname">channels</td><td>the channel of feature map, it is the same as channel of aligned. </td></tr>
    <tr><td class="paramname">roi_result</td><td>the result of ROI Align. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga745430f1cfe3b09fffc49053aa196e27" name="ga745430f1cfe3b09fffc49053aa196e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga745430f1cfe3b09fffc49053aa196e27">&#9670;&nbsp;</a></span>roi_align_four_fmap_int16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int roi_align_four_fmap_int16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int16_t *&#160;</td>
          <td class="paramname"><em>fmap</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fmap_scale</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> float *&#160;</td>
          <td class="paramname"><em>proposal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>fpn_post_nms_top_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> uint32_t&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int16_t *&#160;</td>
          <td class="paramname"><em>roi_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for ROI Align which is intrudocued in Mask-RCNN. It need feed three level pyramid feature map in descending order, and API inside will choose corresponding pyramid accroding ROI by the following formula.</p>
<p >The formula to choose feature map pyramid index: roi_width = x2 - x1; roi_height = y2 - y1; s = sqrt(roi_width * roi_height); fmap_index = floor(1 + log2(s /224 + 1e-6)); fmap_index = clamp(fmap_index, 0, 2);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmap[4]</td><td>the feature map that RPN generated. Data type is signed FX16. FMap dimension should reshape and permute from (C, H, W) to (H, W, C). </td></tr>
    <tr><td class="paramname">fmap_scale[4]</td><td>the scale from input image to feature map. </td></tr>
    <tr><td class="paramname">proposal</td><td>the ROIs. Format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">fpn_post_nms_top_n</td><td>the number of ROIs. </td></tr>
    <tr><td class="paramname">image_width</td><td>the width of input image. </td></tr>
    <tr><td class="paramname">image_height</td><td>the height of input image. </td></tr>
    <tr><td class="paramname">pooled_width</td><td>the width of aligned. </td></tr>
    <tr><td class="paramname">pooled_height</td><td>the height of aligned. </td></tr>
    <tr><td class="paramname">channels</td><td>the channel of feature map, it is the same as channel of aligned. </td></tr>
    <tr><td class="paramname">roi_result</td><td>the result of ROI Align. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="ga9598b13e51db7b0262a09e7e81e477d5" name="ga9598b13e51db7b0262a09e7e81e477d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9598b13e51db7b0262a09e7e81e477d5">&#9670;&nbsp;</a></span>roi_pooling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int roi_pooling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>feature_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>num_rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>fmap_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API for ROI Pooling which is one part of the Faster-RCNN ARM stage 1 process. It performs pooling using the ROI ouput of NMS and the feature map of RPN. It generates pooled feature maps for the FC classifier to obtain more accurate bbox coordinates and scores over each object class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rois</td><td>the virt address of ROIs. Data type is FP16. format is (x1, y1, x2, y2). </td></tr>
    <tr><td class="paramname">feature_map</td><td>the virt address of RPN output. Data type is unsigned FX16. FMap dimension should reshape and permute from (C, H, W) to (C/16, H, W, 16). </td></tr>
    <tr><td class="paramname">output</td><td>the virt address of ROI Pooling result. Data type and shape are the same as @feature_map, but width and height are pooled. </td></tr>
    <tr><td class="paramname">num_rois</td><td>the number of ROIs count. </td></tr>
    <tr><td class="paramname">pooled_w</td><td>the width of pooled. </td></tr>
    <tr><td class="paramname">pooled_h</td><td>the height of pooled. </td></tr>
    <tr><td class="paramname">pooled_pitch</td><td>the pitch of pooled. </td></tr>
    <tr><td class="paramname">fmap_scale</td><td>the scale from input image to feature map. </td></tr>
    <tr><td class="paramname">pitch</td><td>the pitch of feature map. </td></tr>
    <tr><td class="paramname">height</td><td>the height of feature map. </td></tr>
    <tr><td class="paramname">width</td><td>the width of feature map. </td></tr>
    <tr><td class="paramname">channels</td><td>the channel of feature map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
<a id="gacc63034e066c8e6909ed991fb804aa09" name="gacc63034e066c8e6909ed991fb804aa09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc63034e066c8e6909ed991fb804aa09">&#9670;&nbsp;</a></span>roi_pooling_sign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d56/lib__data__process_8h.html#af7dee719f7c4db59071f00b6970cc6ce">AMBA_API</a> int roi_pooling_sign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> half *&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>feature_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga18b7d2247a3a6b2e043cc350c4bc9362">fmap_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>num_rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pooled_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>fmap_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/daf/cnngen__prep_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> int&#160;</td>
          <td class="paramname"><em>channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This API is similar to API <a class="el" href="../../da/dae/group__cavalry__opt__layers-api-details.html#ga9598b13e51db7b0262a09e7e81e477d5">roi_pooling()</a>. The difference is this API's feature map data type is signed FX16.</p>
<dl class="section return"><dt>Returns</dt><dd>0 = success, -1 = error. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
