<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Library: Image Library API</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Library"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="../../../library/mathjax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Library<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d7/de0/page_lib_img_doc.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Image Library API </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="img_lib_history"></a>
0. Revision History</h1>
<a class="anchor" id="img_lib_rev_history"></a>
<table class="doxtable">
<caption></caption>
<tr>
<th>Library Version</th><th>Updated Date</th><th align="left">Modification </th></tr>
<tr>
<td>0.0.1</td><td>20220621</td><td>Initial Version </td></tr>
<tr>
<td>0.0.2</td><td>20230919</td><td>Added Section 3 </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="img_lib_introduction"></a>
1. Introduction</h1>
<p >The image processing digital signal processor (DSP) group of application programming interface (APIs) enables users to configure various image tuning parameters. In CV5x environment, the image processing is performed in three domains below:</p><ul>
<li>Color filter array (CFA) domain before demosaicing</li>
<li>Red, green, blue (RGB) domain before converting to YUV</li>
<li>YUV domain before entering the image encoder</li>
</ul>
<p >The key features supported by the image processing APIs include the following:</p><ul>
<li>Auto-exposure, auto-focus, auto-white-balance (AAA) statistics</li>
<li>Lens and sensor correction</li>
<li>Color processing</li>
<li>Noise removal</li>
<li>Sharpening</li>
</ul>
<hr  />
<h1><a class="anchor" id="img_lib_pipeline"></a>
2. Image Pipeline</h1>
<p >The CV5x image pipeline is provided as shown in the following diagram. Each function block has a corresponding API to configure the desired quality settings.</p>
<div class="image">
<img src="../../cv5_pipeline_1527x614.png" alt=""/>
<div class="caption">
Figure 2-1. Image Pipeline.</div></div>
<hr  />
 <h1><a class="anchor" id="aaa_statistics"></a>
3. AAA Statistics Information</h1>
<p >The CV5x and CV72 image tile number are variable in different cases.</p>
<p >However, CV72 can upscale tiles into the maximum size of column / row, and CV5x cannot.</p>
<p >The main setting and considerations are listed below:</p>
<h2><a class="anchor" id="aaa_statistics_tile_num"></a>
3.1 AAA Statistics Tile Number</h2>
<ul>
<li><b>CFA</b> :<ul>
<li><b>AE</b> :<ul>
<li>12x8 (Width &lt;= 4096, Height &lt;= 2160);</li>
<li>24x8 (Width &gt; 4096, Height &lt;= 2160);</li>
<li>12x16 (Width &lt;= 4096, Height &gt; 2160);</li>
<li>24x16 (Width &gt; 4096, Height &gt; 2160).</li>
</ul>
</li>
<li><b>AWB</b> :<ul>
<li>32x32 (Width &lt;= 4096, Height &lt;= 2160);</li>
<li>64x32 (Width &gt; 4096, Height &lt;= 2160);</li>
<li>32x64 (Width &lt;= 4096, Height &gt; 2160);</li>
<li>64x64 (Width &gt; 4096, Height &gt; 2160).</li>
</ul>
</li>
<li><b>AF</b> :<ul>
<li>12x8 (Width &lt;= 4096, Height &lt;= 2160);</li>
<li>24x8 (Width &gt; 4096, Height &lt;= 2160);</li>
<li>12x16 (Width &lt;= 4096, Height &gt; 2160);</li>
<li>24x16 (Width &gt; 4096, Height &gt; 2160).</li>
</ul>
</li>
</ul>
</li>
<li><b>RGB</b> :<ul>
<li><b>AE</b> : 24x16.</li>
<li><b>AF</b> : 32x16.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="considerations_of_aaa"></a>
3.2 Considerations</h2>
<ul>
<li>Due to using the hardware format, some parameters of tile such as <em><b>"width/height"</b></em> and <em><b>"column/row"</b></em> need the operation <b>"+1"</b>.</li>
</ul>
<p >For example, tile number of RGB-AE should be read out <b>"23x15"</b> directly, so applying <b>"+1"</b> to get the actual number <b>"24x16"</b> before use.</p>
<p >The parameters in below structure include these key words <em><b>"width, height, col, row"</b></em> using the hardware format.</p><ul>
<li><em><a class="el" href="../../d2/dcd/structaaa__tile__info__t.html">aaa_tile_info_t</a></em> <ul>
<li><em><a class="el" href="../../d0/de1/structawb__tile__info__t.html">awb_tile_info_t</a></em> awb</li>
<li><em><a class="el" href="../../d9/d88/structcfa__ae__tile__info__t.html">cfa_ae_tile_info_t</a></em> cfa_ae</li>
<li><em><a class="el" href="../../d9/d02/structaf__tile__info__t.html">af_tile_info_t</a></em> cfa_af</li>
<li><em><a class="el" href="../../d4/dc4/structrgb__ae__tile__info__t.html">rgb_ae_tile_info_t</a></em> pg_ae</li>
<li><em><a class="el" href="../../d9/d02/structaf__tile__info__t.html">af_tile_info_t</a></em> pg_af</li>
</ul>
</li>
</ul>
<hr  />
 <h1><a class="anchor" id="img_lib_api"></a>
4. Image Library API</h1>
<p >Visit the following link to find details of the API functions.</p><ul>
<li><a class="el" href="../../d9/dc1/group__img__lib-high-level-api-details.html">High level Image Library API details</a> shows high level API lists.</li>
<li><a class="el" href="../../dd/d7c/group__img__lib-adv-api-details.html">Advanced Image Library API details</a> shows advanced API lists.</li>
<li><a class="el" href="../../d1/d7e/group__img__lib-helper.html">Image Library API helper</a> shows related macros enumerations and structures.</li>
</ul>
<hr  />
<h1><a class="anchor" id="img_lib_lic"></a>
5. License</h1>
<p >Copyright (c) 2024 Ambarella International LP.</p>
<p >This file and its contents ( "Software" ) are protected by intellectual property rights including, without limitation, U.S. and/or foreign copyrights. This Software is also the confidential and proprietary information of Ambarella International LP and its licensors. You may not use, reproduce, disclose, distribute, modify, or otherwise prepare derivative works of this Software or any portion thereof except pursuant to a signed license agreement or nondisclosure agreement with Ambarella International LP or its authorized affiliates. In the absence of such an agreement, you agree to promptly notify and return this Software to Ambarella International LP.</p>
<p >THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
