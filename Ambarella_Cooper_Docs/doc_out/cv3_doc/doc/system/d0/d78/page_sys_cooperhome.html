<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>System: TOOL - CooperHome</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="System"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">System<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d78/page_sys_cooperhome.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">TOOL - CooperHome </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="cooperhome_history"></a>
0. Revision History</h1>
<a class="anchor" id="cooperhome_rev_history"></a>
<table class="doxtable">
<caption></caption>
<tr>
<th>Version </th><th>Updated Date </th><th>Modification </th></tr>
<tr>
<td>0.1.0 - Alpha </td><td>20230824 </td><td>Initial Version </td></tr>
<tr>
<td rowspan="2">0.1.0 - Beta </td><td rowspan="2">20230928 </td><td>1. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_iq_page">4.4 Image Quality</a>. </td></tr>
<tr>
<td>2. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_about_page">4.7 About</a>. </td></tr>
<tr>
<td>0.1.0 </td><td>20231023 </td><td>Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_gdc_page">4.5 Geometric Distortion Correction</a>. </td></tr>
<tr>
<td rowspan="2">0.2.0 - Alpha </td><td rowspan="2">20231220 </td><td>1. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_startup_page">4.2 Startup</a>. </td></tr>
<tr>
<td>2. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_vcap_page">4.6 Video Capture</a>. </td></tr>
<tr>
<td>0.2.1 - Alpha </td><td>20240112 </td><td>Updated Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_performance_cvflowprofile">4.3.6 CVflow Profile</a>. </td></tr>
<tr>
<td rowspan="2">0.2.2 </td><td rowspan="2">20240124 </td><td>1. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_lychee_installation">2.4 Install CooperHome on Lychee</a>. </td></tr>
<tr>
<td>2. Added Section <a class="el" href="../../d0/d78/page_sys_cooperhome.html#cooperhome_run_lychee">3.2 Run CooperHome on Lychee</a>. </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="cooperhome_ov"></a>
1. Overview</h1>
<p >CooperHome is a light-weight web application designed for the Ambarella Cooper software development kit (SDK) that runs on Ambarella's CV2x, CV5x, CV7x, and CV3x systems on chip (SoCs) to bring webpage access to the SoCs. Thus, users can visually and graphically check and configure Ambarella SoCs on any client device (such as PCs, cellphones, tablets, and more) through the web browser.</p>
<p >With the CooperHome features, users are able to see a summary of system information, monitor device status, profile use case performance, configure tasks on CPU / digital signal processor (DSP) / CVflowÂ® cores, capture output data, and more.</p>
<p >CooperHome is targeted to help new users to get started with the Ambarella SoC and become familiar with the Ambarella system.</p>
<p >CooperHome also aims to help experienced users accelerate their evaluation and development speeds with the Ambarella Cooper SDK.</p><ul>
<li>CooperHome application source code is located <code>/COOPER_SDK_PATH/ambarella/app/utility/cooper_home/</code>.</li>
<li>CooperHome external plugins are placed under <code>/COOPER_SDK_PATH/ambarella/prebuild/oss/noarch/cooper-home/</code>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>CooperHome is published and released as full source code in the Cooper SDK and is developed under the Ambarella Three-clause Proprietary License.</li>
<li>CooperHome only can be used as sample code for user reference. Customers <b>CANNOT</b> directly copy and use this piece of source code for their final products.</li>
</ul>
</dd></dl>
<div class="image">
<img src="../../cooperhome_main.png" alt=""/>
<div class="caption">
Figure 1-1. CooperHome Main Page.</div></div>
<hr  />
<h1><a class="anchor" id="cooperhome_build"></a>
2. Build Method and Installation</h1>
<p >As CooperHome needs Python module which is not supported by Amba-build firmware, there are two ways for users to build or install CooperHome application into the final image.</p><ul>
<li>Use Yocto build to generate CooperHome into the firmware.</li>
<li>Use the prepared installation package and install it into the firmware.</li>
</ul>
<h2><a class="anchor" id="cooperhome_yocto_build"></a>
2.1 Build CooperHome with Yocto-build Firmware</h2>
<p >Follow the below instructions to enable CooperHome in the Yocto-build firmware. </p><div class="fragment"><div class="line">build $ <a class="code hl_variableRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html#a07a87b2e6ed927503e2f95f119c9fc23">source</a> build/env/yocto-build.env</div>
<div class="line">build $ make ipcam_config</div>
<div class="line">build $ make menuconfig</div>
<div class="line">            -&gt; meta-ambaapp</div>
<div class="line">                -&gt; recipes-tool ---&gt;</div>
<div class="line">                    [*] cooper-home (meta-ambaapp/recipes-tool/cooper-home)</div>
<div class="line">build $ make</div>
<div class="ttc" id="avin__init_8c_html_a07a87b2e6ed927503e2f95f119c9fc23"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html#a07a87b2e6ed927503e2f95f119c9fc23">source</a></div><div class="ttdeci">int source</div></div>
</div><!-- fragment --><h2><a class="anchor" id="cooperhome_build_installation_pack"></a>
2.2 Build CooperHome Installation Package</h2>
<p >Follow the below instructions to create the CooperHome installation package. The installation package is generated under the output folder "cooper-home-install-pack package". For example, <code>./out/yocto_out/cv22_walnut/tmp/work/cortexa53-crypto-poky-linux/cooper-home-install-pack/1.0-r0/build/cooper_home_installer.tar</code>.</p>
<div class="fragment"><div class="line">build $ <a class="code hl_variableRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html#a07a87b2e6ed927503e2f95f119c9fc23">source</a> build/env/yocto-build.env</div>
<div class="line">build $ make ipcam_config</div>
<div class="line">build $ make cooper-home-install-pack</div>
</div><!-- fragment --><h2><a class="anchor" id="cooperhome_installation"></a>
2.3 Install CooperHome on Existing Amba-Build or Yocto-Build Firmware</h2>
<p >Follow the below instructions to install the CooperHome application on any existing Amba-build / Yocto-build firmware.</p>
<p >If user installs the CooperHome into system default path, ensure that root storage has more than <b>25 MB</b> free space before installation. Use <code>df</code> to check the size of free space.</p>
<p >It is recommended to install CooperHome on SD card or network driver because the application will not be erased by device reboot and / or frimware re-program. Also, it does not rely on the storage size of rootfs.</p>
<p >It extracts and installs the CooperHome executable files and runtime environment to the target device. </p><div class="fragment"><div class="line"><span class="preprocessor">## Copy the cooper_home_installer.tar file into &quot;/tmp&quot;</span> path or SD card</div>
<div class="line">board # tar xfp cooper_home_installer.tar</div>
<div class="line">board # cd cooper_home_installer</div>
</div><!-- fragment --><ol type="1">
<li>Install CooperHome to root (<code>/usr/bin, /usr/lib and /usr/share/ambarella</code>): <div class="fragment"><div class="line">board # ./cooper_home_install.sh -n</div>
</div><!-- fragment --></li>
<li>Install CooperHome to external storage (for example, SD card or network drive): <div class="fragment"><div class="line">board # ./cooper_home_install.sh -p /sdcard/mmcblk0p1/cooperhome</div>
</div><!-- fragment --></li>
<li>Install CooperHome to <code>tmp</code> folder: <div class="fragment"><div class="line">board # ./cooper_home_install.sh -p /tmp/cooperhome</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="cooperhome_lychee_installation"></a>
2.4 Install CooperHome on Lychee</h2>
<p >Follow the below instructions to install the CooperHome application on Lychee.</p>
<div class="fragment"><div class="line">lychee $ sudo dnf install cooper-home.noarch</div>
</div><!-- fragment --><p >Follow the below instructions to update the CooperHome application to the latest version.</p>
<div class="fragment"><div class="line">lychee $ sudo dnf update cooper-home.noarch</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="cooperhome_run"></a>
3. Run CooperHome</h1>
<h2><a class="anchor" id="cooperhome_run_amba_yocto"></a>
3.1 Run CooperHome on Amba-build or Yocto-build Firmware</h2>
<p >Follow the below instructions to run CooperHome server on the board, and view CooperHome pages on web browser.</p>
<ol type="1">
<li>Run the CooperHome application on the board. <div class="fragment"><div class="line">board # cooper_home_launch.sh</div>
</div><!-- fragment --></li>
<li>Open the CooperHome webpage in a PC browser with the EVK board IP address (such as 10.0.0.2) and port-5000 <code><a href="http://10.0.0.2:5000/">http://10.0.0.2:5000/</a></code></li>
</ol>
<h2><a class="anchor" id="cooperhome_run_lychee"></a>
3.2 Run CooperHome on Lychee</h2>
<p >Follow the below instructions to run CooperHome application on Lychee.</p>
<ol type="1">
<li>Open the Start Menu.</li>
<li>Search for Cooper Home application.</li>
<li>Click Cooper Home and Run.</li>
</ol>
<div class="image">
<img src="../../cooperhome_run_lychee.png" alt=""/>
<div class="caption">
Figure 3-1. Run CooperHome on Lychee.</div></div>
<hr  />
<h1><a class="anchor" id="cooperhome_pages"></a>
4. CooperHome Webpages</h1>
<div class="image">
<img src="../../cooperhome_logo.png" alt="" width="178" height="200"/>
<div class="caption">
Figure 4-1. CooperHome Main Logo.</div></div>
<h2><a class="anchor" id="cooperhome_dashboard_page"></a>
4.1 Dashboard</h2>
<p >The CooperHome dashboard page provides users with overview information and the status of both the Ambarella SoC and the EVK.</p>
<div class="image">
<img src="../../cooperhome_main.png" alt=""/>
<div class="caption">
Figure 4-2. CooperHome Dashboard Page.</div></div>
<h3><a class="anchor" id="cooperhome_dashboard_devinfo"></a>
4.1.1 Device Information</h3>
<p >The device information section provides an overview of the Ambarella device. It consists of five tabs: device, processor, memory, firmware, and clocks.</p>
<div class="image">
<img src="../../cooperhome_main_dev.png" alt="" width="1000"/>
<div class="caption">
Figure 4-3. CooperHome Dashboard Page - Device Info (Device).</div></div>
<div class="image">
<img src="../../cooperhome_main_processor.png" alt="" width="1000"/>
<div class="caption">
Figure 4-4. CooperHome Dashboard Page - Device Info (Processor).</div></div>
<div class="image">
<img src="../../cooperhome_main_memory.png" alt="" width="1000"/>
<div class="caption">
Figure 4-5. CooperHome Dashboard Page - Device Info (Memory).</div></div>
<div class="image">
<img src="../../cooperhome_main_firmware.png" alt="" width="1000"/>
<div class="caption">
Figure 4-6. CooperHome Dashboard Page - Device Info (Firmware).</div></div>
<div class="image">
<img src="../../cooperhome_main_clock.png" alt="" width="1000"/>
<div class="caption">
Figure 4-7. CooperHome Dashboard Page - Device Info (Clocks).</div></div>
<h3><a class="anchor" id="cooperhome_dashboard_cpustat"></a>
4.1.2 CPU Loading</h3>
<p >The CPU loading section shows the CPU loading percentage value for the past second; this value refreshes each second.</p>
<div class="image">
<img src="../../cooperhome_main_cpu.png" alt=""/>
<div class="caption">
Figure 4-8. CooperHome Dashboard Page - CPU Loading.</div></div>
<h3><a class="anchor" id="cooperhome_dashboard_cvflowstat"></a>
4.1.3 CVflow Loading</h3>
<p >The CVflow loading section shows the CVflow loading percentage value for the past second; this value refreshes each second.</p>
<div class="image">
<img src="../../cooperhome_main_cvflow.png" alt=""/>
<div class="caption">
Figure 4-9. CooperHome Dashboard Page - CVflow Loading.</div></div>
<h3><a class="anchor" id="cooperhome_dashboard_vininfo"></a>
4.1.4 Video Input Information</h3>
<p >The video input (VIN) information section shows a list of initialized sensor modules on the Ambarella device.</p>
<div class="image">
<img src="../../cooperhome_main_vin.png" alt=""/>
<div class="caption">
Figure 4-10. CooperHome Dashboard Page - VIN Info.</div></div>
<h3><a class="anchor" id="cooperhome_dashboard_streaminfo"></a>
4.1.5 Stream Information</h3>
<p >The stream information section shows a list of enabled streams on the Ambarella device.</p>
<div class="image">
<img src="../../cooperhome_main_vin.png" alt=""/>
<div class="caption">
Figure 4-11. CooperHome Dashboard Page - Stream Info.</div></div>
<h2><a class="anchor" id="cooperhome_startup_page"></a>
4.2 Startup</h2>
<p >The CooperHome startup page provides users with one-click operations to start tasks on CPU, DSP, and CVflow.</p>
<div class="image">
<img src="../../cooperhome_startup.png" alt=""/>
<div class="caption">
Figure 4-12. CooperHome Startup Page.</div></div>
<h3><a class="anchor" id="cooperhome_startup_cpu"></a>
4.2.1 CPU</h3>
<p >The CPU section allows users to enable dummy loading on CPU cores (<code>load50</code>), start DRAM memory test (<code>memtester-arm</code>) and start memory copy speed test (<code>test_memcpy</code>). These operations add load to CPU cores and/or DRAM read / write.</p>
<div class="image">
<img src="../../cooperhome_startup_cpu.png" alt=""/>
<div class="caption">
Figure 4-13. CooperHome Startup Page - CPU.</div></div>
<h2><a class="anchor" id="cooperhome_performance_page"></a>
4.3 Performance</h2>
<p >The CooperHome performance page provides users with performance profile features on the Ambarella SoC with the following six aspects.</p>
<div class="image">
<img src="../../cooperhome_performance.png" alt=""/>
<div class="caption">
Figure 4-14. CooperHome Peformance Page.</div></div>
<h3><a class="anchor" id="cooperhome_performance_drambw"></a>
4.3.1 DRAM Bandwidth</h3>
<p >The dynamic random-access memory (DRAM) bandwidth section includes a DRAM bandwidth diagram of the Ambarella device over the past hundreds of milliseconds. The samples are captured on the edge of each millisecond. After clicking the "Run" button, the application starts to capture the latest data and the diagram is refreshed. <br  />
 Other functions in this section are as follows:</p><ul>
<li>"Run" button: start profiling the DRAM bandwidth diagram<br  />
</li>
<li>"Save data" button: save DRAM bandwidth raw data<br  />
</li>
<li>"Save image" button: save the PNG image of the current DRAM bandwidth graph<br  />
</li>
<li>"Graph type" dropdown menu: select the graph type (line graph or stacked area graph)<br  />
</li>
<li>"Samples" dropdown menu: select the duration of the sample capture time</li>
</ul>
<div class="image">
<img src="../../cooperhome_performance_drambw.png" alt="" width="1000"/>
<div class="caption">
Figure 4-15. CooperHome Peformance Page - DRAM Bandwidth.</div></div>
<h3><a class="anchor" id="cooperhome_performance_itrp"></a>
4.3.2 Interrupts</h3>
<p >The interrupts section shows the increment values of interrupts in the Ambarella system during the selected period. The average, minimum, and maximum columns are accumulated values, starting from when the "Run" button is clicked, and they are reset when the "Stop" button is clicked.<br  />
</p><ul>
<li>"Run" button: start profiling system interrupts<br  />
</li>
<li>"Interval" dropdown menu: select the time of the increment values' duration</li>
</ul>
<div class="image">
<img src="../../cooperhome_performance_interrupt.png" alt="" width="1000"/>
<div class="caption">
Figure 4-16. CooperHome Peformance Page - System Interrupts.</div></div>
<h3><a class="anchor" id="cooperhome_performance_latency"></a>
4.3.3 Video Pipeline Analysis</h3>
<p >The video pipeline analysis section profiles the canvas, stream, and video output (VOUT) latencies for the running video pipeline. This section also shows the frame drop status in the top-right corner of the image digital signal processing (IDSP) and encoder blocks.<br  />
</p><ul>
<li>"Run" button: start profiling the video pipeline<br  />
</li>
<li>"Interval" dropdown menu: select the time of the latency values' duration</li>
</ul>
<div class="image">
<img src="../../cooperhome_performance_latency.png" alt="" width="1000"/>
<div class="caption">
Figure 4-17. CooperHome Peformance Page - Video Pipeline Analysis.</div></div>
<h3><a class="anchor" id="cooperhome_performance_cpuprofile"></a>
4.3.4 CPU Profile</h3>
<p >The CPU profile section evaluates the CPU core on the Ambarella SoC. The "Processes" tab shows the history diagram of CPU loading and memory use for each process. The "Resources" tab shows the overall CPU loading, memory use, and network throughput.<br  />
</p><ul>
<li>"Run" button: start to profile the CPU core</li>
</ul>
<div class="image">
<img src="../../cooperhome_performance_cpu_proc.png" alt="" width="1000"/>
<div class="caption">
Figure 4-18. CooperHome Peformance Page - CPU Profile (Processes).</div></div>
<div class="image">
<img src="../../cooperhome_performance_cpu_resource.png" alt="" width="1000"/>
<div class="caption">
Figure 4-19. CooperHome Peformance Page - CPU Profile (Resources).</div></div>
<h3><a class="anchor" id="cooperhome_performance_dspprofile"></a>
4.3.5 DSP Profile</h3>
<p >The DSP profile section evaluates the DSP core on the Ambarella SoC. The "Memory" tab shows memory useage of the DSP continuous memory allocator (CMA) partition(s).<br  />
</p><ul>
<li>"Run" button: start to profile the DSP core</li>
</ul>
<div class="image">
<img src="../../cooperhome_performance_dsp_mem.png" alt="" width="1000"/>
<div class="caption">
Figure 4-20. CooperHome Peformance Page - DSP Profile (Memory).</div></div>
<h3><a class="anchor" id="cooperhome_performance_cvflowprofile"></a>
4.3.6 CVflow Profile</h3>
<p >The CVflow profile section evaluates the CVflow core on the Ambarella SoC.</p><ul>
<li>"Run" button: start to profile the CVflow core</li>
<li>The "Memory" tab shows memory useage of the CVflow CMA partition. <div class="image">
<img src="../../cooperhome_performance_cvflow_mem.png" alt="" width="1000"/>
<div class="caption">
Figure 4-21. CooperHome Peformance Page - CVflow Profile (Memory).</div></div>
</li>
<li>The "Processes" tab shows the CVflow loading of CVflow processes. <div class="image">
<img src="../../cooperhome_performance_cvflow_proc.png" alt="" width="1000"/>
<div class="caption">
Figure 4-22. CooperHome Peformance Page - CVflow Profile (Processes).</div></div>
</li>
<li>For CV3x, the "Resources" tab shows the loading of multiple CVflow cores (NVP + GVP). <div class="image">
<img src="../../cooperhome_performance_cvflow_resource.png" alt="" width="1000"/>
<div class="caption">
Figure 4-23. CooperHome Peformance Page - CVflow Profile (Resources) for CV3 only.</div></div>
</li>
<li>The "Perfstat" tab shows the performance statistics of CVflow cores. <div class="image">
<img src="../../cooperhome_performance_cvflow_perfstat.png" alt="" width="1000"/>
<div class="caption">
Figure 4-24. CooperHome Peformance Page - CVflow Profile (Perfstat).</div></div>
</li>
</ul>
<h2><a class="anchor" id="cooperhome_iq_page"></a>
4.4 Image Quality</h2>
<p >The CooperHome image quality page provides users with image controls to Ambarella image process.</p>
<div class="image">
<img src="../../cooperhome_iq.png" alt=""/>
<div class="caption">
Figure 4-25. CooperHome Image Quality Page.</div></div>
<h3><a class="anchor" id="cooperhome_iq_info"></a>
4.4.1 Image Processs Information</h3>
<p >The image process information section provides the image process library version number, parameter file version number, and more.</p>
<h3><a class="anchor" id="cooperhome_iq_config"></a>
4.4.2 Image Process Configuration</h3>
<p >Image process configuration section provides the image control to individual channels. There are three type of controls (auto exposure, auto white balance and image adjustment) for the user. When entering the image quality page, the image process running at background will be killed, and the <code>/tmp/aaa_iq_config.lua</code> will be loaded if file exists. Otherwise, the default <code>/usr/share/ambarella/idsp/aaa_iq_config.lua</code> will be loaded. When leaving the image quality page, the original image process will be resumed.</p>
<ul>
<li>"Save" button: Save current settings to <code>/tmp/aaa_iq_config.lua</code></li>
</ul>
<h2><a class="anchor" id="cooperhome_gdc_page"></a>
4.5 Geometric Distortion Correction</h2>
<p >The CooperHome geometric distortion correction (GDC) page provides users with controls to Ambarella dewarp features through <code>test_ldc</code><a class="elRef" target="_blank" href="../../../video/de/d79/fs_adv_ldc.html">ADVANCED - Lens Distortion Correction</a>. Before tuning the geometric distortion, the DSP must be in preview state, and lens_warp of channel configuration must be enabled. After GDC tuning is complete, it will generate the configuration / warp table parameters located in <code>/tmp/ldc/</code>. These files can be used by "test_warp" to load a well-tuned combination.</p>
<div class="image">
<img src="../../cooperhome_gdc.png" alt=""/>
<div class="caption">
Figure 4-26. CooperHome Geometric Distortion Correction Page.</div></div>
<h3><a class="anchor" id="cooperhome_gdc_gen"></a>
4.5.1 General Configuration</h3>
<p >The general configuration section sets the channel ID to be tuned and the related lens parameters.</p>
<h3><a class="anchor" id="cooperhome_gdc_cm"></a>
4.5.2 Correction Mode Configuration</h3>
<p >The correction mode configuration section provides users with controls to follow correction modes.</p><ul>
<li>No Transform Rotation <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#no_transform_rotate">2.2 No Transform Rotate</a></li>
<li>Rectilinear <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_rectilinear">2.3 Wall Rectilinear</a></li>
<li>Horizontal Panorama <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_panorama">2.4 Wall Panorama</a></li>
<li>Cylinder <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_cylinder_panorama">2.4.1 General Cylindrical and Panorama</a></li>
<li>Mercator <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_mercator">2.4.2 Mercator</a></li>
<li>Equirectangular <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_equirectangular">2.4.3 Equirectangular</a></li>
<li>Squircular <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_squircular">2.4.4 Squircular</a></li>
<li>Vertical Panorama <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_vertical_panorama">2.5 Wall Vertical Panorama</a></li>
<li>Pannini <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_pannini">2.6 Wall Pannini</a></li>
<li>Pincushion <a class="elRef" target="_blank" href="../../../library/da/d8b/page_lib_dewarp_doc.html#wall_pincushion">2.7 Wall Pincushion</a></li>
</ul>
<h2><a class="anchor" id="cooperhome_vcap_page"></a>
4.6 Video Capture</h2>
<p >The CooperHome video capture page provides the capabilities to capture video outputs.</p>
<div class="image">
<img src="../../cooperhome_vcap.png" alt=""/>
<div class="caption">
Figure 4-27. CooperHome Video Capture Page.</div></div>
<h3><a class="anchor" id="cooperhome_vcap_livestream"></a>
4.6.1 Live stream</h3>
<p >The Livestream section streams the video in realtime given the selections of frame rate and source buffer.</p>
<div class="image">
<img src="../../cooperhome_vcap_livestream.png" alt=""/>
<div class="caption">
Figure 4-28. CooperHome Video Capture Page - Livestream.</div></div>
<h2><a class="anchor" id="cooperhome_about_page"></a>
4.7 About</h2>
<p >The CooperHome about page provides the descriptions and history updates of the application.</p>
<div class="image">
<img src="../../cooperhome_about.png" alt=""/>
<div class="caption">
Figure 4-29. CooperHome About Page.</div></div>
<hr  />
<h1><a class="anchor" id="cooperhome_prerequisite"></a>
5. CooperHome Prerequisite</h1>
<p >CooperHome server checks the running environment at startup. It requires the following environment to enable the full features of CooperHome. Otherwise, only subset of CooperHome features will be shown.</p>
<h2><a class="anchor" id="cooperhome_prerequisite_cl"></a>
5.1 Command Line</h2>
<ul>
<li>dmesg</li>
<li>top</li>
<li>df</li>
<li>ifconfig</li>
<li>lscpu</li>
<li>mpstat</li>
</ul>
<h2><a class="anchor" id="cooperhome_prerequisite_ev"></a>
5.2 Environment Variable</h2>
<ul>
<li>AMBARELLA_ARCH</li>
<li>SYS_BOARD_BSP</li>
<li>SYS_BOARD_VERSION</li>
</ul>
<h2><a class="anchor" id="cooperhome_prerequisite_drv"></a>
5.3 Driver</h2>
<ul>
<li>iav</li>
<li>cavalry</li>
<li>ambdram_statis</li>
</ul>
<h2><a class="anchor" id="cooperhome_prerequisite_ut"></a>
5.4 Unit Test</h2>
<ul>
<li>test_encode</li>
<li>test_aaa_service</li>
<li>cavalry_top</li>
<li>cavalry_log</li>
<li>ddrc_v2</li>
<li>dsp</li>
<li>[CV2x] test_dsp_pipeline_latency</li>
<li>test_ldc</li>
<li>jpg_http_stream</li>
<li>load50</li>
<li>test_memcpy</li>
<li>memtester-arm</li>
<li>dsplog_cap</li>
<li>cavalry_profile</li>
</ul>
<h2><a class="anchor" id="cooperhome_prerequisite_sysfs"></a>
5.5 System File</h2>
<ul>
<li>[CV5x/CV7x] /proc/ambarella/iav_audit</li>
<li>/proc/ambarella/cma</li>
<li>/proc/ambarella/cavalry_cma</li>
<li>/proc/ambarella/iav_mem</li>
<li>/proc/ambarella/clock</li>
<li>/proc/iomem</li>
<li>/proc/meminfo</li>
<li>/proc/mtd</li>
<li>/proc/version</li>
<li>/proc/mounts</li>
<li>/proc/dev/net</li>
<li>/proc/partitions</li>
</ul>
<hr  />
<h1><a class="anchor" id="cooperhome_license"></a>
6. License</h1>
<p >Copyright (c) 2024 Ambarella International LP.</p>
<p >This file and its contents ("Software") are protected by intellectual property rights including, without limitation, U.S. and/or foreign copyrights. This Software is also the confidential and proprietary information of Ambarella International LP and its licensors. You may not use, reproduce, disclose, distribute, modify, or otherwise prepare derivative works of this Software or any portion thereof except pursuant to a signed license agreement or nondisclosure agreement with Ambarella International LP or its authorized affiliates. In the absence of such an agreement, you agree to promptly notify and return this Software to Ambarella International LP.</p>
<p >This file includes sample code and is only for internal testing and evaluation. If you distribute this sample code (whether in source, object, or binary code form), it will be without any warranty or indemnity protection from Ambarella International LP or its affiliates.</p>
<p >THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
