<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>System: BASE - AMBoot</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="System"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">System<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d6/d3a/page_sysdoc_amboot_doc.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">BASE - AMBoot </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="amboot_doc_history"></a>
0. Revision History</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Library Version   </th><th class="markdownTableHeadLeft">Updated Date   </th><th class="markdownTableHeadLeft">Modification    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1.0.0   </td><td class="markdownTableBodyLeft">20201117   </td><td class="markdownTableBodyLeft">Initial draft   </td></tr>
</table>
<hr  />
 <h1><a class="anchor" id="amboot_doc_intro"></a>
1. AMBoot Documents Introduction</h1>
<p >There's a folder in SDK that contains AMBoot documents, which can help users to better understand related topic. They are located in <code>SDK/ambarella/amboot/doc</code>.</p><ol type="1">
<li><a href="../../txt/amrtos.txt" target="_blank"><b>amrtos.txt</b></a></li>
<li><a href="../../txt/boot_command.txt" target="_blank"><b>boot_command.txt</b></a></li>
<li><a href="../../txt/bstiniparser.txt" target="_blank"><b>bstiniparser.txt</b></a></li>
<li><a href="../../txt/dram_shmoo.txt" target="_blank"><b>dram_shmoo.txt</b></a></li>
<li><a href="../../txt/env.txt" target="_blank"><b>env.txt</b></a></li>
<li><a href="../../txt/flexible_firmware.txt" target="_blank"><b>flexible_firmware.txt</b></a></li>
<li><a href="../../txt/lfat.txt" target="_blank"><b>lfat.txt</b></a></li>
<li><a href="../../txt/mem_layout.txt" target="_blank"><b>mem_layout.txt</b></a></li>
<li><a href="../../txt/multi_bstini.txt" target="_blank"><b>multi_bstini.txt</b></a></li>
<li><a href="../../txt/ptb_backup.txt" target="_blank"><b>ptb_backup.txt</b></a></li>
<li><a href="../../txt/recovery.txt" target="_blank"><b>recovery.txt</b></a></li>
<li><a href="../../txt/sdmmc.txt" target="_blank"><b>sdmmc.txt</b></a></li>
<li><a href="../../txt/secure_boot.txt" target="_blank"><b>secure_boot.txt</b></a></li>
<li><a href="../../txt/stack_boot.txt" target="_blank"><b>stack_boot.txt</b></a></li>
</ol>
<h2><a class="anchor" id="amboot_mem"></a>
1.1 BST &amp; Memory Documents</h2>
<p >Below are some documents regarding different aspects of BST and system memory.</p>
<p ><a href="../../txt/bstiniparser.txt" target="_blank"><b>Bstiniparser.txt</b></a> introduces parameters needed in BST, dram parameters are important part of this document. If dram shmoo tool is needed, it is highly recommended to read this document before.</p>
<p ><a href="../../txt/dram_shmoo.txt" target="_blank"><b>Dram_shmoo.txt</b></a> introduces the usage of the tools to tune dram parameters in order to get a better and more stable dram performance. There are 2 tools acting for different roles: <b>dram_preliminary_shmoo</b> would give a parameters combination when system loading is relative low. <b>dram_advanced_shmoo</b> is trying to found a better parameters combination when system is in heavy loading status.</p>
<p >For some cases, one BST needs to support several sets of boot parameters so that a single BST can run on several different boards.<br  />
 <a href="../../txt/multi_bstini.txt" target="_blank"><b>Multi_bstini.txt</b></a> introduces how to configure single BST with multiple ini files.</p>
<h2><a class="anchor" id="amboot_amrtos"></a>
1.2 Amrtos Documents</h2>
<p >AMRTOS is a lite OS in Amboot. It supports mutiple threads, mutiple cores, spin lock, mutex, semaphore and event mechanism.<br  />
 <a href="../../txt/amrtos.txt" target="_blank"><b>Amrtos.txt</b></a> describes some details about AMRTOS. It is helpful for developer to program some software on it.</p>
<h2><a class="anchor" id="amboot_secure"></a>
1.3 Security Documents</h2>
<p >The Secure Boot is to authenticate the image of each booting stage, include BST, BL2, BL31, BL32(Optee) and BL33(Amboot).</p>
<p >The system with security feature is ususally divided into secure world and non-secure world. The Secure Device is protected from access by non-secure world. That is, once a device is configured as a secure device, kernel and application, which are in non-secure world, cannot directly access the registers belong to this secure device.</p>
<p ><a href="../../txt/secure_boot.txt" target="_blank"><b>Secure_boot.txt</b></a> introduces secure boot and secure devices.</p>
<p ><a href="../../txt/mem_layout.txt" target="_blank"><b>Mem_layout.txt</b></a> introduces memory layout with different arm_tf componets combinations:<br  />
 Amboot <br  />
 BL2 + BL31 + BL33(Amboot) <br  />
 BL2 + BL31 + BL33(Amboot) + Image Signature <br  />
 BL2 + BL31 + BL33(Amboot) + Image Signature + DTB Signature <br  />
 BL2 + BL31 + BL32 + BL33(Amboot) + Image Signature + DTB Signature <br  />
</p>
<p >For more details regarding security, uses can refer to <em>Ambarella Flexible Linux SDK Security</em> Documents.</p>
<h2><a class="anchor" id="amboot_fs"></a>
1.4 Storage &amp; File System Documents</h2>
<p >EVK boards usually set nand flash as default storage for binaries, but our system support eMMC as boot media. Spinor flash together with eMMC is also supported, which is callled stack mode.<br  />
 <a href="../../txt/sdmmc.txt" target="_blank"><b>Sdmmc.txt</b></a> introduces eMMC, SD card and SDIO controller.<br  />
 <a href="../../txt/stack_boot.txt" target="_blank"><b>Stack_boot.txt</b></a> introduces how to use this kind of storage solution.</p>
<p >Besides those partitions which save the system image,like BST, BLD, LNX, etc, there are some partitions acting different roles which can be chosen according to usage.<br  />
</p><ul>
<li>BAK partition is used for system recovery.</li>
<li>PTB partition is used to save PTB and second/backup PTB.</li>
<li>ENV partition is used to store environment variables used by Amboot. ENV partition need to work with flexible firmware layout.</li>
</ul>
<p ><a href="../../txt/recovery.txt" target="_blank"><b>Recovery.txt</b></a> introduces the recovery flow of SDK and usage of BAK partition.<br  />
 <a href="../../txt/ptb_backup.txt" target="_blank"><b>Ptb_backup.txt</b></a> introdcues the ptb backup mechanism in PTB partition.<br  />
 <a href="../../txt/env.txt" target="_blank"><b>Env.txt</b></a> introduces environment partition which is uesd to store environment variables used by Amboot.<br  />
</p>
<p >Traditional firmware layout consists of fixed partition combinations. It is not allowed to change or add partition. Flexible firmware is introduced to bring more flexibility into firmware layouts.<br  />
 <a href="../../txt/flexible_firmware.txt" target="_blank"><b>Flexible_firmware.txt</b></a> introduces this solution.<br  />
</p>
<p >LFAT means lightweight FAT file system. It is used as a read-only file system in Ambarella practice.<br  />
 <a href="../../txt/lfat.txt" target="_blank"><b>Lfat.txt</b></a> introduces usage of Lightweight FAT file system.</p>
<hr  />
 <h1><a class="anchor" id="amboot_doc_license"></a>
2. License</h1>
<p >Copyright (c) 2024 Ambarella International LP.</p>
<p >This file and its contents ( "Software" ) are protected by intellectual property rights including, without limitation, U.S. and/or foreign copyrights. This Software is also the confidential and proprietary information of Ambarella International LP and its licensors. You may not use, reproduce, disclose, distribute, modify, or otherwise prepare derivative works of this Software or any portion thereof except pursuant to a signed license agreement or nondisclosure agreement with Ambarella International LP or its authorized affiliates. In the absence of such an agreement, you agree to promptly notify and return this Software to Ambarella International LP.</p>
<p >THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
