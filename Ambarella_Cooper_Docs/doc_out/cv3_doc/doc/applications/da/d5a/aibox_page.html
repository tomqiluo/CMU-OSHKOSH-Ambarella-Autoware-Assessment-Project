<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Applications: AIbox Demo</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Applications"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Applications<span id="projectnumber">&#160;1.0.0 @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/d5a/aibox_page.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">AIbox Demo </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="aibox_history"></a>
0. Revision History</h1>
<a class="anchor" id="aibox_history_table"></a>
<table class="doxtable">
<caption></caption>
<tr>
<th>Updated Date </th><th align="left">Modification </th></tr>
<tr>
<td>20240112 </td><td>Initial Version </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="aibox_ov"></a>
1. Overview</h1>
<p >AIBox provides demos related to multi-media and machine learning processing, as well as demos illustrating the real-time streaming protocol, using the Ambarella platform. AIBox is located in the software development kit (SDK) under <code>ambarella/app/aibox</code>.<br  />
 The following applications are included in AIBox:</p><ul>
<li><b> multidec_vca: </b> used for multiple streams with RTSP + Demuxer + VideoDecoder (FFMpeg) + VideoFrameHook + DownScale + MachineLearning <br  />
</li>
<li><b> multidec_vca_sub: </b> subscribes the detected neural network (NN) results via CycloneDDS</li>
</ul>
<hr  />
<h1><a class="anchor" id="aibox_demo"></a>
2. Demo Application</h1>
<p >The Ambarella CV3x SDK includes many basic and advanced features, including popular computer vision (CV) and image processing algorithms that are implemented in order to reduce customer development costs. <br  />
 AIBox is a combination of features and CV algorithms provided in the CV3x SDK. Primary features include <code>lw_media</code>, used for multi-media processing; <code>cycloneDDS</code>, used for data distribution; <code><a class="elRef" href="../../../driver/de/db2/structcavalry__mem.html">cavalry_mem</a></code>, <code>NNCtrl</code>, and <code>VProc</code>, used for machine learning inference. For detailed information, refer to <a class="el" href="../../da/d5a/aibox_page.html#aibox_soft_design">Software Design</a>. <br  />
 Follow the steps below to build the environment and run the AIbox demo.</p>
<h2><a class="anchor" id="build_hardware_prepare"></a>
2.1 Hardware Preparation</h2>
<p >The following components are required.</p><ul>
<li>An CV3 system on chip (SoC)</li>
<li>A secure digital (SD) card <br  />
 The following are required for RTSP mode: <br  />
</li>
<li>Four RGB sensors (the following uses an <code>imx415_mipi</code> sensor as an example)</li>
<li>Four other boards, called <code>rtsp-boards</code>. Use CV2x, CV5x, or CV7x; they must run the RTSP server</li>
<li>A nine-port switch, or two switches. Ensure that the Ethernet port is &gt;=9 (1 for PC, 4 for CV3, 4 for <code>rtsp-boards</code>)</li>
</ul>
<h2><a class="anchor" id="build_firmware_prepare"></a>
2.2 Firmware Preparation</h2>
<h3><a class="anchor" id="build_firmware_cv3"></a>
2.2.1 Compile CV3 Firmware</h3>
<div class="fragment"><div class="line">cd $(SDK_PATH)/ambarella/boards/cv3_dk_mini</div>
<div class="line"><a class="code hl_variableRef" href="../../../video/d4/daa/vin__init_8c.html#a07a87b2e6ed927503e2f95f119c9fc23">source</a> build/env/amba-build.env cv3_dk_mini</div>
<div class="line">make ipcam_clusters_config</div>
<div class="ttc" id="avin__init_8c_html_a07a87b2e6ed927503e2f95f119c9fc23"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html#a07a87b2e6ed927503e2f95f119c9fc23">source</a></div><div class="ttdeci">int source</div></div>
</div><!-- fragment --><p >Select the following configurations: </p><div class="fragment"><div class="line">Main menu</div>
<div class="line">-&gt; app</div>
<div class="line">  -&gt; aibox</div>
<div class="line">    -&gt; [*] multidec-vca (app/aibox/multi_dec_vca)</div>
<div class="line">-&gt; board (boards) (CONFIG_BOARD [=<a class="code hl_variableRef" href="../../../driver/df/dc0/group__IAV.html#ga11e444dd61d48abbdd34eed23186cb4b">y</a>]</div>
<div class="line">  -&gt; Memory (256) DSP Shared Memory size in MB</div>
<div class="line">    (256) CV Shared Memory size in MB</div>
<div class="line">    (512) CV Private Memory size in MB for cluster 0</div>
<div class="line">    (512) CV Private Memory size in MB for cluster 1</div>
<div class="line">    (512) CV Private Memory size in MB for cluster 2</div>
<div class="line">    (512) CV Private Memory size in MB for cluster 3</div>
<div class="line">-&gt; boot</div>
<div class="line">  -&gt; amboot (boot/ambamk) (CONFIG_AMBOOT [=<a class="code hl_variableRef" href="../../../driver/df/dc0/group__IAV.html#ga11e444dd61d48abbdd34eed23186cb4b">y</a>])</div>
<div class="line">    -&gt; Ambarella Bootloader Configuration</div>
<div class="line">      -&gt;Board Revision (CV3_DK_MINI (128Gbit micron LPDDR5 @ 2808MHz))</div>
<div class="line">-&gt; prebuild</div>
<div class="line">  -&gt; internal_oss [*] prebuild-ffmpeg (prebuild/internal_oss/armv8-a/ffmpeg)</div>
<div class="line">-&gt; packages</div>
<div class="line">  -&gt; lw_media</div>
<div class="line">    -*- liblwmedia (packages/lw_media/source)</div>
<div class="line">      ---&gt; select all</div>
<div class="ttc" id="agroup__IAV_html_ga11e444dd61d48abbdd34eed23186cb4b"><div class="ttname"><a href="../../../driver/df/dc0/group__IAV.html#ga11e444dd61d48abbdd34eed23186cb4b">y</a></div><div class="ttdeci">u32 y</div></div>
</div><!-- fragment --><p >Then <code>make</code></p>
<h3><a class="anchor" id="build_firmware_rtsp"></a>
2.2.2 Compile RTSP-Boards Firmware</h3>
<p >Select a sensor driver on <code>ipcam_config</code> for the corresponding board firmware.</p>
<h3><a class="anchor" id="burn_firmware"></a>
2.2.3 Burn Firmware</h3>
<p ><b> a) </b> Prepare a TransFlash (TF) card to store the root file system (rootfs) in EXT4 format. <br  />
 The default setting for CV72 is <code>mkfs.ext4</code>; Ambarella recommends using this evaluation kit (EVK) for this step. Refer to the sample code below to format the TF card to EXT4.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># fdisk -l  </span><span class="comment">// Note: TF card device name will be effected by the hardware Slot. # mkfs.ext4 /dev/mmcblk1</span></div>
<div class="line"><span class="preprocessor"># mkfs.ext4 /dev/mmcblk1</span></div>
<div class="line"><span class="preprocessor"># umount /sdcard/mmcblk1  </span><span class="comment">//Due to after format tf card, it will mount by default. This steps is necessary.</span></div>
<div class="line"><span class="preprocessor"># fdisk /dev/mmcblk</span></div>
<div class="line">---&gt; p <span class="comment">// print current status</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//Created a new partition 1 of type &#39;Linux&#39; and of size 5 GiB.</span></div>
<div class="line">---&gt; n <span class="comment">// create new partition</span></div>
<div class="line">  ---&gt; p <span class="comment">// select (default p) &lt;br&gt;</span></div>
<div class="line">         Partition <a class="code hl_variableRef" href="../../../library/d1/d82/cJSON_8h.html#a01b4671c6b7cc8f831c951c000a37735">number</a> (1-4, <span class="keywordflow">default</span> 1): type-in 1 &lt;br&gt;</div>
<div class="line">         First sector (2048-121534463, default 2048): type-in <span class="stringliteral">&quot;enter&quot;</span> button <span class="comment">//use default setting &lt;br&gt;</span></div>
<div class="line">         Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-121534463, default 121534463): type-in +5G &lt;br&gt;</div>
<div class="line"> </div>
<div class="line">---&gt; n <span class="comment">// create new partition 2</span></div>
<div class="line">  ---&gt; p <span class="comment">// Select (default p)</span></div>
<div class="line">         Partition <a class="code hl_variableRef" href="../../../library/d1/d82/cJSON_8h.html#a01b4671c6b7cc8f831c951c000a37735">number</a> (2-4, default 2): type-in  <span class="stringliteral">&quot;enter&quot;</span> button</div>
<div class="line">         First sector (10487808-62333951, default 10487808): type-in <span class="stringliteral">&quot;enter&quot;</span> button <span class="comment">//use default setting</span></div>
<div class="line">         Last sector, +/-sectors or +/-size{K,M,G,T,P} (10487808-62333951, default 62333951): type-in  <span class="stringliteral">&quot;enter&quot;</span> button <span class="comment">//use default setting</span></div>
<div class="line"> </div>
<div class="line">---&gt; w</div>
<div class="line">  The partition table has been altered.</div>
<div class="line">  ailed to add partition 1 to system: Invalid argument</div>
<div class="line">  Failed to add partition 2 to system: Invalid argument</div>
<div class="line">  The kernel still uses the old partitions. The new table will be used at the next reboot. Syncing disks.</div>
<div class="line"> </div>
<div class="line"># reboot <span class="comment">// This step must execute. the above setting will be effect after reboot.</span></div>
<div class="line"> </div>
<div class="line"># fdisk -l <span class="comment">//check partition</span></div>
<div class="line">      Device  Boot  Start  End Sectors Size Id Type</div>
<div class="line">      /dev/mmcblk1p1 2048 10487807 10485760 5G 83 Linux</div>
<div class="line">      /dev/mmcblk1p2 10487808 31291391 20803584 9.9G 83 Linux</div>
<div class="ttc" id="acJSON_8h_html_a01b4671c6b7cc8f831c951c000a37735"><div class="ttname"><a href="../../../library/d1/d82/cJSON_8h.html#a01b4671c6b7cc8f831c951c000a37735">number</a></div><div class="ttdeci">const char *const const double number</div></div>
</div><!-- fragment --><p ><b> b) </b> Create Rootfs <br  />
 <code>Rootfs.ex4</code> location: <code>/sdk_path/out/amba_out/cv3_dk_mini/images/rootfs.ext4</code>. Copy <code>rootfs.ext4</code> to EVK, the path is under: <code>/tmp</code> </p><div class="fragment"><div class="line"><span class="preprocessor"># dd if=/tmp/new/rootfs.ext4 of=/dev/mmcblk0p1 &amp;&amp; sync &amp;&amp; dd if=/tmp/new/rootfs.ext4 of=/dev/mmcblk0p2</span></div>
</div><!-- fragment --><p ><b> c) </b> Burn the firmware via AmbaUSB <br  />
 The firmware path is: <code>/sdk_path/ambarella/out/amba_out/cv3_dk_mini/firmware/bst_bld_env_dtb_kernel.elf</code> <br  />
 Insert the SD card into CV3 and reboot; CV3 can then use multiple clusters.<br  />
 The IP for cluster0 is 10.0.0.2, 10.0.0.3 for cluster1, 10.0.0.4 for cluster2, and 10.0.0.5 for cluster3. <br  />
</p>
<h3><a class="anchor" id="set_ip_rtsp"></a>
2.2.4 Set Up IP Address on RTSP Board</h3>
<p >Use the method below to set the IP address for the four <code>rtsp-boards</code> to: 10.0.0.6, 10.0.0.7, 10.0.0.8, 10.0.0.9. </p><div class="fragment"><div class="line">vi /etc/network/interfaces</div>
<div class="line">change <span class="stringliteral">&quot;address 10.0.0.2&quot;</span> to <span class="stringliteral">&quot;address 10.0.0.6&quot;</span></div>
<div class="line">reboot</div>
</div><!-- fragment --><h2><a class="anchor" id="run_demo"></a>
2.5 Run Beetle Demo</h2>
<p >The following prepared files must be copied to the EVK board: <br  />
</p><ul>
<li>Configured files for multi pipelines, such as <code>/ambarella/app/aibox/conf/ffmpeg_decoder_16c_rtsp_yolov5s.lc</code>; copy the files to <code>/tmp/</code> on the board</li>
<li>Tested NN models for machine learning, such as <code>yolov5s</code> model; copy the files to <code>/tmp/</code> on the board</li>
<li>Media files for file mode, such as <code>h264 es</code>; copy the files to <code>/tmp/</code> on the board</li>
</ul>
<p >For RTSP scenarios, connect CV3 and the four <code>rtsp-boards</code> (with RGB sensors) via an nine-port switch. Ensure that the hardware components can communicate with one another.</p>
<p ><b> Debug and set up the log level of the pipeline using either of the following methods: </b> <br  />
 There are two methods to set up the loglevel of pipeline.</p><ul>
<li>Add <code>--loglevel x</code>: <code>multidec_vca /tmp/ffmpeg_decoder_9c_rtsp.lc &lt;b&gt; --loglevel &lt;/b&gt; 7</code></li>
<li>Modify <code>log_level = x</code> in the .lc file</li>
</ul>
<h3><a class="anchor" id="test_rtsp"></a>
2.3.1 Test RTSP</h3>
<p >The following case demonstrates testing and validation for RTSP + Demuxer + VideoDecoder (FFMpeg) + VideoFrameHook, with nine streams on each cluster.</p><ol type="1">
<li>Run <code>rtsp_server</code> on <code>rtsp-boards</code>. <div class="fragment"><div class="line"> <span class="comment">// run below cmds on each rtsp-boards, the sensor is example of imx415_mipi</span></div>
<div class="line">init.sh --na; modprobe imx415_mipi vinc_id=8</div>
<div class="line">test_aaa_service -a &amp;</div>
<div class="line">test_encode --resource-cfg /usr/share/ambarella/lua_scripts/ cv72_vin0_1080p_linear.lua --vout-cfg /usr/share/ambarella/lua_scripts/ vout_hdmi_720p.lua</div>
<div class="line">rtsp_server &amp;</div>
<div class="line">test_encode -A -h1080p -e --bitrate 2000000</div>
</div><!-- fragment --></li>
<li>Simultaneously run AIBox on each CV3 cluster. <div class="fragment"><div class="line"><span class="comment">// cluster 0: (10.0.0.2)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_9c_rtsp.lc <span class="comment">//set all ve_input_file = rtsp://10.0.0.6/stream1</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 9</div>
<div class="line"> </div>
<div class="line"><span class="comment">// cluster 1: (10.0.0.3)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_9c_rtsp.lc <span class="comment">//set all ve_input_file = rtsp://10.0.0.7/stream1</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 9</div>
<div class="line"> </div>
<div class="line"><span class="comment">// cluster 2: (10.0.0.4)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_9c_rtsp.lc <span class="comment">//set all ve_input_file = rtsp://10.0.0.8/stream1</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 9</div>
<div class="line"> </div>
<div class="line"><span class="comment">// cluster 3: (10.0.0.5)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_9c_rtsp.lc <span class="comment">//set all ve_input_file = rtsp://10.0.0.9/stream1</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 9</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="test_filesrc"></a>
2.3.2 Test Filesrc</h3>
<p >The following case tests and validates Filesrc + Demuxer + VideoDecoder(FFMpeg) + VideoFrameHook, with 16 streams on each cluster. </p><div class="fragment"><div class="line"><span class="comment">// if input es, setup &quot;demuxer_es = 1&quot; in lc; if input mp4, setup &quot;demuxer_mp4 = 1&quot; in lc.</span></div>
<div class="line"><span class="comment">// running on cluster 0(10.0.0.2)/1(10.0.0.3)/2(10.0.0.4)/3(10.0.0.5) at the same time</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_16c_filesrc_dec.lc <span class="comment">// ensure ve_input_file = /tmp/your_media_file</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 16</div>
</div><!-- fragment --><h3><a class="anchor" id="test_rtsp_ds_ml"></a>
2.3.2 Test RTSP with Downscale and Machine Learning</h3>
<p >The following case demonstrates testing and validation for RTSP + Demuxer + VideoDecoder (FFMpeg) + VideoFrameHook + DownScale + MachineLearning, with eight streams on cluster0.</p>
<div class="fragment"><div class="line"><span class="comment">// on cluster 0: (10.0.0.2)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_8c_rtsp_yolov5s.lc <span class="comment">//set all ve_input_file = rtsp://10.0.0.6/stream1</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 8</div>
</div><!-- fragment --><h3><a class="anchor" id="test_filesrc_ds_ml"></a>
2.3.2 Test Filesrc with Downscale and Machine Learning</h3>
<p >The following case demonstrates testing and validation for Filesrc + Demuxer + VideoDecoder (FFMpeg) + VideoFrameHook + DownScale + MachineLearning, with 16 streams on cluster0. </p><div class="fragment"><div class="line"><span class="comment">// if input es, setup &quot;demuxer_es = 1&quot; in lc; if input mp4, setup &quot;demuxer_mp4 = 1&quot; in lc.</span></div>
<div class="line"><span class="comment">// on cluster 0: (10.0.0.2)</span></div>
<div class="line">multidec_vca /tmp/ffmpeg_decoder_16c_filesrc_yolov5s.lc <span class="comment">// ensure ve_input_file = /tmp/your_media_file</span></div>
<div class="line">(<span class="keyword">new</span> console) multidec_vca_sub --stream_num 16</div>
</div><!-- fragment --><p ><b> * Note the following known issues: </b> <br  />
</p><ul>
<li>Setup for image audio video (IAV) and Cavalry is not currently supported on cluster 1/2/3</li>
<li>Set up <code>enable_scale_conversion = 0</code> and <code>enable_nn_inference = 0</code> in the .lc files before running on cluster 1/2/3</li>
<li>Do not attempt to run an NN on cluster 1/2/3</li>
</ul>
<hr  />
 <h1><a class="anchor" id="aibox_hw_design"></a>
3. Hardware Design</h1>
<p >In the RTSP mode application, there is one <code>rtsp-board</code> with an RGB camera. This <code>rtsp-board</code> sens out video data via Ethernet from the RGB camera to CV3. Ambarella recommends using one board per stream to prevent lags in data flow. <br  />
</p>
<p >In filesrc mode, the local media file is decoded and fed into <code>lw_media</code>, rather than captured from the camera in RTSP mode. <br  />
</p>
<p >In the output stage, the CV3x board outputs the video stream to a high definition multi-media interface (HDMIÂ®) monitor. <br  />
</p>
<p ><b> * </b> The display module is not yet prepared.</p>
<p >Refer to Figure 3-1 below for the hardware design. </p><div class="image">
<img src="../../aibox_hw_design.JPG" alt=""/>
<div class="caption">
Figure 3-1. AIbox Hardware Design.</div></div>
<p> <br  />
</p>
<hr  />
 <h1><a class="anchor" id="aibox_soft_design"></a>
4. Software Design</h1>
<p >Figure 4-1 below is a schematic diagram of the AIBox pipeline for this application. </p><div class="image">
<img src="../../aibox_sw_design.JPG" alt=""/>
<div class="caption">
Figure 4-1. AIbox Pipeline.</div></div>
<p >In RTSP mode, the video inputs (VINs) compare video previews from RGB cameras, which are concatenated on a canvas by the image digital signal processor (IDSP) and displayed on the HDMI video output (VOUT). The <code>lw_media</code> captures YUV data from the RTSP stream and feeds it to the machine learning inference (mlinference) return bounding box for each YUV. The data is then published to the renderer via CyberRT. Finally, the renderer draws the bounding box, overlapping the video preview. In filesrc mode, the media file is decoded and fed into <code>lw_media</code>, and mlinference obtains the YUV data from files rather than the RTSP stream.</p>
<p >Figure 4-2 below demonstrates the software stack of the AIBox demo. </p><div class="image">
<img src="../../aibox_sw_stack_diagram.JPG" alt=""/>
<div class="caption">
Figure 4-2. AIbox Software Stack Diagram.</div></div>
<p >The four main AIBox modules are the multi-media processing, mlinference, data distribution, and renderer modules. Multi-media processing is dependent upon <code>lw_media</code>, invoking FFMpeg to achieve this feature. Mlinference, which returns bounding boxes from the YUV data, depends on <code><a class="elRef" href="../../../driver/de/db2/structcavalry__mem.html">cavalry_mem</a></code>, neural network control (NNCtrl), and the VProc library. The data distribution module depends on CycloneDDS, which publishes the bounding box to the renderer. Finally, the renderer module draws the bounding box overlapping the VOUT. <br  />
 <b> * </b> The renderer module is not yet prepared.</p>
<hr  />
 <h1><a class="anchor" id="aibox_performance"></a>
5. Performance</h1>
<hr  />
 <h1><a class="anchor" id="aibox_license"></a>
6. License</h1>
<p >Copyright (c) 2024 Ambarella International LP.</p>
<p >This file and its contents ("Software") are protected by intellectual property rights including, without limitation, U.S. and/or foreign copyrights. This Software is also the confidential and proprietary information of Ambarella International LP and its licensors. You may not use, reproduce, disclose, distribute, modify, or otherwise prepare derivative works of this Software or any portion thereof except pursuant to a signed license agreement or nondisclosure agreement with Ambarella International LP or its authorized affiliates. In the absence of such an agreement, you agree to promptly notify and return this Software to Ambarella International LP.</p>
<p >THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
