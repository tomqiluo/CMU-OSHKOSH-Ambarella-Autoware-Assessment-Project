<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Peripherals: File System</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Peripherals"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Peripherals<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d64/si_fs.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">File System </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="fs_ubi"></a>
1. UBIFS (Recommended)</h1>
<p >Unsorted block image (UBI) file system (UBIFS) is a successor to JFFS2. UBIFS functions with a UBI device, which itself is on top of a memory technology device (MTD). This means that with UBIFS, MTD is not used directly.<br  />
 There are two major advantages to using UBIFS rather than JFFS2:</p><ul>
<li>UBIFS supports write caching and tolerates unclean reboots</li>
<li>UBIFS tends to perform better with fast input / output (I/O) and fast mount, when compared to JFFS2 for large NAND flash devices<br  />
</li>
</ul>
<p >For more information about UBIFS, refer to the following links:<br  />
 <b><a href="http://www.linux-mtd.infradead.org/doc/ubifs.html">http://www.linux-mtd.infradead.org/doc/ubifs.html</a> </b><br  />
 <b><a href="http://www.linux-mtd.infradead.org/faq/ubifs.html">http://www.linux-mtd.infradead.org/faq/ubifs.html</a> </b><br  />
 For more information about UBI, refer to the links below:<br  />
 <b><a href="http://www.linux-mtd.infradead.org/doc/ubi.html">http://www.linux-mtd.infradead.org/doc/ubi.html</a> </b><br  />
 <b><a href="http://www.linux-mtd.infradead.org/faq/ubi.html">http://www.linux-mtd.infradead.org/faq/ubi.html</a> </b><br  />
</p>
<h2><a class="anchor" id="ubi_rootfs"></a>
1.1 Use UBIFS as Rootfs</h2>
<p >Ambarella recommends using UBIFS as the default root file system (rootfs) in the software development kit (SDK).<br  />
</p>
<dl class="section user"><dt>Execute the following command for CV2x SDK 3.0 Amba Build:</dt><dd><div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --></dd></dl>
<ul>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Common Boot Options &gt; () Booting cmdline<br  />
 (<code>console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc&lt;/em&gt;</code>) can be an input for this configuration. It will be brought into effect as an alternative to the boot arguments (bootargs) defined in device trees (DTS). If this configuration is left blank, the bootargs in DTS will function.</li>
<li>By default, boot arguments are defined in the DTS file:<br  />
 <code>ambarella/boards/cvx_board/bsp/cvx_board.dts.</code> bootargs = "console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc"</li>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Linux Partition &gt; <div class="fragment"><div class="line">($(AMB_BOARD_OUT)/ubifs) Linux FS image</div>
<div class="line">($(AMBABUILD_TOPDIR)/amboot/vif/ubifs.info) Linux FS Version File</div>
</div><!-- fragment --></li>
<li>Ambarella File System Configuration &gt; Linux Root File System &gt; (X) UBIFS<br  />
 Execute the following command: <div class="fragment"><div class="line">build $ make menuconfig_public_linux</div>
<div class="line">Device Drivers &gt;</div>
<div class="line">  Memory Technology Device (MTD) support &gt;</div>
<div class="line">      &lt;*&gt; Enable UBI - Unsorted block images</div>
<div class="line">File Systems &gt;</div>
<div class="line">  [*] Miscellaneous filesystems &gt;</div>
<div class="line">      &lt;*&gt; UBIFS file system support</div>
</div><!-- fragment --> Execute the following command: <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --></li>
</ul>
<dl class="section user"><dt>Execute the following command for Cooper SDK Amba build:</dt><dd></dd></dl>
<div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --><ul>
<li>boot (boot) &gt; Bootloader &gt; Ambarella Firmware Configuration &gt; AMBoot Options &gt; Common Boot Options &gt; () Booting cmdline<br  />
 (<code>console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc&lt;/em&gt;</code>) can be input to this configuration. It will be brought into effect, rather than the bootargs defined in DTS. If this configuration is left blank, the bootargs in DTS will function.</li>
<li>By default, boot arguments are defined in the DTS file:<br  />
 <code>ambarella/boards/cvx_board/bsp/cvx_board.dts.</code> bootargs = "console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc"</li>
<li><p class="startli">boot (boot) &gt; Bootloader &gt; Ambarella Firmware Configuration &gt; Firmware Options &gt; Linux Partition &gt; </p><div class="fragment"><div class="line">($(ENV_IMG_ROOT)/rootfs.ubi) Linux FS image</div>
<div class="line">($(AMBOOT_TOPDIR)/vif/ubifs.info) Linux FS Version File</div>
</div><!-- fragment --><div class="fragment"><div class="line">build $make menuconfig</div>
</div><!-- fragment --></li>
<li>rootfs &gt; rootfs (rootfs/system) &gt; Linux Root File System (UBIFS) &gt; Execute the following command: <div class="fragment"><div class="line">build $ make linux_menuconfig</div>
<div class="line">Device Drivers &gt;</div>
<div class="line">  Memory Technology Device (MTD) support &gt;</div>
<div class="line">      &lt;*&gt; Enable UBI - Unsorted block images</div>
<div class="line">File Systems &gt;</div>
<div class="line">  [*] Miscellaneous filesystems &gt;</div>
<div class="line">      &lt;*&gt; UBIFS file system support</div>
</div><!-- fragment --> Execute the following command: <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --></li>
</ul>
<dl class="section user"><dt>Execute the following command for Cooper SDK Yocto build:</dt><dd></dd></dl>
<div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --><ul>
<li>meta-ambabsp &gt; recipes-bsp &gt; boot (meta-ambabsp/recipes-bsp/boot) &gt; Bootloader &gt; Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Common Boot Options &gt; () Booting cmdline<br  />
 (<code>console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc&lt;/em&gt;</code>) can be input to this configuration. It will be brought into effect, rather than the bootargs defined in DTS. If this configuration is left blank, the bootargs in DTS will function.</li>
<li>By default, boot arguments are defined in the DTS file:<br  />
 <code>ambarella/boards/cvx_board/bsp/cvx_board.dts.</code> bootargs = "console=ttyS0 ubi.mtd=lnx root=ubi0:rootfs rw rootfstype=ubifs init=/linuxrc"</li>
<li><p class="startli">meta-ambabsp &gt; recipes-bsp &gt; boot (meta-ambabsp/recipes-bsp/boot) &gt; Bootloader &gt; Ambarella Firmware Configuration &gt; Firmware Options &gt; Linux Partition &gt; </p><div class="fragment"><div class="line">($(ENV_IMG_ROOT)/rootfs.ubi) Linux FS image</div>
<div class="line">($(AMBOOT_TOPDIR)/vif/ubifs.info) Linux FS Version File</div>
</div><!-- fragment --><div class="fragment"><div class="line">build $make menuconfig</div>
</div><!-- fragment --></li>
<li>meta-ambabsp &gt; recipes-bsp &gt; [*] amrootfs (meta-ambabsp/recipes-bsp)/amrootfs &gt; Linux Root File System (UBIFS) &gt; Execute the following command. <div class="fragment"><div class="line">build $ make linux_menuconfig</div>
<div class="line">Device Drivers &gt;</div>
<div class="line">  Memory Technology Device (MTD) support &gt;</div>
<div class="line">      &lt;*&gt; Enable UBI - Unsorted block images</div>
<div class="line">File Systems &gt;</div>
<div class="line">  [*] Miscellaneous filesystems &gt;</div>
<div class="line">      &lt;*&gt; UBIFS file system support</div>
</div><!-- fragment --> Execute the following command: <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="ubi_test"></a>
1.2 Test UBIFS</h2>
<p ><b>UBI utils</b> is compiled from the mtd-utils project (<a href="http://elinux.org/CompilingMTDUtils">http://elinux.org/CompilingMTDUtils</a>).</p>
<ol type="1">
<li>Execute the following command. <div class="fragment"><div class="line">build $ make menuconfig</div>
<div class="line">Ambarella File System Configuration &gt;</div>
<div class="line">    Third Party Software / Libraries &gt;</div>
<div class="line">    Filesystem Tools &gt;</div>
<div class="line">        [*] Add ubi tools into root_fs</div>
<div class="line">Ambarella Unit Test Configuration &gt;</div>
<div class="line">    Ambarella Public Linux Unit test configs &gt;</div>
<div class="line">    [*] Build Ambarella Public Linux Flash FS unit tests</div>
</div><!-- fragment --></li>
</ol>
<div class="fragment"><div class="line">build $ make menuconfig</div>
<div class="line">Ambarella File System Configuration &gt;</div>
<div class="line"> Third Party Software / Libraries &gt;</div>
<div class="line">    Filesystem Tools &gt;</div>
<div class="line">        [*] Add ubi tools into root_fs</div>
<div class="line">Ambarella Unit Test Configuration &gt;</div>
<div class="line"> Ambarella Public Linux Unit test configs &gt;</div>
<div class="line">    [*] Build Ambarella Public Linux Flash FS unit tests</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The following steps must be performed on a partition that does not include critical system information. To determine the current partition on the board, use <code>cat /proc/mtd</code>. The size of this partition must be larger than 20 MB.</dd></dl>
<ol type="1">
<li>If this is the first time using the UBIFS partition (such as MTD6), the following procedure is required: <div class="fragment"><div class="line">board # flash_eraseall /dev/mtd6</div>
<div class="line">board # ubiattach /dev/ubi_ctrl -m 6</div>
<div class="line">board # ubimkvol /dev/ubi1 -s 20000000 -N usr_a</div>
</div><!-- fragment --> (usr_a and usr_b are volume names) <div class="fragment"><div class="line">boadr # mkdir /tmp/ubi_v</div>
<div class="line">board # mount -t ubifs ubi1_0 /tmp/ubi_v</div>
</div><!-- fragment --> Copy a file to the UBIFS directory. <div class="fragment"><div class="line">board # umount /tmp/ubi_v</div>
<div class="line">board # reboot</div>
</div><!-- fragment --></li>
<li>After the board reboots: <div class="fragment"><div class="line">board # ubiattach /dev/ubi_ctrl -m 6</div>
<div class="line">board # ubinfo -a</div>
<div class="line">board # mkdir /tmp/ubi_v</div>
<div class="line">board # mount -t ubifs ubi1_0 /tmp/ubi_v</div>
<div class="line">board # ls /tmp/ubi_v -la</div>
</div><!-- fragment --></li>
<li>Test UBIFS. <div class="fragment"><div class="line">board # touch /tmp/ubi_v/ubi_tmp_file</div>
<div class="line">board # test_ffs /tmp/ubi_v/ubi_tmp_file</div>
<div class="line"><span class="preprocessor"># test_ffs</span></div>
<div class="line"><span class="keywordflow">default</span> to read file /tmp/ubi_v/ubi_tmp_file</div>
<div class="line">start time      [946686070s:126607us]</div>
<div class="line">end time        [946686070s:129973us]</div>
<div class="line">spend [3366us] to read 0 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a> data</div>
<div class="line">flash fs read speed is 0.000000 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a>/s</div>
<div class="line">start time      [946686070s:139273us]</div>
<div class="line">end time        [946686072s:159527us]</div>
<div class="line">spend [2020254us] to write 16 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a> data</div>
<div class="line">flash fs write speed is 7.919796 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a>/s</div>
<div class="ttc" id="aiav__utils_8h_html_aa6b38d492364d98453284934ed7caee9"><div class="ttname"><a href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a></div><div class="ttdeci">#define MB</div></div>
</div><!-- fragment --></li>
</ol>
<dl class="section note"><dt>Note</dt><dd>Because the file is buffered in memory after the test, reboot before any additional round of testing.</dd></dl>
<hr  />
<h1><a class="anchor" id="fs_jffs"></a>
2. JFFS2</h1>
<p >Journalling flash file system version 2 (JFFS2) is a log-structured file system for use with flash memory devices. Rather than using a type of translation layer on flash devices to emulate a normal hard drive, it places the file system directly on the flash chips.<br  />
 The latest JFFS2 code can be found at <a href="http://www.jffs.net/">http://www.jffs.net/</a>.</p>
<h2><a class="anchor" id="use_jffs2_as_rootfs"></a>
2.1 Use JFFS2 as Rootfs</h2>
<ol type="1">
<li>Execute the following command. <div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --><ul>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Common Boot Options &gt; () Boot cmdline <div class="fragment"><div class="line">(console=ttyS0 root=/dev/mtdblock7 rw rootfstype=jffs2 init=/linuxrc) can be input into <span class="keyword">this</span> config,</div>
<div class="line">and will be brought into effect, rather than the bootargs defined in DTS.</div>
<div class="line">If <span class="keyword">this</span> config is left blank, the bootargs in DTS will become effective.</div>
<div class="line">root=/dev/mtdblock7 depends on the system.</div>
<div class="line">To find out the current Linux partition on the board, use cat /proc/mtd.</div>
</div><!-- fragment --></li>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Linux Partition &gt; <div class="fragment"><div class="line">($(AMB_BOARD_OUT)/rootfs/jffs2) Linux FS image</div>
<div class="line">($(AMBABUILD_TOPDIR)/amboot/vif/jffs2.info) Linux FS Version File</div>
</div><!-- fragment --></li>
<li>Ambarella File System Configuration &gt; Linux Root File System &gt; (X) JFFS2</li>
</ul>
</li>
<li>Execute the following command. <div class="fragment"><div class="line">build $ make defconfig_public_linux</div>
<div class="line">build $ make menuconfig_public_linux</div>
<div class="line">File systems &gt;</div>
<div class="line">   [*] Miscellaneous filesystems &gt;</div>
<div class="line">      &lt;*&gt; Journalling Flash File System v2</div>
<div class="line">          (JFFS2) support</div>
</div><!-- fragment --></li>
<li>Execute the following command. <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="test_jffs2"></a>
2.2 Test JFFS2</h2>
<ol type="1">
<li><p class="startli">If this is the first time that the JFFS2 partition (such as MTD6) is used, the following procedure is required. </p><div class="fragment"><div class="line">board # flash_eraseall /dev/mtd6</div>
<div class="line">board # mkdir /mnt/ffs/</div>
<div class="line">board # mount -t jffs2 /dev/mtdblock6 /mnt/ffs/</div>
</div><!-- fragment --><p class="startli">Copy the file to the JFFS2 directory. </p><div class="fragment"><div class="line">board # umount /mnt/ffs/</div>
<div class="line">board # reboot</div>
</div><!-- fragment --></li>
<li>After the board reboots: <div class="fragment"><div class="line">board # mkdir /mnt/ffs/</div>
<div class="line">board # mount -t jffs2 /dev/mtdblock6 /mnt/ffs/</div>
<div class="line">board # ls /mnt/ffs/ -la</div>
</div><!-- fragment --></li>
<li>Test JFFS2. <div class="fragment"><div class="line">board # touch /mnt/ffs/jffs2</div>
<div class="line">board # test_ffs /mnt/ffs/jffs2</div>
<div class="line">start time [946684933s:925416us]</div>
<div class="line">end time [946684933s:927988us]</div>
<div class="line">spend [2572us] to read 0 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a> data</div>
<div class="line">flash fs read speed is 0.000000 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a>/s</div>
<div class="line">start time [946684933s:937284us]</div>
<div class="line">end time [946684937s:554533us]</div>
<div class="line">spend [3617249us] to write 16 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a> data</div>
<div class="line">flash fs write speed is 4.423251 <a class="code hl_defineRef" href="../../../driver/d6/d56/iav__utils_8h.html#aa6b38d492364d98453284934ed7caee9">MB</a>/s</div>
</div><!-- fragment --></li>
</ol>
<dl class="section note"><dt>Note</dt><dd>The file is buffered in memory after the test; reboot before another round of testing is performed.</dd></dl>
<hr  />
<h1><a class="anchor" id="fs_ext4"></a>
3. Ext4</h1>
<p >Ext4 is the latest generation of the Ext3 file system. Unlike the upgrade from Ext2 to the Ext3 file system, the on-disk format of Ext4 is not forward-compatible with Ext3, as it is based on extent maps and supports 48-bit physical block numbers. Ext4 supports delayed allocation, persistent pre-allocation, high-resolution time stamps, and a number of other features that improve the performance and speed of FSCK time.<br  />
 For more information, refer to the web page <a href="http://ext4.wiki.kernel.org">http://ext4.wiki.kernel.org</a>.</p>
<h2><a class="anchor" id="use_ext4_as_rootfs"></a>
3.1 Use Ext4 as Rootfs</h2>
<p >Ambarella recommends using the Ext4 file system with embedded multi-media card / controller (eMMC) flash.</p>
<ol type="1">
<li>Execute the following command. <div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --><ul>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Boot Media (Boot From eMMC)</li>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Common Boot Options &gt; (console=ttyS0 noinitrd root=/dev/mmcblk0p7 rw rootfstype=ext4 init=/linuxrc) Booting cmdline</li>
<li>Ambarella Firmware Configuration &gt; AMBoot (boot loader) &gt; Linux Partition &gt; <div class="fragment"><div class="line">($(AMB_BOARD_OUT)/ext4) Linux FS image</div>
<div class="line">($(AMBABUILD_TOPDIR)/amboot/vif/extx.info) Linux FS Version File</div>
</div><!-- fragment --></li>
<li>Ambarella File System Configuration &gt; Linux Root File System &gt; (X) EXT4</li>
</ul>
</li>
<li>Execute the following command. <div class="fragment"><div class="line">build $ make menuconfig_public_linux</div>
<div class="line">File systems &gt;</div>
<div class="line">    &lt;*&gt; The Extended 4</div>
<div class="line">        (ext4) filesystem</div>
</div><!-- fragment --></li>
<li>Execute the following command. <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --></li>
</ol>
<hr  />
<h1><a class="anchor" id="fs_exfat"></a>
4. ExFAT</h1>
<p >ExFAT is an extension of the traditional FAT file system and is optimized for flash memory, such as USB flash drives and SD cards. Compared to FAT, ExFAT has better scalability to large disk sizes and more efficient write operation. ExFAT contains features such as boundary alignment for file system structures and OEM parameters that makes ExFAT flash-friendly.<br  />
 For more information, refer to the web page <a href="https://en.wikipedia.org/wiki/ExFAT">https://en.wikipedia.org/wiki/ExFAT</a>.</p>
<h2><a class="anchor" id="use_exfat_for_flash_cards"></a>
4.1 Enable ExFAT</h2>
<p >Ambarella recommends using the ExFAT file system with USB flash drives and SD cards.</p>
<ol type="1">
<li>Execute the following command. <div class="fragment"><div class="line">build $ make menuconfig</div>
</div><!-- fragment --> <div class="fragment"><div class="line">Ambarella File System Configuration &gt;</div>
<div class="line">  Open Source Software (OSS) &gt;</div>
<div class="line">    Filesystem Tools &gt;</div>
<div class="line">       [*] Add fuse-exfat support</div>
<div class="line">       [*]   Add exfat-utils support</div>
</div><!-- fragment --></li>
<li>Execute the following command. <div class="fragment"><div class="line">build $ make</div>
</div><!-- fragment --> </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
