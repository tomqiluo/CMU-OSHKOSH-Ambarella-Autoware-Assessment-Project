<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Driver: test_encode.c</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Driver"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Driver<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d1d/test_encode_8c-example.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">test_encode.c</div></div>
</div><!--header-->
<div class="contents">
<p >@This is a example file to show how to configure video resource, start/stop encode.</p>
<div class="fragment"><div class="line"><span class="comment">/*******************************************************************************</span></div>
<div class="line"><span class="comment"> * test_encode.c</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * History:</span></div>
<div class="line"><span class="comment"> *  2018/1/15 - [Zhaoyang Chen] create this file</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2018 Ambarella International LP</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This file and its contents ( &quot;Software&quot; ) are protected by intellectual</span></div>
<div class="line"><span class="comment"> * property rights including, without limitation, U.S. and/or foreign</span></div>
<div class="line"><span class="comment"> * copyrights. This Software is also the confidential and proprietary</span></div>
<div class="line"><span class="comment"> * information of Ambarella International LP and its licensors. You may not use, reproduce,</span></div>
<div class="line"><span class="comment"> * disclose, distribute, modify, or otherwise prepare derivative works of this</span></div>
<div class="line"><span class="comment"> * Software or any portion thereof except pursuant to a signed license agreement</span></div>
<div class="line"><span class="comment"> * or nondisclosure agreement with Ambarella International LP or its authorized affiliates.</span></div>
<div class="line"><span class="comment"> * In the absence of such an agreement, you agree to promptly notify and return</span></div>
<div class="line"><span class="comment"> * this Software to Ambarella International LP.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This file includes sample code and is only for internal testing and evaluation.  If you</span></div>
<div class="line"><span class="comment"> * distribute this sample code (whether in source, object, or binary code form), it will be</span></div>
<div class="line"><span class="comment"> * without any warranty or indemnity protection from Ambarella International LP or its affiliates.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,</span></div>
<div class="line"><span class="comment"> * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT,</span></div>
<div class="line"><span class="comment"> * MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span></div>
<div class="line"><span class="comment"> * IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT,</span></div>
<div class="line"><span class="comment"> * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><span class="comment"> * LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS</span></div>
<div class="line"><span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div>
<div class="line"><span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment">******************************************************************************/</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sched.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/wait.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/ddc/basetypes_8h.html">basetypes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iav_ioctl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iav_ucode_ioctl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vp_config.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef AM_IOCTL</span></div>
<div class="line"><span class="preprocessor">#define AM_IOCTL(_filp, _cmd, _arg) \</span></div>
<div class="line"><span class="preprocessor">        do {                        \</span></div>
<div class="line"><span class="preprocessor">            if (ioctl(_filp, _cmd, _arg) &lt; 0) { \</span></div>
<div class="line"><span class="preprocessor">                perror(#_cmd);      \</span></div>
<div class="line"><span class="preprocessor">                return -1;          \</span></div>
<div class="line"><span class="preprocessor">            }                       \</span></div>
<div class="line"><span class="preprocessor">        } while (0)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_FILE_LEN                    (256)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_ENCODE_STREAM_NUM           (IAV_STREAM_MAX_NUM_ALL)</span></div>
<div class="line"><span class="preprocessor">#define ALL_ENCODE_STREAMS              ((1 &lt;&lt; MAX_ENCODE_STREAM_NUM) - 1)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    <span class="comment">/* osd blending mixer selection, used for blur or color privacy mask */</span></div>
<div class="line">    OSD_BLENDING_OFF = 0,</div>
<div class="line">    OSD_BLENDING_FROM_MIXER_A = 1,</div>
<div class="line">    OSD_BLENDING_FROM_MIXER_B = 2,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a id="_a0" name="_a0"></a><a class="code hl_structRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html">hint_s</a> {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a1" name="a1"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a2" name="a2"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">str</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/d6/d72/test__encode_8h.html">test_encode.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html">vin/vin_init.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html">vout/vout_init_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/d6/da0/chan__cfg_8c.html">src/chan_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/d8/df2/resource__cfg_8c.html">src/resource_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/d7/dfa/buffer__cfg_8c.html">src/buffer_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html">src/stream_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="codeRef" target="_blank" href="../../../video/db/deb/custom__cfg_8c.html">src/custom_cfg.c</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;src/show_params.c&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SYSTEM_NUMVERIC_SHORT_OPTIONS       \</span></div>
<div class="line"><span class="preprocessor">    NO_PREVIEW = SYSTEM_OPTIONS_BASE,           \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_IDLE,                    \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_RESET,                   \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_NO_VOUT_RESET,           \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_ENCODE_MODE,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CHAN_VCAP_MODE_ENABLE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_RAW_CAPTURE,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_ENC_RAW_RGB,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_ENC_RAW_YUV,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_ENC_RAW_NV12,       \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_APP_IMG_PROFILE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_MAX_STREAM_NUM,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_FAST_SEEK_ENABLE,       \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_TWO_REF_ENABLE,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_MAX_SVCT_LAYERS_MINUS_ONE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_SWAP,          \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_EIS_DELAY_COUNT,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_EIS_SRC_CHAN,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_PREV_BOTTOM_REPEAT_DISABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_RESOURCE_CFG,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_CFG,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_ME0_SCALE,          \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_LOW_DELAY_STATE_SWITCH,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CUSTOM_SEI,             \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CUSTOM_SEI_BUF_NUM,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CUSTOM_SEI_BUF_SIZE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_OSD_MIXER,          \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_OSD_RESCALE_DISABLE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_POSSIBLE_MAP,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_DISPLAY_EARLY, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VSYNC_DETECT_DISABLE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_STATIS_ZERO_COPY_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_HEVC_OFF, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_EMIRROR_SYNC_VOUT_ENABLE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VSYNC_LOSS_DUMMY_FRAME_ENABLE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VIN_PRECISE_SYNC_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DYNAMIC_SLICE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_HEVC_PJPEG_PER_TILE_SIZE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_AVC_PJPEG_PER_TILE_SIZE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_MJPEG_PJPEG_PER_TILE_SIZE,  \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_BLEND_STITCH_TYPE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_SCALE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_SCALE_FORMAT,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_SCALE_MAX_IN,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_SCALE_MAX_OUT,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_IMG_SCALE_JOB_QUEUE_DEPTH,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_INSERT_BLUR_ENABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_BLUR_VOUT_MIXER,    \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_EXTRA_RAW_DRAM_BUF_NUM,  \</span></div>
<div class="line"><span class="preprocessor">    SYSTEM_DSP_API_THREAD_FREQ, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_RESOURCE_MEM_CFG_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_INSERT_MULTI_COLOR_MASK_ENABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CANVAS_FRAME_TAG_PATTERN, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VOUT_UNDERFLOW_PREVENTION, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VIN_FRAME_BROKEN_DUMMY_REPEAT</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define VCAP_NUMVERIC_SHORT_OPTIONS     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VCAP_VIN_DISABLE = VCAP_OPTIONS_BASE</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define DEBUG_NUMVERIC_SHORT_OPTIONS        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CHECK_DISABLE_ALL = DEBUG_OPTIONS_BASE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_CHECK_DISABLE_SYS_PERF, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_CHIP_CV5_ID,      \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_CHIP_CV52_ID,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_CHIP_CV72_ID,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_HEVC_ENC_MODE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_WAIT_FRAME,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_INT_ENABLE,     \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_INT_ID,         \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_IOCTL_ENABLE,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_IOCTL_ID,       \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_YUV_ENABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_YUV,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_VV_DELAY_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_VV_DELAY,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_IDSP_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_IDSP,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_ENC_ENABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_ENC,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_VOUT_ENABLE,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_AUDIT_VOUT,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_BREAK_POINT,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_VSYNC_LOSS_TIMEOUT,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_MAX_CHROMA_RADIUS,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_CE_OFF,   \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_SKIP_IRQ_PORT,    \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_SKIP_IRQ_CNT, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_PERF_OPT_ENABLE,  \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_LOW_DELAY_ENABLE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_PREBLEND_ONLY_FOR_AISP, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_MAX_TILE_NUM, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_DEBUG_CHAN_GROUP_TOLERANCE</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define VP_CFG_NUMERIC_SHORT_OPTIONS        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_VP_ENABLE = VP_CFG_OPTIONS_BASE, \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_CMD_ADDR,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_CMD_SIZE,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_MSG_ADDR,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_MSG_SIZE,        \</span></div>
<div class="line"><span class="preprocessor">    SPECIFY_VP_CFG_ALGO_ID</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> <a class="code hl_enumerationRef" target="_blank" href="../../../video/d0/d7d/test__decode_8h.html#ab5fefa6fc4abffdc4b912255ea537aae">numeric_short_options</a> {</div>
<div class="line">    STREAM_OPTIONS_BASE = 1000,</div>
<div class="line">    ENCODE_CONTROL_OPTIONS_BASE = 1100,</div>
<div class="line">    H264ENC_OPTIONS_BASE = 1200,</div>
<div class="line">    PANIC_OPTIONS_BASE = 1300,</div>
<div class="line">    SYSTEM_OPTIONS_BASE = 1500,</div>
<div class="line">    VOUT_OPTIONS_BASE = 1600,</div>
<div class="line">    SHOW_OPTIONS_BASE = 1700,</div>
<div class="line">    DEBUG_OPTIONS_BASE = 1800,</div>
<div class="line">    VCAP_OPTIONS_BASE = 1900,</div>
<div class="line">    VP_CFG_OPTIONS_BASE = 2000,</div>
<div class="line">    SOURCE_BUFFER_OPTIONS_BASE = 2100,</div>
<div class="line">    CHANNEL_OPTIONS_BASE = 2200,</div>
<div class="line">    MJPEGENC_OPTIONS_BASE = 2300,</div>
<div class="line">    CUSTOM_CFG_OPTIONS_BASE = 2400,</div>
<div class="line"> </div>
<div class="line">    <a id="a3" name="a3"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#aefd05aa50b7f1a63d6312f266b7b54b4">STREAM_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    <a id="a4" name="a4"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#a768f5fb1834553d04815361bcf868266">ENCODE_CONTROL_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    <a id="a5" name="a5"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#aacca781b8bd5ca0005e4a814cad5d4a0">H264ENC_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    <a id="a6" name="a6"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#a26fd4605cf4521a828cb093c2f704b9d">PANIC_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    SYSTEM_NUMVERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    <a id="a7" name="a7"></a><a class="code hl_defineRef" target="_blank" href="../../../video/d6/da0/chan__cfg_8c.html#a6cc0424a45611ec85815f5e4634853c3">CHANNEL_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    VOUT_NUMERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    SHOW_NUMVERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    DEBUG_NUMVERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    <a id="a8" name="a8"></a><a class="code hl_defineRef" target="_blank" href="../../../video/d7/dfa/buffer__cfg_8c.html#a0b67204a192a6f5153ff63598fc78dc8">SOURCE_BUFFER_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    VCAP_NUMVERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    VP_CFG_NUMERIC_SHORT_OPTIONS,</div>
<div class="line"> </div>
<div class="line">    <a id="a9" name="a9"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#a78506ada45dcdf7a34a7a8894563f3bf">MJPEGENC_NUMVERIC_SHORT_OPTIONS</a>,</div>
<div class="line"> </div>
<div class="line">    <a id="a10" name="a10"></a><a class="code hl_defineRef" target="_blank" href="../../../video/db/deb/custom__cfg_8c.html#a3b85fbd6a5b4a0ae527e5c149123ae5b">CUSTOM_CFG_NUMERIC_SHORT_OPTIONS</a>,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>debug_setup_s {</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> check_disable_all;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> check_disable_all_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> check_disable_sys_perf;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> check_disable_sys_perf_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> wait_frame_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_int_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_int_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_int_id;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_int_id_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_ioctl_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_ioctl_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_ioctl_id;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_ioctl_id_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_yuv_delay_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_yuv_delay_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_yuv_delay_show_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vv_delay_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vv_delay_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vv_delay_show_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_idsp_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_idsp_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_idsp_show_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_enc_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_enc_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_enc_show_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vout_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vout_enable_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> audit_vout_show_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> skip_irq_port;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> skip_irq_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> skip_irq_cnt;</div>
<div class="line">} debug_setup_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>vp_cfg_setup_s {</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vp_enable;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vp_enable_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cmd_addr;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cmd_addr_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cmd_size;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cmd_size_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> msg_addr;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> msg_addr_flag;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> msg_size;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> msg_size_flag;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vp_algo_id;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vp_algo_id_flag;</div>
<div class="line">} vp_cfg_setup_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>dsp_boot_param_s {</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vout_osd_rescale_disable : 1;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vout_osd_rescale_flag : 1;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vout_possible_map_flag : 1;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vout_possible_map : 3;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> reserved : 26;</div>
<div class="line">} dsp_boot_param_t;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/***************************************************************</span></div>
<div class="line"><span class="comment">    Golbal varibles</span></div>
<div class="line"><span class="comment">****************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// the device file handle</span></div>
<div class="line"><span class="keywordtype">int</span> <a id="a11" name="a11"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html#a5294002f7dca0cd9bcc0009a27895ef7">fd_iav</a>;</div>
<div class="line"><span class="keywordtype">int</span> fd_ucode;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// state control</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> nopreview_flag = 0;  <span class="comment">// do not enter preview automatically</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> idle_cmd = 0;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> reset_flag = 0;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> no_vout_reset_flag = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// vcap settings</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> vcap_vin_disable = 0;    <span class="comment">// disable vin capture in vcap</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> vcap_vin_disable_flag = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">//debug settings</span></div>
<div class="line"><span class="keyword">static</span> debug_setup_t debug_setup;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> debug_setup_flag = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">//vp cfg settings</span></div>
<div class="line"><span class="keyword">static</span> vp_cfg_setup_t vp_cfg_setup;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> vp_cfg_setup_flag = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// dsp boot parameters</span></div>
<div class="line"><span class="keyword">static</span> dsp_boot_param_t dsp_boot_param;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/***************************************************************</span></div>
<div class="line"><span class="comment">    short options</span></div>
<div class="line"><span class="comment">****************************************************************/</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a12" name="a12"></a>short_options = <span class="stringliteral">&quot;ABb:Cc:DEd:ef:h:H:JKLm:nsM:N:q:i:S:v:V:w:W:XY&quot;</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>option <a id="a13" name="a13"></a>long_options[] = {</div>
<div class="line">    <span class="comment">//Stream configurations</span></div>
<div class="line">    <a id="a14" name="a14"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#ad6fdf30a21e913ee4075980e9a49cc02">STREAM_LONG_OPTIONS</a>()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//immediate action, configure encode stream on the fly</span></div>
<div class="line">    <a id="a15" name="a15"></a>ENCODE_CONTROL_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//H.264 encode configurations</span></div>
<div class="line">    <a id="a16" name="a16"></a>H264_ENCODE_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//panic mode</span></div>
<div class="line">    <a id="a17" name="a17"></a>PANIC_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//MJPEG encode configurations</span></div>
<div class="line">    <a id="a18" name="a18"></a>MPEG_ENCODE_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//system state</span></div>
<div class="line">    <a id="a19" name="a19"></a>SYSTEM_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//channel cfg</span></div>
<div class="line">    <a id="a20" name="a20"></a>CHANNEL_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//source buffer param</span></div>
<div class="line">    <a id="a21" name="a21"></a>SOURCE_BUFFER_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vcap configurationss</span></div>
<div class="line">    <a id="a22" name="a22"></a>VCAP_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//show info options</span></div>
<div class="line">    SHOW_INFO_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// debug</span></div>
<div class="line">    <a id="a23" name="a23"></a>DEBUG_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vp cfg</span></div>
<div class="line">    <a id="a24" name="a24"></a>VP_CFG_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//custom cfg</span></div>
<div class="line">    <a id="a25" name="a25"></a>CUSTOM_CFG_LONG_OPTIONS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Vout</span></div>
<div class="line"><span class="comment">//  VOUT_LONG_OPTIONS(),</span></div>
<div class="line">    {0, 0, 0, 0}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_structRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html">hint_s</a> <a id="a26" name="a26"></a>hint[] = {</div>
<div class="line">    <span class="comment">//Stream configurations</span></div>
<div class="line">    <a id="a27" name="a27"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#a7f5b587cc141a2163e047f86f6867efe">STREAM_PARAMETER_HINTS</a>()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//immediate action, configure encode stream on the fly</span></div>
<div class="line">    <a id="a28" name="a28"></a>ENCODE_CONTROL_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//H.264 encode configurations</span></div>
<div class="line">    <a id="a29" name="a29"></a>H264_ENCODE_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//panic mode</span></div>
<div class="line">    <a id="a30" name="a30"></a>PANIC_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//MJPEG encode configurations</span></div>
<div class="line">    <a id="a31" name="a31"></a>MPEG_ENCODE_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//system state</span></div>
<div class="line">    <a id="a32" name="a32"></a>SYSTEM_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//channel cfg</span></div>
<div class="line">    <a id="a33" name="a33"></a>CHANNEL_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//source buffer param</span></div>
<div class="line">    <a id="a34" name="a34"></a>SOURCE_BUFFER_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vcap configurations</span></div>
<div class="line">    <a id="a35" name="a35"></a>VCAP_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//show info options</span></div>
<div class="line">    SHOW_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//debug</span></div>
<div class="line">    <a id="a36" name="a36"></a>DEBUG_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vp cfg</span></div>
<div class="line">    <a id="a37" name="a37"></a>VP_CFG_PARAMETER_HINTS()</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//custom cfg</span></div>
<div class="line">    <a id="a38" name="a38"></a>CUSTOM_CFG_PARAMETER_HINTS()</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/***************************************************************</span></div>
<div class="line"><span class="comment">    Common APIs</span></div>
<div class="line"><span class="comment">****************************************************************/</span></div>
<div class="line"> </div>
<div class="line">static <span class="keywordtype">int</span> get_osd_mixer_selection(const <span class="keywordtype">char</span> *<a id="a39" name="a39"></a>name)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(name, <span class="stringliteral">&quot;off&quot;</span>) == 0)</div>
<div class="line">        <span class="keywordflow">return</span> OSD_BLENDING_OFF;</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(name, <span class="stringliteral">&quot;a&quot;</span>) == 0)</div>
<div class="line">        <span class="keywordflow">return</span> OSD_BLENDING_FROM_MIXER_A;</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(name, <span class="stringliteral">&quot;b&quot;</span>) == 0)</div>
<div class="line">        <span class="keywordflow">return</span> OSD_BLENDING_FROM_MIXER_B;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;invalid osd mixer selection: %s\n&quot;</span>, name);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a id="a40" name="a40"></a>usage(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;test_encode usage:\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(hint) / <span class="keyword">sizeof</span>(hint[0]); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (isalpha(long_options[i].val))</div>
<div class="line">            printf(<span class="stringliteral">&quot;-%c &quot;</span>, long_options[i].val);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;--%s&quot;</span>, long_options[i].name);</div>
<div class="line">        <span class="keywordflow">if</span> (hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>[0] != 0)</div>
<div class="line">            printf(<span class="stringliteral">&quot; [%s]&quot;</span>, hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t%s\n&quot;</span>, hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">str</a>);</div>
<div class="line">    }</div>
<div class="line"><span class="comment">//  printf(VOUT_OPTIONS_USAGE);</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;vin mode:  &quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a id="a41" name="a41"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html#a590f774f70199c227f54837fd5c000b0">__vin_modes</a>)/<span class="keyword">sizeof</span>(__vin_modes[0]); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (__vin_modes[i].name[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;           &quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;%s  &quot;</span>, __vin_modes[i].name);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;resolution:  &quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a id="a42" name="a42"></a><a class="code hl_variableRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#aee585c71a75fe17e0f6b1fe091009291">__encode_res</a>)/<span class="keyword">sizeof</span>(__encode_res[0]); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (__encode_res[i].name[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;             &quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;%s  &quot;</span>, __encode_res[i].name);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> init_param(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i, ch;</div>
<div class="line">    <span class="keywordtype">int</span> option_index = 0;</div>
<div class="line">    <span class="keywordtype">int</span> width, height;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> min_value, max_value;</div>
<div class="line">    <a class="code hl_typedefRef" target="_blank" href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> numerator, denominator;</div>
<div class="line">    <a id="_a43" name="_a43"></a><a class="code hl_structRef" target="_blank" href="../../../video/d6/dcd/structh264__param__s.html">h264_param_t</a> *param;</div>
<div class="line">    <span class="keywordtype">int</span> value;</div>
<div class="line"> </div>
<div class="line">    opterr = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((ch = getopt_long(argc, argv, short_options, long_options, &amp;option_index)) != -1) {</div>
<div class="line"><span class="comment">//      if (vout_handle_options(ch, fd_iav)) {</span></div>
<div class="line"><span class="comment">//          continue;</span></div>
<div class="line"><span class="comment">//      }</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// handle all other options</span></div>
<div class="line">        <span class="keywordflow">switch</span> (ch) {</div>
<div class="line">            <a id="a44" name="a44"></a><a class="code hl_defineRef" target="_blank" href="../../../video/da/d30/stream__cfg_8c.html#ad7384b69244455866e90c5d30d07a931">STREAM_INIT_PARAMETERS</a>()</div>
<div class="line"> </div>
<div class="line">            <a id="a45" name="a45"></a>ENCODE_CONTROL_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a46" name="a46"></a>H264_ENCODE_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a47" name="a47"></a>PANIC_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a48" name="a48"></a>MPEG_ENCODE_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a49" name="a49"></a>SYSTEM_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a50" name="a50"></a>CHANNEL_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a51" name="a51"></a>SOURCE_BUFFER_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a52" name="a52"></a>VCAP_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            SHOW_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a53" name="a53"></a>DEBUG_INIT_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a54" name="a54"></a>VP_CFG_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            <a id="a55" name="a55"></a>CUSTOM_CFG_PARAMETERS()</div>
<div class="line"> </div>
<div class="line">            default:</div>
<div class="line">                printf(&quot;unknown option found: [%c]\n&quot;, ch);</div>
<div class="line">                if (ch == &#39;v&#39; || ch == &#39;V&#39;) {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;-v/-V option is DEPRECATED!!!\n&quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;You can specify VOUT mode with &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;--lcd/--hdmi/--cvbs option.\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;E.g., --cvbs 480i or --hdmi 720p\n&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a56" name="a56"></a>check_init_param() &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Check init param error.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> wait_for_next_frame(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> times = 30;</div>
<div class="line">    <span class="keywordtype">int</span> i, min, max, avg, sum, value;</div>
<div class="line">    <span class="keyword">struct </span>timeval start, end;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;== Start to [Wait for Next Frame] ==\n&quot;</span>);</div>
<div class="line">    min = 0x0FFFFFFF;</div>
<div class="line">    max = avg = sum = value = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; times; ++i) {</div>
<div class="line">        <span class="comment">// FIXME: only wait next vcap frame for channel 0</span></div>
<div class="line">        <a id="a57" name="a57"></a><a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a58" name="a58"></a>IAV_IOC_WAIT_NEXT_IDSP_FRAME, 1);</div>
<div class="line">        gettimeofday(&amp;start, NULL);</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_WAIT_NEXT_IDSP_FRAME, 1);</div>
<div class="line">        gettimeofday(&amp;end, NULL);</div>
<div class="line">        value = (end.tv_sec - start.tv_sec) * 1000000 + end.tv_usec - start.tv_usec;</div>
<div class="line">        if (min &gt; value) {</div>
<div class="line">            min = value;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (max &lt; value) {</div>
<div class="line">            max = value;</div>
<div class="line">        }</div>
<div class="line">        sum += value;</div>
<div class="line">        printf(<span class="stringliteral">&quot; [%03d] Wait [%06d us] for next frame.\n&quot;</span>, i, value);</div>
<div class="line">    }</div>
<div class="line">    avg = sum / times;</div>
<div class="line">    printf(<span class="stringliteral">&quot;== Max [%06d us] Min [%06d us] Avg [%06d us] ==\n&quot;</span>,</div>
<div class="line">        max, min, avg);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> goto_idle(<span class="keywordtype">int</span> vin_off, <span class="keywordtype">int</span> no_vout_reset)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a59" name="_a59"></a><a class="code hl_structRef" target="_blank" href="../../../library/d7/d46/structiav__idle__params.html">iav_idle_params</a> idle_params = {0};</div>
<div class="line">    <span class="keyword">struct </span><a id="_a60" name="_a60"></a><a class="code hl_structRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html">iav_dsp_boot_params</a> *boot_params = &amp;idle_params.<a id="a61" name="a61"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d7/d46/structiav__idle__params.html#ac1422fa9674a0ca4d5fa18b581b1e0cf">dsp_boot_params</a>;</div>
<div class="line"> </div>
<div class="line">    idle_params.<a id="a62" name="a62"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d7/d46/structiav__idle__params.html#a7966f805ac53ccbe241ec65f1c7db303">poweroff_vin</a> = vin_off;</div>
<div class="line">    idle_params.<a id="a63" name="a63"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d7/d46/structiav__idle__params.html#aea63c99aef90c1db34aff8ff47557e6d">no_vout_reset</a> = no_vout_reset;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a64" name="a64"></a>system_resource_setup.debug_chip_id_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> ((system_resource_setup.debug_chip_cv5_id_flag +</div>
<div class="line">            system_resource_setup.debug_chip_cv52_id_flag +</div>
<div class="line">            system_resource_setup.debug_chip_cv72_id_flag) &gt; 1) {</div>
<div class="line">            boot_params-&gt;<a id="a65" name="a65"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a75e60b075d75480f684c650705738651">debug_chip_id_flag</a> = 0;</div>
<div class="line">            printf(<span class="stringliteral">&quot;Error! Cannot set cv5 and cv52 debug chip id at the same time!\n&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a75e60b075d75480f684c650705738651">debug_chip_id_flag</a> = 1;</div>
<div class="line">            <span class="keywordflow">if</span> (system_resource_setup.debug_chip_cv5_id_flag &amp;&amp;</div>
<div class="line">                (system_resource_setup.debug_chip_cv5_id != -1)) {</div>
<div class="line">                boot_params-&gt;<a id="a66" name="a66"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a7d6498e5ba18d59c28298b1264601aa6">debug_chip_id</a> = system_resource_setup.debug_chip_cv5_id;</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (system_resource_setup.debug_chip_cv52_id_flag &amp;&amp;</div>
<div class="line">                (system_resource_setup.debug_chip_cv52_id != -1)) {</div>
<div class="line">                boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a7d6498e5ba18d59c28298b1264601aa6">debug_chip_id</a> = system_resource_setup.debug_chip_cv52_id;</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (system_resource_setup.debug_chip_cv72_id_flag &amp;&amp;</div>
<div class="line">                (system_resource_setup.debug_chip_cv72_id != -1)) {</div>
<div class="line">                boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a7d6498e5ba18d59c28298b1264601aa6">debug_chip_id</a> = system_resource_setup.debug_chip_cv72_id;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (dsp_boot_param.vout_osd_rescale_flag) {</div>
<div class="line">        boot_params-&gt;<a id="a67" name="a67"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a009945a00e866a3739b32b09c7fc1b22">vout_osd_rescale_flag</a> = 1;</div>
<div class="line">        boot_params-&gt;<a id="a68" name="a68"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a76e2beef04ab0718ee05b0876cfbc487">vout_osd_rescale_disable</a> = dsp_boot_param.vout_osd_rescale_disable;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a009945a00e866a3739b32b09c7fc1b22">vout_osd_rescale_flag</a> = 0;</div>
<div class="line">        boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a76e2beef04ab0718ee05b0876cfbc487">vout_osd_rescale_disable</a> = 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (dsp_boot_param.vout_possible_map_flag) {</div>
<div class="line">        boot_params-&gt;<a id="a69" name="a69"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#ae41d10c9172373648b45af37a0a96114">vout_possible_map_flag</a> = 1;</div>
<div class="line">        boot_params-&gt;<a id="a70" name="a70"></a><a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#acfbba50b828eada280def4bec6788015">vout_possible_map</a> = dsp_boot_param.vout_possible_map;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#ae41d10c9172373648b45af37a0a96114">vout_possible_map_flag</a> = 0;</div>
<div class="line">        boot_params-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/dd/dd8/structiav__dsp__boot__params.html#acfbba50b828eada280def4bec6788015">vout_possible_map</a> = 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a71" name="a71"></a>IAV_IOC_ENTER_IDLE, &amp;idle_params);</div>
<div class="line">    printf(<span class="stringliteral">&quot;enter IDLE done\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> enable_preview(<span class="keywordtype">int</span> no_vout_reset)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a72" name="_a72"></a><a class="code hl_structRef" target="_blank" href="../../../library/da/d66/structiav__preview__params.html">iav_preview_params</a> prev_params = {0};</div>
<div class="line">    prev_params.<a id="a73" name="a73"></a><a class="code hl_variableRef" target="_blank" href="../../../library/da/d66/structiav__preview__params.html#aea63c99aef90c1db34aff8ff47557e6d">no_vout_reset</a> = <a class="code hl_variableRef" target="_blank" href="../../../library/da/d66/structiav__preview__params.html#aea63c99aef90c1db34aff8ff47557e6d">no_vout_reset</a>;</div>
<div class="line">    <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a74" name="a74"></a>IAV_IOC_ENABLE_PREVIEW, &amp;prev_params);</div>
<div class="line">    printf(<span class="stringliteral">&quot;enable preview done\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> set_vcap_vin_state(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a75" name="_a75"></a><a class="code hl_structRef" target="_blank" href="../../../library/de/d1e/structiav__vcap__cfg.html">iav_vcap_cfg</a> vcap_cfg;</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;vcap_cfg, 0, <span class="keyword">sizeof</span> (vcap_cfg));</div>
<div class="line">    vcap_cfg.cid = <a id="a76" name="a76"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#gga48ae935242eaabbfb32b0e16c1aa46aeab0a1bc32e9aff54ef3885b138442a1d9">IAV_VCAP_CFG_STATE</a>;</div>
<div class="line">    <span class="comment">/* Configure VCAP state for all VINs */</span></div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; <a id="a77" name="a77"></a><a class="code hl_define" href="../../dummy.html">VIN_CONTROLLER_NUM</a>; ++i) {</div>
<div class="line">        vcap_cfg.arg.state_cfg.vinc_map |= (1 &lt;&lt; i);</div>
<div class="line">        vcap_cfg.arg.state_cfg.state[i] = vcap_vin_disable;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a78" name="a78"></a>IAV_IOC_SET_VCAP_CFG, &amp;vcap_cfg);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> get_channel_num(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a79" name="_a79"></a><a class="code hl_structRef" target="_blank" href="../../../library/df/d3a/structiav__system__resource.html">iav_system_resource</a> resource;</div>
<div class="line">    <a id="a80" name="a80"></a>get_system_resource(&amp;resource);</div>
<div class="line">    <span class="keywordflow">return</span> resource.chan_num;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_change_param_during_idle(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a81" name="a81"></a>system_resource_limit_changed_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a82" name="a82"></a>setup_resource_limit() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (system_resource_setup.resource_cfg_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a83" name="a83"></a>setup_pyramid_cfg()) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a84" name="a84"></a>set_buf_cfg_from_lua() &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* FIXME: only for single channel case */</span></div>
<div class="line">        <span class="keywordflow">if</span> (get_channel_num() == 1) {</div>
<div class="line">            <span class="keywordflow">if</span> (<a id="a85" name="a85"></a>vin_flag) {</div>
<div class="line">                <span class="keywordflow">if</span> (<a id="a86" name="a86"></a>clear_main_buf_input(0) &lt; 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> -1;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a id="a87" name="a87"></a>set_buf_cfg_for_single_chan(1) &lt; 0) {</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (vcap_vin_disable_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (set_vcap_vin_state() &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        vcap_vin_disable_flag = 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_change_encode_format(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a88" name="a88"></a>set_encode_format() &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_stop_encoding(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a89" name="a89"></a>stop_encode(<a id="a90" name="a90"></a>stop_stream_id) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_abort_encoding(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a91" name="a91"></a>abort_encode(<a id="a92" name="a92"></a>abort_stream_id) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_reset(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> retv = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ioctl(fd_iav, <a id="a93" name="a93"></a>IAV_IOC_RESET) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;IAV_IOC_RESET&quot;</span>);</div>
<div class="line">        retv = -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retv;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_goto_idle(<span class="keywordtype">int</span> vin_off, <span class="keywordtype">int</span> no_vout_reset)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (goto_idle(vin_off, no_vout_reset) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_enable_preview(<span class="keywordtype">int</span> no_vout_reset)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (enable_preview(no_vout_reset) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_change_encode_config(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a94" name="a94"></a>set_encode_param() &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_start_encoding(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a95" name="a95"></a>start_encode(<a id="a96" name="a96"></a>start_stream_id) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_real_time_change(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!vin_flag &amp;&amp; <a id="a97" name="a97"></a>vin_framerate_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a98" name="a98"></a>set_vin_frame_rate(<a id="a99" name="a99"></a>source) &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a100" name="a100"></a>framerate_factor_changed_id ||</div>
<div class="line">        <a id="a101" name="a101"></a>frame_rate_update_mode_changed_id ||</div>
<div class="line">        <a id="a102" name="a102"></a>stream_abs_fps_enabled_id ||</div>
<div class="line">        <a id="a103" name="a103"></a>stream_abs_fps_changed_id)  {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a104" name="a104"></a>change_frame_rate() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a105" name="a105"></a>framerate_factor_sync_id)  {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a106" name="a106"></a>sync_frame_rate() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a107" name="a107"></a>qp_limit_changed_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a108" name="a108"></a>set_qp_limit() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a109" name="a109"></a>force_idr_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a110" name="a110"></a>set_force_idr() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a111" name="a111"></a>force_fast_seek_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a112" name="a112"></a>set_force_fast_seek() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a113" name="a113"></a>wp_changed_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a114" name="a114"></a>set_weighted_pred() &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (vcap_vin_disable_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (set_vcap_vin_state() &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* FIXME: only for single channel case */</span></div>
<div class="line">    <span class="keywordflow">if</span> (!system_resource_setup.resource_cfg_flag &amp;&amp;</div>
<div class="line">        (get_channel_num() == 1)) {</div>
<div class="line">        <span class="keywordflow">if</span> (set_buf_cfg_for_single_chan(0) &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a115" name="a115"></a>trigger_frame_stream_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a116" name="a116"></a>set_stream_trigger_frame() &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_debug_setup(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a117" name="_a117"></a><a class="code hl_structRef" target="_blank" href="../../../library/dc/d78/structiav__debug__cfg.html">iav_debug_cfg</a> debug;</div>
<div class="line">    <span class="keywordtype">char</span> * flag[2] = {<span class="stringliteral">&quot;Disable&quot;</span>, <span class="stringliteral">&quot;Enable&quot;</span>};</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line">    <span class="keywordtype">int</span> chan_num = get_channel_num();</div>
<div class="line">    <span class="keywordtype">int</span> stream_num = get_stream_num();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a id="_a118" name="_a118"></a><a class="code hl_structRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html">iav_debug_audit</a> *debug_a = &amp;debug.arg.audit;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a119" name="_a119"></a><a class="code hl_structRef" target="_blank" href="../../../library/d3/d54/structiav__debug__idsp__audit.html">iav_debug_idsp_audit</a> *idsp_a = &amp;debug.arg.idsp_audit;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a120" name="_a120"></a><a class="code hl_structRef" target="_blank" href="../../../library/d0/d6d/structiav__debug__enc__audit.html">iav_debug_enc_audit</a> *enc_a = &amp;debug.arg.enc_audit;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a121" name="_a121"></a><a class="code hl_structRef" target="_blank" href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html">iav_debug_skip_dsp_irq</a> *dsp_irq_a = &amp;debug.arg.skip_irq;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a122" name="_a122"></a><a class="code hl_structRef" target="_blank" href="../../../library/d7/dab/structiav__debug__vout__audit.html">iav_debug_vout_audit</a> *vout_a = &amp;debug.arg.vout_audit;</div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_structRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html">iav_debug_audit</a> *vv_a = debug.arg.vv_audit;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a123" name="_a123"></a><a class="code hl_structRef" target="_blank" href="../../../library/d6/d21/structvout__params.html">vout_params</a> params = {0};</div>
<div class="line"> </div>
<div class="line">    memset(&amp;debug, 0, <span class="keyword">sizeof</span>(debug));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.check_disable_all_flag) {</div>
<div class="line">        debug.id = 0;</div>
<div class="line">        debug.cid = <a id="a124" name="a124"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371aaecec6a31be40a3ac3633910394d5544">IAV_DEBUGCFG_CHECK_ALL</a>;</div>
<div class="line">        debug.arg.enable = debug_setup.check_disable_all;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a125" name="a125"></a>IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.check_disable_sys_perf_flag) {</div>
<div class="line">        debug.id = 0;</div>
<div class="line">        debug.cid = <a id="a126" name="a126"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371acc0a371a751051bc4cc79c10973b9590">IAV_DEBUGCFG_CHECK_SYS_PERF</a>;</div>
<div class="line">        debug.arg.enable = debug_setup.check_disable_sys_perf;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.wait_frame_flag) {</div>
<div class="line">        wait_for_next_frame();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_int_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a127" name="a127"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ab98b1ec79a4f20243730d0d0e9e1af73">IAV_DEBUGCFG_AUDIT_INT</a>;</div>
<div class="line">        debug_a-&gt;<a id="a128" name="a128"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_int_enable;</div>
<div class="line">        debug_a-&gt;<a id="a129" name="a129"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = 0;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = 1;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_int_id_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ab98b1ec79a4f20243730d0d0e9e1af73">IAV_DEBUGCFG_AUDIT_INT</a>;</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = debug_setup.audit_int_id;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a130" name="a130"></a>IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - INT Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;     Update : %s\n&quot;</span>, flag[debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a>]);</div>
<div class="line">        printf(<span class="stringliteral">&quot;     IRQ NO : %s\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> ? <span class="stringliteral">&quot;VENC&quot;</span> : <span class="stringliteral">&quot;VDSP&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;  ISR times : %llu\n&quot;</span>, debug_a-&gt;<a id="a131" name="a131"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Avg (us) : %llu\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a> ?</div>
<div class="line">            (debug_a-&gt;<a id="a132" name="a132"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad63bd264952d4ad459d3305a8691b7c4">sum</a> / debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>) : 0);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Max (us) : %d\n&quot;</span>, debug_a-&gt;<a id="a133" name="a133"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a422b10775195c18b15a3f93b4d3457b6">max</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Min (us) : %d\n&quot;</span>, debug_a-&gt;<a id="a134" name="a134"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad6af6a0d5d23b47507b5534f042d87ed">min</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_ioctl_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a135" name="a135"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a3d5303aa889630aedd5acd27950be813">IAV_DEBUGCFG_AUDIT_IOCTL</a>;</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_ioctl_enable;</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = 0;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = 1;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_ioctl_id_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a3d5303aa889630aedd5acd27950be813">IAV_DEBUGCFG_AUDIT_IOCTL</a>;</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> = debug_setup.audit_ioctl_id;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - IOCTL Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;     Update : %s\n&quot;</span>, flag[debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a>]);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   IOCTL NO : %s\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a> ? <span class="stringliteral">&quot;IMGPROC&quot;</span> : <span class="stringliteral">&quot;IAV&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;IOCTL times : %llu\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Avg (us) : %llu\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a> ?</div>
<div class="line">            (debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad63bd264952d4ad459d3305a8691b7c4">sum</a> / debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>) : 0);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Max (us) : %d\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a422b10775195c18b15a3f93b4d3457b6">max</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Min (us) : %d\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad6af6a0d5d23b47507b5534f042d87ed">min</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_yuv_delay_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a136" name="a136"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a41a1a22316fd3874a971af7c7bda3e2a">IAV_DEBUGCFG_AUDIT_YUV_DELAY</a>;</div>
<div class="line">        debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_yuv_delay_enable;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_yuv_delay_show_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a41a1a22316fd3874a971af7c7bda3e2a">IAV_DEBUGCFG_AUDIT_YUV_DELAY</a>;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - YUV delay Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;Frame count : %llu\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Avg (us) : %llu\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a> ?</div>
<div class="line">            (debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad63bd264952d4ad459d3305a8691b7c4">sum</a> / debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>) : 0);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Max (us) : %d\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a422b10775195c18b15a3f93b4d3457b6">max</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   Min (us) : %d\n&quot;</span>, debug_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad6af6a0d5d23b47507b5534f042d87ed">min</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_vv_delay_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a137" name="a137"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ae03d6f0a3d13a07be3d69a2b4f223a37">IAV_DEBUGCFG_AUDIT_VV_DELAY</a>;</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; <a id="a138" name="a138"></a><a class="code hl_define" href="../../dummy.html">VOUT_NUM</a>; ++i) {</div>
<div class="line">            vv_a[i].<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_vv_delay_enable;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_vv_delay_show_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ae03d6f0a3d13a07be3d69a2b4f223a37">IAV_DEBUGCFG_AUDIT_VV_DELAY</a>;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="../../dummy.html">VOUT_NUM</a>; ++i) {</div>
<div class="line">            memset(&amp;params, 0x0, <span class="keyword">sizeof</span>(params));</div>
<div class="line">            params.<a id="a139" name="a139"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d6/d21/structvout__params.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> = i;</div>
<div class="line">            <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a140" name="a140"></a>IAV_IOC_VOUT_GET_PARAMS, &amp;params);</div>
<div class="line">            printf(<span class="stringliteral">&quot;vout[%d] enable = %d\n&quot;</span>, i, params.<a id="a141" name="a141"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d6/d21/structvout__params.html#a864f94ccc649321fc0ffb37758bc6e2a">video_enable</a>);</div>
<div class="line">            <span class="keywordflow">if</span> (!params.<a class="code hl_variableRef" target="_blank" href="../../../library/d6/d21/structvout__params.html#a864f94ccc649321fc0ffb37758bc6e2a">video_enable</a>) {</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            vv_a = &amp;debug.arg.vv_audit[i];</div>
<div class="line">            printf(<span class="stringliteral">&quot;==== [Audit - VOUT-VIN delay Info] ====\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;       VOUT : %d\n&quot;</span>, vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">id</a>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;Frame count : %llu\n&quot;</span>, vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;   Avg (us) : %llu\n&quot;</span>, vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a> ?</div>
<div class="line">                (vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad63bd264952d4ad459d3305a8691b7c4">sum</a> / vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">cnt</a>) : 0);</div>
<div class="line">            printf(<span class="stringliteral">&quot;   Max (us) : %d\n&quot;</span>, vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#a422b10775195c18b15a3f93b4d3457b6">max</a>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;   Min (us) : %d\n&quot;</span>, vv_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ad6af6a0d5d23b47507b5534f042d87ed">min</a>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;   Cur (us) : %d\n&quot;</span>, vv_a-&gt;<a id="a142" name="a142"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/dc7/structiav__debug__audit.html#ae110e78298f7973cd523c0f13d8cb488">cur</a>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_idsp_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a143" name="a143"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371acd56a7aceeeb1bfea352629373fab9f0">IAV_DEBUGCFG_AUDIT_IDSP</a>;</div>
<div class="line">        idsp_a-&gt;<a id="a144" name="a144"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_idsp_enable;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_idsp_show_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371acd56a7aceeeb1bfea352629373fab9f0">IAV_DEBUGCFG_AUDIT_IDSP</a>;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - IDSP Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;State : %s\n&quot;</span>, idsp_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> ? flag[1] : flag[0]);</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; chan_num; i++) {</div>
<div class="line">            <span class="keywordflow">if</span> (idsp_a-&gt;<a id="a145" name="a145"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ac1953e8ea62da8c89589886d2a5ab3b3">idsp_frm_drop_cnt</a>[i] == -1) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Chan[%d] idsp frame drop count: IGNORED\n&quot;</span>, i);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Chan[%d] idsp frame drop count: %d\n&quot;</span>, i,</div>
<div class="line">                    idsp_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ac1953e8ea62da8c89589886d2a5ab3b3">idsp_frm_drop_cnt</a>[i]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_enc_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a146" name="a146"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371adcf45f202da1f85e590421ef68e8fbd2">IAV_DEBUGCFG_AUDIT_ENC</a>;</div>
<div class="line">        enc_a-&gt;<a id="a147" name="a147"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d0/d6d/structiav__debug__enc__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_enc_enable;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_enc_show_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371adcf45f202da1f85e590421ef68e8fbd2">IAV_DEBUGCFG_AUDIT_ENC</a>;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - Enc Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;State : %s\n&quot;</span>, enc_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d0/d6d/structiav__debug__enc__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> ? flag[1] : flag[0]);</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; stream_num; i++) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Stream[%d] enc frame drop count: %d\n&quot;</span>, i,</div>
<div class="line">                enc_a-&gt;<a id="a148" name="a148"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d0/d6d/structiav__debug__enc__audit.html#a5d486234ddc7e378a1d9a91d18caa337">enc_frm_drop_cnt</a>[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_vout_enable_flag) {</div>
<div class="line">        debug.cid = <a id="a149" name="a149"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a034a8c4db0d00cff49ab2a1441f348a4">IAV_DEBUGCFG_AUDIT_VOUT</a>;</div>
<div class="line">        vout_a-&gt;<a id="a150" name="a150"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d7/dab/structiav__debug__vout__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> = debug_setup.audit_vout_enable;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.audit_vout_show_flag) {</div>
<div class="line">        debug.cid = <a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a034a8c4db0d00cff49ab2a1441f348a4">IAV_DEBUGCFG_AUDIT_VOUT</a>;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_GET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;==== [Audit - Vout Underflow Info] ====\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;State : %s\n&quot;</span>, vout_a-&gt;<a class="code hl_variableRef" target="_blank" href="../../../library/d7/dab/structiav__debug__vout__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">enable</a> ? flag[1] : flag[0]);</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="../../dummy.html">VOUT_NUM</a>; i++) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Voutc[%d] underflow count: %d\n&quot;</span>, i,</div>
<div class="line">                vout_a-&gt;<a id="a151" name="a151"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d7/dab/structiav__debug__vout__audit.html#af01e9cfa0226a76bbaa632d10f139e76">vout_uf_cnt</a>[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup.skip_irq_flag) {</div>
<div class="line">        debug.cid = <a id="a152" name="a152"></a><a class="code hl_variableRef" target="_blank" href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a7d4f7df760fb385b3e411d1aaf9e3e2b">IAV_DEBUGCFG_SKIP_IRQ</a>;</div>
<div class="line">        dsp_irq_a-&gt;<a id="a153" name="a153"></a><a class="code hl_variableRef" target="_blank" href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html#ab2435a9903c760affdbc29523da2e252">skip_cnt</a> = debug_setup.skip_irq_cnt;</div>
<div class="line">        dsp_irq_a-&gt;<a id="a154" name="a154"></a><a class="code hl_variableRef" target="_blank" href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html#aaa32e3776fc2ec2dd316a33cd824900f">dsp_port</a> = debug_setup.skip_irq_port;</div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, IAV_IOC_SET_DEBUG_CONFIG, &amp;debug);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> do_vp_cfg_setup(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a155" name="_a155"></a><a class="code hl_structRef" target="_blank" href="../../../library/d7/d2f/structiav__dsp__vp__cfg.html">iav_dsp_vp_cfg</a> vp_cfg, vp_cfg_new;</div>
<div class="line">    <span class="keywordtype">int</span> update_vp_only = 1;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;vp_cfg, 0, <span class="keyword">sizeof</span>(vp_cfg));</div>
<div class="line">    <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a156" name="a156"></a>IAV_IOC_GET_DSP_VP_CFG, &amp;vp_cfg);</div>
<div class="line"> </div>
<div class="line">    vp_cfg_new = vp_cfg;</div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.vp_enable_flag) {</div>
<div class="line">        vp_cfg_new.vp_enable = vp_cfg_setup.vp_enable;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.cmd_addr_flag) {</div>
<div class="line">        vp_cfg_new.cmd_addr = vp_cfg_setup.cmd_addr;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.cmd_size_flag) {</div>
<div class="line">        vp_cfg_new.cmd_size = vp_cfg_setup.cmd_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.msg_addr_flag) {</div>
<div class="line">        vp_cfg_new.msg_addr = vp_cfg_setup.msg_addr;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.msg_size_flag) {</div>
<div class="line">        vp_cfg_new.msg_size = vp_cfg_setup.msg_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup.vp_algo_id_flag) {</div>
<div class="line">        vp_cfg_new.vp_algo_id = vp_cfg_setup.vp_algo_id;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_iav, <a id="a157" name="a157"></a>IAV_IOC_SET_DSP_VP_CFG, &amp;vp_cfg_new);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (memcmp(&amp;vp_cfg_new, &amp;vp_cfg, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_structRef" target="_blank" href="../../../library/d7/d2f/structiav__dsp__vp__cfg.html">iav_dsp_vp_cfg</a>))) {</div>
<div class="line">        <span class="comment">/* reload ucode to apply VP cfg */</span></div>
<div class="line">        <a class="code hl_defineRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a>(fd_ucode, <a id="a158" name="a158"></a>IAV_IOC_UPDATE_UCODE, update_vp_only);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a id="a159" name="a159"></a><a class="code hl_functionRef" target="_blank" href="../../../video/db/d1a/test__vout__cfg_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> do_show_status_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_stop_encoding_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_abort_encoding_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_goto_idle_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_resource_mem_cfg_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_vin_setup_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_vin_standby_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_change_parameter_during_idle_flag  = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_enable_preview_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_change_encode_format_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_change_encode_config_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_start_encoding_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_real_time_change_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_debug_setup_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_vp_cfg_setup_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_custom_cmds_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_reset_flag = 0;</div>
<div class="line">    <span class="keywordtype">int</span> do_no_vout_reset_flag = 0;</div>
<div class="line">    <span class="keyword">struct </span>mcl_api_version mcl_api_ver = {</div>
<div class="line">        .major = MCL_API_VER_MAJOR,</div>
<div class="line">        .minor = MCL_API_VER_MINOR,</div>
<div class="line">        .patch = MCL_API_VER_PATCH,</div>
<div class="line">        .mod_time = MCL_API_VER_MOD_TIME,</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (argc &lt; 2) {</div>
<div class="line">        usage();</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// open the device</span></div>
<div class="line">    <span class="keywordflow">if</span> ((fd_iav = open(<span class="stringliteral">&quot;/dev/iav&quot;</span>, O_RDWR, 0)) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;/dev/iav&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ((fd_ucode = open(<span class="stringliteral">&quot;/dev/ucode&quot;</span>, O_RDWR, 0)) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;/dev/ucode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (init_param(argc, argv) &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/********************************************************</span></div>
<div class="line"><span class="comment"> *  process parameters to get flag</span></div>
<div class="line"><span class="comment"> *******************************************************/</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">//show message flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (show_info_flag) {</div>
<div class="line">        do_show_status_flag  = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//stop encoding flag</span></div>
<div class="line">    stop_stream_id |= <a id="a160" name="a160"></a>restart_stream_id;</div>
<div class="line">    <span class="keywordflow">if</span> (vin_flag) {</div>
<div class="line">        stop_stream_id = ALL_ENCODE_STREAMS;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (stop_stream_id) {</div>
<div class="line">        do_stop_encoding_flag = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (abort_stream_id) {</div>
<div class="line">        do_abort_encoding_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (system_resource_setup.resource_mem_cfg_enable_flag &amp;&amp;</div>
<div class="line">        system_resource_setup.resource_mem_cfg_enable) {</div>
<div class="line">        do_resource_mem_cfg_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (vp_cfg_setup_flag) {</div>
<div class="line">        do_vp_cfg_setup_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a161" name="a161"></a>custom_cmds_flag) {</div>
<div class="line">        do_custom_cmds_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (reset_flag) {</div>
<div class="line">        do_reset_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* no vout reset flag */</span></div>
<div class="line">    <span class="keywordflow">if</span> (no_vout_reset_flag) {</div>
<div class="line">        do_no_vout_reset_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//go to idle (disable preview) flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (vin_flag ||</div>
<div class="line">        system_resource_limit_changed_flag ||</div>
<div class="line">        system_resource_setup.osd_mixer_changed_flag ||</div>
<div class="line">        do_resource_mem_cfg_flag ||</div>
<div class="line">        idle_cmd) {</div>
<div class="line">        do_goto_idle_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vin setup flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (vin_flag) {</div>
<div class="line">        do_vin_setup_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vin standby flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a162" name="a162"></a>vin_standby_flag) {</div>
<div class="line">        do_vin_standby_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//source buffer flag config during idle flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_goto_idle_flag == 1) {</div>
<div class="line">        do_change_parameter_during_idle_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//enable preview flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_goto_idle_flag == 1 &amp;&amp; !nopreview_flag) {</div>
<div class="line">        do_enable_preview_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//set encode format flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a163" name="a163"></a>encode_format_changed_id) {</div>
<div class="line">        do_change_encode_format_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//set encode param flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a164" name="a164"></a>encode_param_changed_id) {</div>
<div class="line">        do_change_encode_config_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//encode start flag</span></div>
<div class="line">    start_stream_id |= restart_stream_id;</div>
<div class="line">    <span class="keywordflow">if</span> (start_stream_id) {</div>
<div class="line">        do_start_encoding_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//real time change flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (vin_framerate_flag ||</div>
<div class="line">        framerate_factor_changed_id ||</div>
<div class="line">        framerate_factor_sync_id ||</div>
<div class="line">        frame_rate_update_mode_changed_id ||</div>
<div class="line">        stream_abs_fps_enabled_id ||</div>
<div class="line">        stream_abs_fps_changed_id ||</div>
<div class="line">        force_idr_id ||</div>
<div class="line">        force_fast_seek_id ||</div>
<div class="line">        qp_limit_changed_id ||</div>
<div class="line">        <a id="a165" name="a165"></a>intra_mb_rows_changed_id ||</div>
<div class="line">        <a id="a166" name="a166"></a>cfg_changed_src_buf_map ||</div>
<div class="line">        vcap_vin_disable_flag ||</div>
<div class="line">        trigger_frame_stream_id) {</div>
<div class="line">        do_real_time_change_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//debug setup flag</span></div>
<div class="line">    <span class="keywordflow">if</span> (debug_setup_flag) {</div>
<div class="line">        do_debug_setup_flag = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/********************************************************</span></div>
<div class="line"><span class="comment"> *  execution base on flag</span></div>
<div class="line"><span class="comment"> *******************************************************/</span></div>
<div class="line">    <span class="comment">/* check MCL API version */</span></div>
<div class="line">    <span class="keywordflow">if</span> (system_resource_setup.resource_cfg_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (mcl_check_api_version(&amp;mcl_api_ver) &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//show message</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_show_status_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_show_status() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//stop encoding</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_stop_encoding_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_stop_encoding() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//abort encoding</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_abort_encoding_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_abort_encoding() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (do_vp_cfg_setup_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_vp_cfg_setup() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (do_reset_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_reset() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//disable preview (goto idle)</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_goto_idle_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_goto_idle(do_vin_setup_flag, do_no_vout_reset_flag) &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (do_resource_mem_cfg_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a167" name="a167"></a><a class="code hl_functionRef" target="_blank" href="../../../video/d8/df2/resource__cfg_8c.html#af61015fd28c02dd58a18641fc5f8f002">setup_resource_mem_cfg</a>() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (do_custom_cmds_flag) {</div>
<div class="line">        <a id="a168" name="a168"></a>do_custom_cmds();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vout setup</span></div>
<div class="line">    <span class="keywordflow">if</span> (system_resource_setup.vout_cfg_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a169" name="a169"></a><a class="code hl_functionRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#a4c75e668b96c9379c3576430df335944">vout_init_cfg</a>(fd_iav, system_resource_setup.vout_cfg) &lt; 0 ||</div>
<div class="line">            <a id="a170" name="a170"></a><a class="code hl_functionRef" target="_blank" href="../../../video/de/ddf/vout__init__cfg_8c.html#aefe84b9f04048c3846cd3749fbdcf4f7">vout_change_cfg</a>(fd_iav, system_resource_setup.vout_cfg) &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">//if (vout_init(fd_iav) &lt; 0 || vout_change(fd_iav) &lt; 0)</span></div>
<div class="line">        <span class="comment">//  return -1;</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">//vin setup</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_vin_setup_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a171" name="a171"></a><a class="code hl_functionRef" target="_blank" href="../../../video/d8/df2/resource__cfg_8c.html#a6e004c3ee4f8089c9a9141565057fc20">do_vin_setup</a>() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//vin standby</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_vin_standby_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a id="a172" name="a172"></a><a class="code hl_functionRef" target="_blank" href="../../../video/d4/daa/vin__init_8c.html#a815ef80e14e27e95aa7d519e1b50df4a">set_vin_standby</a>(source) &lt; 0) {</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//change source buffer paramter that needs idle state</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_change_parameter_during_idle_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_change_param_during_idle() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//enable preview</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_enable_preview_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_enable_preview(do_no_vout_reset_flag) &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//change encoding format</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_change_encode_format_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_change_encode_format() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//change encoding param</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_change_encode_config_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_change_encode_config() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//real time change encoding parameter</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_real_time_change_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_real_time_change() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (do_debug_setup_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_debug_setup() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//start encoding</span></div>
<div class="line">    <span class="keywordflow">if</span> (do_start_encoding_flag) {</div>
<div class="line">        <span class="keywordflow">if</span> (do_start_encoding() &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="aasf__structure_8h_html_a92c50087ca0e64fa93fc59402c55f8ca"><div class="ttname"><a href="../../../library/d2/d47/asf__structure_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a></div><div class="ttdeci">uint8_t u8</div></div>
<div class="ttc" id="aasf__structure_8h_html_afaa62991928fb9fb18ff0db62a040aba"><div class="ttname"><a href="../../../library/d2/d47/asf__structure_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a></div><div class="ttdeci">uint32_t u32</div></div>
<div class="ttc" id="abasetypes_8h_html"><div class="ttname"><a href="../../de/ddc/basetypes_8h.html">basetypes.h</a></div><div class="ttdoc">This file defines basic types used in all IAV driver and header files.</div></div>
<div class="ttc" id="abuffer__cfg_8c_html"><div class="ttname"><a href="../../../video/d7/dfa/buffer__cfg_8c.html">buffer_cfg.c</a></div></div>
<div class="ttc" id="abuffer__cfg_8c_html_a0b67204a192a6f5153ff63598fc78dc8"><div class="ttname"><a href="../../../video/d7/dfa/buffer__cfg_8c.html#a0b67204a192a6f5153ff63598fc78dc8">SOURCE_BUFFER_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define SOURCE_BUFFER_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="achan__cfg_8c_html"><div class="ttname"><a href="../../../video/d6/da0/chan__cfg_8c.html">chan_cfg.c</a></div></div>
<div class="ttc" id="achan__cfg_8c_html_a6cc0424a45611ec85815f5e4634853c3"><div class="ttname"><a href="../../../video/d6/da0/chan__cfg_8c.html#a6cc0424a45611ec85815f5e4634853c3">CHANNEL_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define CHANNEL_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="acustom__cfg_8c_html"><div class="ttname"><a href="../../../video/db/deb/custom__cfg_8c.html">custom_cfg.c</a></div></div>
<div class="ttc" id="acustom__cfg_8c_html_a3b85fbd6a5b4a0ae527e5c149123ae5b"><div class="ttname"><a href="../../../video/db/deb/custom__cfg_8c.html#a3b85fbd6a5b4a0ae527e5c149123ae5b">CUSTOM_CFG_NUMERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define CUSTOM_CFG_NUMERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="adummy_html"><div class="ttname"><a href="../../dummy.html">VIN_CONTROLLER_NUM</a></div><div class="ttdeci">#define VIN_CONTROLLER_NUM</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_gga48ae935242eaabbfb32b0e16c1aa46aeab0a1bc32e9aff54ef3885b138442a1d9"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#gga48ae935242eaabbfb32b0e16c1aa46aeab0a1bc32e9aff54ef3885b138442a1d9">IAV_VCAP_CFG_STATE</a></div><div class="ttdeci">IAV_VCAP_CFG_STATE</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371a034a8c4db0d00cff49ab2a1441f348a4"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a034a8c4db0d00cff49ab2a1441f348a4">IAV_DEBUGCFG_AUDIT_VOUT</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_VOUT</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371a3d5303aa889630aedd5acd27950be813"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a3d5303aa889630aedd5acd27950be813">IAV_DEBUGCFG_AUDIT_IOCTL</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_IOCTL</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371a41a1a22316fd3874a971af7c7bda3e2a"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a41a1a22316fd3874a971af7c7bda3e2a">IAV_DEBUGCFG_AUDIT_YUV_DELAY</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_YUV_DELAY</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371a7d4f7df760fb385b3e411d1aaf9e3e2b"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371a7d4f7df760fb385b3e411d1aaf9e3e2b">IAV_DEBUGCFG_SKIP_IRQ</a></div><div class="ttdeci">IAV_DEBUGCFG_SKIP_IRQ</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371aaecec6a31be40a3ac3633910394d5544"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371aaecec6a31be40a3ac3633910394d5544">IAV_DEBUGCFG_CHECK_ALL</a></div><div class="ttdeci">IAV_DEBUGCFG_CHECK_ALL</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371ab98b1ec79a4f20243730d0d0e9e1af73"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ab98b1ec79a4f20243730d0d0e9e1af73">IAV_DEBUGCFG_AUDIT_INT</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_INT</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371acc0a371a751051bc4cc79c10973b9590"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371acc0a371a751051bc4cc79c10973b9590">IAV_DEBUGCFG_CHECK_SYS_PERF</a></div><div class="ttdeci">IAV_DEBUGCFG_CHECK_SYS_PERF</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371acd56a7aceeeb1bfea352629373fab9f0"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371acd56a7aceeeb1bfea352629373fab9f0">IAV_DEBUGCFG_AUDIT_IDSP</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_IDSP</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371adcf45f202da1f85e590421ef68e8fbd2"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371adcf45f202da1f85e590421ef68e8fbd2">IAV_DEBUGCFG_AUDIT_ENC</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_ENC</div></div>
<div class="ttc" id="agroup__iav-ioctl-general-helper_html_ggaa5d759f95d90a56ac28fc53a1a1a6371ae03d6f0a3d13a07be3d69a2b4f223a37"><div class="ttname"><a href="../../../library/d3/de3/group__iav-ioctl-general-helper.html#ggaa5d759f95d90a56ac28fc53a1a1a6371ae03d6f0a3d13a07be3d69a2b4f223a37">IAV_DEBUGCFG_AUDIT_VV_DELAY</a></div><div class="ttdeci">IAV_DEBUGCFG_AUDIT_VV_DELAY</div></div>
<div class="ttc" id="aresource__cfg_8c_html"><div class="ttname"><a href="../../../video/d8/df2/resource__cfg_8c.html">resource_cfg.c</a></div></div>
<div class="ttc" id="aresource__cfg_8c_html_a6e004c3ee4f8089c9a9141565057fc20"><div class="ttname"><a href="../../../video/d8/df2/resource__cfg_8c.html#a6e004c3ee4f8089c9a9141565057fc20">do_vin_setup</a></div><div class="ttdeci">int do_vin_setup(void)</div></div>
<div class="ttc" id="aresource__cfg_8c_html_af61015fd28c02dd58a18641fc5f8f002"><div class="ttname"><a href="../../../video/d8/df2/resource__cfg_8c.html#af61015fd28c02dd58a18641fc5f8f002">setup_resource_mem_cfg</a></div><div class="ttdeci">int setup_resource_mem_cfg(void)</div></div>
<div class="ttc" id="astream__cfg_8c_html"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html">stream_cfg.c</a></div></div>
<div class="ttc" id="astream__cfg_8c_html_a26fd4605cf4521a828cb093c2f704b9d"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#a26fd4605cf4521a828cb093c2f704b9d">PANIC_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define PANIC_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="astream__cfg_8c_html_a768f5fb1834553d04815361bcf868266"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#a768f5fb1834553d04815361bcf868266">ENCODE_CONTROL_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define ENCODE_CONTROL_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="astream__cfg_8c_html_a78506ada45dcdf7a34a7a8894563f3bf"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#a78506ada45dcdf7a34a7a8894563f3bf">MJPEGENC_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define MJPEGENC_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="astream__cfg_8c_html_a7f5b587cc141a2163e047f86f6867efe"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#a7f5b587cc141a2163e047f86f6867efe">STREAM_PARAMETER_HINTS</a></div><div class="ttdeci">#define STREAM_PARAMETER_HINTS()</div></div>
<div class="ttc" id="astream__cfg_8c_html_aacca781b8bd5ca0005e4a814cad5d4a0"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#aacca781b8bd5ca0005e4a814cad5d4a0">H264ENC_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define H264ENC_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="astream__cfg_8c_html_ad6fdf30a21e913ee4075980e9a49cc02"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#ad6fdf30a21e913ee4075980e9a49cc02">STREAM_LONG_OPTIONS</a></div><div class="ttdeci">#define STREAM_LONG_OPTIONS()</div></div>
<div class="ttc" id="astream__cfg_8c_html_ad7384b69244455866e90c5d30d07a931"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#ad7384b69244455866e90c5d30d07a931">STREAM_INIT_PARAMETERS</a></div><div class="ttdeci">#define STREAM_INIT_PARAMETERS()</div></div>
<div class="ttc" id="astream__cfg_8c_html_aee585c71a75fe17e0f6b1fe091009291"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#aee585c71a75fe17e0f6b1fe091009291">__encode_res</a></div><div class="ttdeci">struct encode_resolution_s __encode_res[]</div></div>
<div class="ttc" id="astream__cfg_8c_html_aefd05aa50b7f1a63d6312f266b7b54b4"><div class="ttname"><a href="../../../video/da/d30/stream__cfg_8c.html#aefd05aa50b7f1a63d6312f266b7b54b4">STREAM_NUMVERIC_SHORT_OPTIONS</a></div><div class="ttdeci">#define STREAM_NUMVERIC_SHORT_OPTIONS</div></div>
<div class="ttc" id="astructh264__param__s_html"><div class="ttname"><a href="../../../video/d6/dcd/structh264__param__s.html">h264_param_s</a></div></div>
<div class="ttc" id="astructhint__s_html"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html">hint_s</a></div></div>
<div class="ttc" id="astructhint__s_html_a2799cca21c05a4f99f4c8b3b178d0133"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">hint_s::str</a></div><div class="ttdeci">const char * str</div></div>
<div class="ttc" id="astructhint__s_html_aa56a50443afd9d2f7cf738fb7ffba168"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">hint_s::arg</a></div><div class="ttdeci">const char * arg</div></div>
<div class="ttc" id="astructiav__debug__audit_html"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html">iav_debug_audit</a></div></div>
<div class="ttc" id="astructiav__debug__audit_html_a422b10775195c18b15a3f93b4d3457b6"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#a422b10775195c18b15a3f93b4d3457b6">iav_debug_audit::max</a></div><div class="ttdeci">u32 max</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3815</div></div>
<div class="ttc" id="astructiav__debug__audit_html_a474d718cd49b11728ee9101f026f9917"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#a474d718cd49b11728ee9101f026f9917">iav_debug_audit::cnt</a></div><div class="ttdeci">u64 cnt</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3813</div></div>
<div class="ttc" id="astructiav__debug__audit_html_a76f8ba65ce8f902c0657233adee58698"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#a76f8ba65ce8f902c0657233adee58698">iav_debug_audit::id</a></div><div class="ttdeci">u32 id</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3810</div></div>
<div class="ttc" id="astructiav__debug__audit_html_ab4b3cc0eb8d6dbd703f05e219194af8e"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">iav_debug_audit::enable</a></div><div class="ttdeci">u32 enable</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3811</div></div>
<div class="ttc" id="astructiav__debug__audit_html_ad63bd264952d4ad459d3305a8691b7c4"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#ad63bd264952d4ad459d3305a8691b7c4">iav_debug_audit::sum</a></div><div class="ttdeci">u64 sum</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3814</div></div>
<div class="ttc" id="astructiav__debug__audit_html_ad6af6a0d5d23b47507b5534f042d87ed"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#ad6af6a0d5d23b47507b5534f042d87ed">iav_debug_audit::min</a></div><div class="ttdeci">u32 min</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3816</div></div>
<div class="ttc" id="astructiav__debug__audit_html_ae110e78298f7973cd523c0f13d8cb488"><div class="ttname"><a href="../../../library/d3/dc7/structiav__debug__audit.html#ae110e78298f7973cd523c0f13d8cb488">iav_debug_audit::cur</a></div><div class="ttdeci">u32 cur</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3817</div></div>
<div class="ttc" id="astructiav__debug__cfg_html"><div class="ttname"><a href="../../../library/dc/d78/structiav__debug__cfg.html">iav_debug_cfg</a></div></div>
<div class="ttc" id="astructiav__debug__enc__audit_html"><div class="ttname"><a href="../../../library/d0/d6d/structiav__debug__enc__audit.html">iav_debug_enc_audit</a></div></div>
<div class="ttc" id="astructiav__debug__enc__audit_html_a5d486234ddc7e378a1d9a91d18caa337"><div class="ttname"><a href="../../../library/d0/d6d/structiav__debug__enc__audit.html#a5d486234ddc7e378a1d9a91d18caa337">iav_debug_enc_audit::enc_frm_drop_cnt</a></div><div class="ttdeci">u32 enc_frm_drop_cnt[IAV_STREAM_MAX_NUM_ALL]</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3831</div></div>
<div class="ttc" id="astructiav__debug__enc__audit_html_ab4b3cc0eb8d6dbd703f05e219194af8e"><div class="ttname"><a href="../../../library/d0/d6d/structiav__debug__enc__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">iav_debug_enc_audit::enable</a></div><div class="ttdeci">u32 enable</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3829</div></div>
<div class="ttc" id="astructiav__debug__idsp__audit_html"><div class="ttname"><a href="../../../library/d3/d54/structiav__debug__idsp__audit.html">iav_debug_idsp_audit</a></div></div>
<div class="ttc" id="astructiav__debug__idsp__audit_html_ab4b3cc0eb8d6dbd703f05e219194af8e"><div class="ttname"><a href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">iav_debug_idsp_audit::enable</a></div><div class="ttdeci">u32 enable</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3822</div></div>
<div class="ttc" id="astructiav__debug__idsp__audit_html_ac1953e8ea62da8c89589886d2a5ab3b3"><div class="ttname"><a href="../../../library/d3/d54/structiav__debug__idsp__audit.html#ac1953e8ea62da8c89589886d2a5ab3b3">iav_debug_idsp_audit::idsp_frm_drop_cnt</a></div><div class="ttdeci">int idsp_frm_drop_cnt[CONFIG_AMBARELLA_MAX_CHANNEL_NUM]</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3824</div></div>
<div class="ttc" id="astructiav__debug__skip__dsp__irq_html"><div class="ttname"><a href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html">iav_debug_skip_dsp_irq</a></div></div>
<div class="ttc" id="astructiav__debug__skip__dsp__irq_html_aaa32e3776fc2ec2dd316a33cd824900f"><div class="ttname"><a href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html#aaa32e3776fc2ec2dd316a33cd824900f">iav_debug_skip_dsp_irq::dsp_port</a></div><div class="ttdeci">u8 dsp_port</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3844</div></div>
<div class="ttc" id="astructiav__debug__skip__dsp__irq_html_ab2435a9903c760affdbc29523da2e252"><div class="ttname"><a href="../../../library/db/d10/structiav__debug__skip__dsp__irq.html#ab2435a9903c760affdbc29523da2e252">iav_debug_skip_dsp_irq::skip_cnt</a></div><div class="ttdeci">u32 skip_cnt</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3843</div></div>
<div class="ttc" id="astructiav__debug__vout__audit_html"><div class="ttname"><a href="../../../library/d7/dab/structiav__debug__vout__audit.html">iav_debug_vout_audit</a></div></div>
<div class="ttc" id="astructiav__debug__vout__audit_html_ab4b3cc0eb8d6dbd703f05e219194af8e"><div class="ttname"><a href="../../../library/d7/dab/structiav__debug__vout__audit.html#ab4b3cc0eb8d6dbd703f05e219194af8e">iav_debug_vout_audit::enable</a></div><div class="ttdeci">u32 enable</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3836</div></div>
<div class="ttc" id="astructiav__debug__vout__audit_html_af01e9cfa0226a76bbaa632d10f139e76"><div class="ttname"><a href="../../../library/d7/dab/structiav__debug__vout__audit.html#af01e9cfa0226a76bbaa632d10f139e76">iav_debug_vout_audit::vout_uf_cnt</a></div><div class="ttdeci">u32 vout_uf_cnt[VOUT_NUM]</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:3838</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html">iav_dsp_boot_params</a></div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_a009945a00e866a3739b32b09c7fc1b22"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a009945a00e866a3739b32b09c7fc1b22">iav_dsp_boot_params::vout_osd_rescale_flag</a></div><div class="ttdeci">u32 vout_osd_rescale_flag</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:580</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_a75e60b075d75480f684c650705738651"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a75e60b075d75480f684c650705738651">iav_dsp_boot_params::debug_chip_id_flag</a></div><div class="ttdeci">u32 debug_chip_id_flag</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:579</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_a76e2beef04ab0718ee05b0876cfbc487"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a76e2beef04ab0718ee05b0876cfbc487">iav_dsp_boot_params::vout_osd_rescale_disable</a></div><div class="ttdeci">u8 vout_osd_rescale_disable</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:586</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_a7d6498e5ba18d59c28298b1264601aa6"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#a7d6498e5ba18d59c28298b1264601aa6">iav_dsp_boot_params::debug_chip_id</a></div><div class="ttdeci">u8 debug_chip_id</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:584</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_acfbba50b828eada280def4bec6788015"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#acfbba50b828eada280def4bec6788015">iav_dsp_boot_params::vout_possible_map</a></div><div class="ttdeci">u8 vout_possible_map</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:588</div></div>
<div class="ttc" id="astructiav__dsp__boot__params_html_ae41d10c9172373648b45af37a0a96114"><div class="ttname"><a href="../../../library/dd/dd8/structiav__dsp__boot__params.html#ae41d10c9172373648b45af37a0a96114">iav_dsp_boot_params::vout_possible_map_flag</a></div><div class="ttdeci">u32 vout_possible_map_flag</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:581</div></div>
<div class="ttc" id="astructiav__dsp__vp__cfg_html"><div class="ttname"><a href="../../../library/d7/d2f/structiav__dsp__vp__cfg.html">iav_dsp_vp_cfg</a></div></div>
<div class="ttc" id="astructiav__idle__params_html"><div class="ttname"><a href="../../../library/d7/d46/structiav__idle__params.html">iav_idle_params</a></div></div>
<div class="ttc" id="astructiav__idle__params_html_a7966f805ac53ccbe241ec65f1c7db303"><div class="ttname"><a href="../../../library/d7/d46/structiav__idle__params.html#a7966f805ac53ccbe241ec65f1c7db303">iav_idle_params::poweroff_vin</a></div><div class="ttdeci">u8 poweroff_vin</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:596</div></div>
<div class="ttc" id="astructiav__idle__params_html_ac1422fa9674a0ca4d5fa18b581b1e0cf"><div class="ttname"><a href="../../../library/d7/d46/structiav__idle__params.html#ac1422fa9674a0ca4d5fa18b581b1e0cf">iav_idle_params::dsp_boot_params</a></div><div class="ttdeci">struct iav_dsp_boot_params dsp_boot_params</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:600</div></div>
<div class="ttc" id="astructiav__idle__params_html_aea63c99aef90c1db34aff8ff47557e6d"><div class="ttname"><a href="../../../library/d7/d46/structiav__idle__params.html#aea63c99aef90c1db34aff8ff47557e6d">iav_idle_params::no_vout_reset</a></div><div class="ttdeci">u8 no_vout_reset</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:597</div></div>
<div class="ttc" id="astructiav__preview__params_html"><div class="ttname"><a href="../../../library/da/d66/structiav__preview__params.html">iav_preview_params</a></div></div>
<div class="ttc" id="astructiav__preview__params_html_aea63c99aef90c1db34aff8ff47557e6d"><div class="ttname"><a href="../../../library/da/d66/structiav__preview__params.html#aea63c99aef90c1db34aff8ff47557e6d">iav_preview_params::no_vout_reset</a></div><div class="ttdeci">u8 no_vout_reset</div><div class="ttdef"><b>Definition:</b> iav_ioctl.h:604</div></div>
<div class="ttc" id="astructiav__system__resource_html"><div class="ttname"><a href="../../../library/df/d3a/structiav__system__resource.html">iav_system_resource</a></div></div>
<div class="ttc" id="astructiav__vcap__cfg_html"><div class="ttname"><a href="../../../library/de/d1e/structiav__vcap__cfg.html">iav_vcap_cfg</a></div></div>
<div class="ttc" id="astructvout__params_html"><div class="ttname"><a href="../../../library/d6/d21/structvout__params.html">vout_params</a></div></div>
<div class="ttc" id="astructvout__params_html_a864f94ccc649321fc0ffb37758bc6e2a"><div class="ttname"><a href="../../../library/d6/d21/structvout__params.html#a864f94ccc649321fc0ffb37758bc6e2a">vout_params::video_enable</a></div><div class="ttdeci">unsigned int video_enable</div><div class="ttdef"><b>Definition:</b> iav_vout_common.h:138</div></div>
<div class="ttc" id="astructvout__params_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../../library/d6/d21/structvout__params.html#ab7ce6f462afaf105224b0ca772a33c43">vout_params::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> iav_vout_common.h:128</div></div>
<div class="ttc" id="atest__decode_8h_html_ab5fefa6fc4abffdc4b912255ea537aae"><div class="ttname"><a href="../../../video/d0/d7d/test__decode_8h.html#ab5fefa6fc4abffdc4b912255ea537aae">numeric_short_options</a></div><div class="ttdeci">numeric_short_options</div></div>
<div class="ttc" id="atest__encode_8h_html"><div class="ttname"><a href="../../../video/d6/d72/test__encode_8h.html">test_encode.h</a></div></div>
<div class="ttc" id="atest__vout__cfg_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="../../../video/db/d1a/test__vout__cfg_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div></div>
<div class="ttc" id="avin__init_8c_html"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html">vin_init.c</a></div></div>
<div class="ttc" id="avin__init_8c_html_a5294002f7dca0cd9bcc0009a27895ef7"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html#a5294002f7dca0cd9bcc0009a27895ef7">fd_iav</a></div><div class="ttdeci">int fd_iav</div></div>
<div class="ttc" id="avin__init_8c_html_a590f774f70199c227f54837fd5c000b0"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html#a590f774f70199c227f54837fd5c000b0">__vin_modes</a></div><div class="ttdeci">struct vin_mode_s __vin_modes[]</div></div>
<div class="ttc" id="avin__init_8c_html_a815ef80e14e27e95aa7d519e1b50df4a"><div class="ttname"><a href="../../../video/d4/daa/vin__init_8c.html#a815ef80e14e27e95aa7d519e1b50df4a">set_vin_standby</a></div><div class="ttdeci">int set_vin_standby(int vsrc_id)</div></div>
<div class="ttc" id="avout__init__cfg_8c_html"><div class="ttname"><a href="../../../video/de/ddf/vout__init__cfg_8c.html">vout_init_cfg.c</a></div></div>
<div class="ttc" id="avout__init__cfg_8c_html_a4c75e668b96c9379c3576430df335944"><div class="ttname"><a href="../../../video/de/ddf/vout__init__cfg_8c.html#a4c75e668b96c9379c3576430df335944">vout_init_cfg</a></div><div class="ttdeci">int vout_init_cfg(int fd, char *p_vout_cfg)</div></div>
<div class="ttc" id="avout__init__cfg_8c_html_a88a5b93883c34229851d6a7a93254850"><div class="ttname"><a href="../../../video/de/ddf/vout__init__cfg_8c.html#a88a5b93883c34229851d6a7a93254850">AM_IOCTL</a></div><div class="ttdeci">#define AM_IOCTL(_filp, _cmd, _arg)</div></div>
<div class="ttc" id="avout__init__cfg_8c_html_aefe84b9f04048c3846cd3749fbdcf4f7"><div class="ttname"><a href="../../../video/de/ddf/vout__init__cfg_8c.html#aefe84b9f04048c3846cd3749fbdcf4f7">vout_change_cfg</a></div><div class="ttdeci">int vout_change_cfg(int fd, char *p_vout_cfg)</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
