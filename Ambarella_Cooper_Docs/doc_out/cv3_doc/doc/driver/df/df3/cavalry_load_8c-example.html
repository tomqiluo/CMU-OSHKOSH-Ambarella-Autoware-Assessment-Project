<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Driver: cavalry_load.c</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Driver"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-ambarella.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Ambarella.png"/></td>
  <td id="projectalign">
   <div id="projectname">Driver<span id="projectnumber">&#160;Cooper_1.6.0 (CV72 &amp; CV3) @ 2024.07.10 14:12:44</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/df3/cavalry_load_8c-example.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">cavalry_load.c</div></div>
</div><!--header-->
<div class="contents">
<p >This is a source code file of cavalry_load.</p>
<div class="fragment"><div class="line"><span class="comment">/*******************************************************************************</span></div>
<div class="line"><span class="comment"> * cavalry_load.c</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * History:</span></div>
<div class="line"><span class="comment"> *    2018/06/01  - [Zhikan Yang] created for S5L</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2018 Ambarella International LP</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This file and its contents ( &quot;Software&quot; ) are protected by intellectual</span></div>
<div class="line"><span class="comment"> * property rights including, without limitation, U.S. and/or foreign</span></div>
<div class="line"><span class="comment"> * copyrights. This Software is also the confidential and proprietary</span></div>
<div class="line"><span class="comment"> * information of Ambarella International LP and its licensors. You may not use, reproduce,</span></div>
<div class="line"><span class="comment"> * disclose, distribute, modify, or otherwise prepare derivative works of this</span></div>
<div class="line"><span class="comment"> * Software or any portion thereof except pursuant to a signed license agreement</span></div>
<div class="line"><span class="comment"> * or nondisclosure agreement with Ambarella International LP or its authorized affiliates.</span></div>
<div class="line"><span class="comment"> * In the absence of such an agreement, you agree to promptly notify and return</span></div>
<div class="line"><span class="comment"> * this Software to Ambarella International LP.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This file includes sample code and is only for internal testing and evaluation.  If you</span></div>
<div class="line"><span class="comment"> * distribute this sample code (whether in source, object, or binary code form), it will be</span></div>
<div class="line"><span class="comment"> * without any warranty or indemnity protection from Ambarella International LP or its affiliates.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,</span></div>
<div class="line"><span class="comment"> * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT,</span></div>
<div class="line"><span class="comment"> * MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span></div>
<div class="line"><span class="comment"> * IN NO EVENT SHALL AMBARELLA INTERNATIONAL LP OR ITS AFFILIATES BE LIABLE FOR ANY DIRECT,</span></div>
<div class="line"><span class="comment"> * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><span class="comment"> * LOSS OF USE, DATA, OR PROFITS; COMPUTER FAILURE OR MALFUNCTION; OR BUSINESS</span></div>
<div class="line"><span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div>
<div class="line"><span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment">******************************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d3/dbc/cavalry__ioctl_8h.html">cavalry_ioctl.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define FILENAME_LENGTH     (256)</span></div>
<div class="line"><span class="preprocessor">#define MAX_SLOT_NUM    (32)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>slot_match {</div>
<div class="line">    <span class="keywordtype">void</span> *virt;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> phys;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> size;</div>
<div class="line"> </div>
<div class="line">    uint8_t slot_id;</div>
<div class="line">    uint8_t reserved[3];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> file_name[FILENAME_LENGTH];</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>ucode_ctx {</div>
<div class="line">    <span class="keywordtype">int</span> fd_cav;</div>
<div class="line"> </div>
<div class="line">    uint32_t file_flag : 1;</div>
<div class="line">    uint32_t force_load : 1;</div>
<div class="line"> </div>
<div class="line">    uint32_t stop_vp_flag : 1;</div>
<div class="line">    uint32_t cavalry_clk_flag : 1;</div>
<div class="line">    uint32_t cavalry_vp_clk_flag : 1;</div>
<div class="line">    uint32_t cavalry_status_flag : 1;</div>
<div class="line">    uint32_t reserved_0 : 26;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> *ucode_addr;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ucode_size;</div>
<div class="line">    <span class="keywordtype">char</span> file_name[FILENAME_LENGTH];</div>
<div class="line"> </div>
<div class="line">    uint32_t slot_num;</div>
<div class="line">    <span class="keyword">struct </span>slot_match slot[MAX_SLOT_NUM];</div>
<div class="line"> </div>
<div class="line">    uint32_t vp_clk_numerator;</div>
<div class="line">    uint32_t vp_clk_denominator;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define NO_ARG    0</span></div>
<div class="line"><span class="preprocessor">#define HAS_ARG  1</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> <a class="code hl_enumerationRef" target="_blank" href="../../../video/d0/d7d/test__decode_8h.html#ab5fefa6fc4abffdc4b912255ea537aae">numeric_short_options</a> {</div>
<div class="line">    STOP_VP,</div>
<div class="line">    CONFIG_VP_CLK,</div>
<div class="line">    CAVALRY_STATUS,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>option <a id="a0" name="a0"></a>long_options[] = {</div>
<div class="line">    {<span class="stringliteral">&quot;file&quot;</span>, <a id="a1" name="a1"></a><a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, 0, <span class="charliteral">&#39;f&#39;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;force&quot;</span>, <a id="a2" name="a2"></a><a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#a2d0022791143e08a64621257f48d9739">NO_ARG</a>, 0, <span class="charliteral">&#39;r&#39;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;s-file&quot;</span>, <a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, 0, <span class="charliteral">&#39;e&#39;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;stop-vp&quot;</span>, <a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#a2d0022791143e08a64621257f48d9739">NO_ARG</a>, 0, STOP_VP},</div>
<div class="line">    {<span class="stringliteral">&quot;vp-clk&quot;</span>, <a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, 0, CONFIG_VP_CLK},</div>
<div class="line">    {<span class="stringliteral">&quot;status&quot;</span>, <a class="code hl_defineRef" target="_blank" href="../../../video/d3/d6c/test__fb_8h.html#a2d0022791143e08a64621257f48d9739">NO_ARG</a>, 0, CAVALRY_STATUS},</div>
<div class="line">    {0, 0, 0, 0}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a3" name="a3"></a>short_options = <span class="stringliteral">&quot;f:re:&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a id="_a4" name="_a4"></a><a class="code hl_structRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html">hint_s</a> {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a5" name="a5"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a id="a6" name="a6"></a><a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">str</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_structRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html">hint_s</a> <a id="a7" name="a7"></a>hint[] = {</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tPath to Cavalry ucode.&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tForce load Cavalry ucode.&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tCavalry hotlink slot file, max mum is 4. Auto match file to memory by slot id inside.&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tStop VP Hardware&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tConfig VP clock percentage. numerator/denominator. [n/m]: n should smaller than m.&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;\t\tShow cavalry status [Stopped | Started].&quot;</span>},</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a id="a8" name="a8"></a>usage(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *itself = <span class="stringliteral">&quot;cavalry_load&quot;</span>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;%s usage:\n&quot;</span>, itself);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(long_options) / <span class="keyword">sizeof</span>(long_options[0]) - 1; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (isalpha(long_options[i].val))</div>
<div class="line">            printf(<span class="stringliteral">&quot;-%c &quot;</span>, long_options[i].val);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;--%s&quot;</span>, long_options[i].<a id="a9" name="a9"></a>name);</div>
<div class="line">        <span class="keywordflow">if</span> (hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>[0] != 0)</div>
<div class="line">            printf(<span class="stringliteral">&quot; [%s]&quot;</span>, hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">arg</a>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\t%s\n&quot;</span>, hint[i].<a class="code hl_variableRef" target="_blank" href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">str</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nExample:\n\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;1. Load cavalry ucode:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  # %s -f /lib/firmware/cavalry.bin \n\n&quot;</span>, itself);</div>
<div class="line">    printf(<span class="stringliteral">&quot;2. Load cavalry ucode and hotlink:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  # %s -f /lib/firmware/cavalry.bin -e /lib/firmware/hotlink/hl.bin \n\n&quot;</span>, itself);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;3. Stop VP hardware:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  # %s --stop-vp \n\n&quot;</span>, itself);</div>
<div class="line">    printf(<span class="stringliteral">&quot;4. Configure VP Clock percentage 50%%:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  # %s --vp-clk 1/2 \n\n&quot;</span>, itself);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;5. Show cavalry status:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  # %s --status \n\n&quot;</span>, itself);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> get_two_int(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, uint32_t *first, uint32_t *second,</div>
<div class="line">    <span class="keywordtype">char</span> delimiter)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> tmp_string[16];</div>
<div class="line">    <span class="keywordtype">char</span> * separator;</div>
<div class="line"> </div>
<div class="line">    separator = strchr(name, delimiter);</div>
<div class="line">    <span class="keywordflow">if</span> (!separator) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;range should be like a%cb \n&quot;</span>, delimiter);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    strncpy(tmp_string, name, separator - name);</div>
<div class="line">    tmp_string[separator - <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">    *first = atoi(tmp_string);</div>
<div class="line">    strncpy(tmp_string, separator + 1,  name + strlen(name) -separator);</div>
<div class="line">    *second = atoi(tmp_string);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> init_param(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, <span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ch = 0;</div>
<div class="line">    <span class="keywordtype">int</span> option_index = 0;</div>
<div class="line">    <span class="keywordtype">int</span> value = 0, idx = 0;</div>
<div class="line">    uint32_t numerator = 0, denominator = 0;</div>
<div class="line"> </div>
<div class="line">    opterr = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ((ch = getopt_long(argc, argv, short_options, long_options, &amp;option_index)) != -1) {</div>
<div class="line">        <span class="keywordflow">switch</span> (ch) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line">            value = strlen(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (value &gt;= FILENAME_LENGTH) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Filename [%s] is too long [%d] (&gt;%d).\n&quot;</span>, optarg,</div>
<div class="line">                    value, FILENAME_LENGTH);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            snprintf(pctx-&gt;file_name, <span class="keyword">sizeof</span>(pctx-&gt;file_name), <span class="stringliteral">&quot;%s&quot;</span>, optarg);</div>
<div class="line">            pctx-&gt;file_flag = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line">            pctx-&gt;force_load = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div>
<div class="line">            value = strlen(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (value &gt;= FILENAME_LENGTH) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Filename [%s] is too long [%d] (&gt;%d).\n&quot;</span>, optarg,</div>
<div class="line">                    value, FILENAME_LENGTH);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            idx = pctx-&gt;slot_num;</div>
<div class="line">            <span class="keywordflow">if</span> (idx &gt;= MAX_SLOT_NUM) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Too much hotlink file: %u &gt;= %u\n&quot;</span>, idx, MAX_SLOT_NUM);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            snprintf(pctx-&gt;slot[idx].file_name, <span class="keyword">sizeof</span>(pctx-&gt;slot[idx].file_name), <span class="stringliteral">&quot;%s&quot;</span>, optarg);</div>
<div class="line">            pctx-&gt;slot_num++;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> STOP_VP:</div>
<div class="line">            pctx-&gt;stop_vp_flag = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> CONFIG_VP_CLK:</div>
<div class="line">            <span class="keywordflow">if</span> (get_two_int(optarg, &amp;numerator, &amp;denominator, <span class="charliteral">&#39;/&#39;</span>) &lt; 0) {</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (!numerator) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;cavalry clock numerator can not be zero: %u\n&quot;</span>, numerator);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (!denominator) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;cavalry clock denominator can not be zero: %u\n&quot;</span>, denominator);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (numerator &gt; denominator) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;cavalry clock can not be increased: %u/%u\n&quot;</span>, numerator, denominator);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            pctx-&gt;vp_clk_numerator = numerator;</div>
<div class="line">            pctx-&gt;vp_clk_denominator = denominator;</div>
<div class="line">            pctx-&gt;cavalry_vp_clk_flag = 1;</div>
<div class="line">            pctx-&gt;cavalry_clk_flag = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> CAVALRY_STATUS:</div>
<div class="line">            pctx-&gt;cavalry_status_flag = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            printf(<span class="stringliteral">&quot;unknown option found: %c\n&quot;</span>, ch);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> show_ucode_version(<span class="keywordtype">void</span> *addr)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *base = addr + <a id="a10" name="a10"></a><a class="code hl_define" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ga1cd8ef46d0c1de6e8dd65c7b30d3031f">VERSION_INFO_OFFSET</a>;</div>
<div class="line">    <span class="keyword">struct </span><a id="_a11" name="_a11"></a><a class="code hl_struct" href="../../d0/daa/structversion__info__s.html">version_info_s</a> *info = (<span class="keyword">struct </span><a class="code hl_struct" href="../../d0/daa/structversion__info__s.html">version_info_s</a> *)base;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (info-&gt;<a id="a12" name="a12"></a><a class="code hl_variable" href="../../d0/daa/structversion__info__s.html#acf2be07127c04e8c7520f8f99a8d46d5">chip</a>) {</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a13" name="a13"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea93f59969a351047ff9fb2f7cfd6f190d">CHIP_TYPE_CV22</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV22&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a14" name="a14"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea1ece722b2f10330d099b8b1946842733">CHIP_TYPE_CV2</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV2&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a15" name="a15"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea7674f0d65a989fcaeba48f2a7ada1cdc">CHIP_TYPE_CV25</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV25&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a16" name="a16"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea4a4afd51141ccc050b115024a2ba96d1">CHIP_TYPE_CV28</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV28&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a17" name="a17"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeafe2f943c633379208e9d258a1755e679">CHIP_TYPE_CV5</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV5&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a18" name="a18"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeaf0af29d148d436dc1f8c322746417c41">CHIP_TYPE_CV52</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV52&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a19" name="a19"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeaab82b92d03ba39ca3b747f52dc041c4e">CHIP_TYPE_CV3</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV3&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a20" name="a20"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeac91135c99c3253a2a908cf0b20b494f7">CHIP_TYPE_CV3AD685</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV3AD685&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a id="a21" name="a21"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea54df8998f52889841804b8be531a86a4">CHIP_TYPE_CV72</a>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;CV72&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <a class="code hl_variableRef" target="_blank" href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a> = <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Cavalry Ucode Version = %s-Ver.%u-%08u-%08x-hl_fw.%08u\n&quot;</span>,</div>
<div class="line">        name, info-&gt;<a id="a22" name="a22"></a><a class="code hl_variable" href="../../d0/daa/structversion__info__s.html#a417d035e0817b1fb3f27cf3af251533a">ucode_version</a>, info-&gt;<a id="a23" name="a23"></a><a class="code hl_variable" href="../../d0/daa/structversion__info__s.html#a2bde5a48eac5b5fe39e1a0131d604c0d">build_date</a>, info-&gt;<a id="a24" name="a24"></a><a class="code hl_variable" href="../../d0/daa/structversion__info__s.html#a7a2a905139264aa57ca935d7962cdaef">git_hash</a>, info-&gt;<a id="a25" name="a25"></a><a class="code hl_variable" href="../../d0/daa/structversion__info__s.html#a31b62251bb00fd281acd8216e883dc33">hotlink_fw_version</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> map_cavalry(<span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a26" name="_a26"></a><a class="code hl_struct" href="../../d2/df6/structcavalry__querybuf.html">cavalry_querybuf</a> querybuf;</div>
<div class="line">    <span class="keywordtype">void</span> *virt = NULL;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;querybuf, 0, <span class="keyword">sizeof</span>(querybuf));</div>
<div class="line">    querybuf.buf = <a id="a27" name="a27"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggafa5d536c609845d2b48b8e9d923fbed4a306b52dbdd0457fbb4da0120eb1c3e23">CAVALRY_MEM_UCODE</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a28" name="a28"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga42987a89847621e2044e11f47e4ac959">CAVALRY_QUERY_BUF</a>, &amp;querybuf) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;CAVALRY_QUERY_BUF&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    virt = mmap(NULL, querybuf.length, PROT_WRITE, MAP_SHARED, pctx-&gt;fd_cav,</div>
<div class="line">        querybuf.offset);</div>
<div class="line">    <span class="keywordflow">if</span> (virt == MAP_FAILED) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;mmap\n&quot;</span>);</div>
<div class="line">        rval = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        pctx-&gt;ucode_addr = virt;</div>
<div class="line">        pctx-&gt;ucode_size = querybuf.length;</div>
<div class="line">        printf(<span class="stringliteral">&quot;map_cavalry: phys: 0x%lx, virt: %p, total size: 0x%lx\n&quot;</span>,</div>
<div class="line">            querybuf.offset, pctx-&gt;ucode_addr, pctx-&gt;ucode_size);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> map_hotlink_slot(<span class="keyword">struct</span> ucode_ctx *pctx, <span class="keyword">struct</span> slot_match *slot)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_struct" href="../../d2/df6/structcavalry__querybuf.html">cavalry_querybuf</a> querybuf = {0};</div>
<div class="line">    <span class="keyword">struct </span><a id="_a29" name="_a29"></a><a class="code hl_struct" href="../../da/dc9/structcavalry__hotlink__slot__cfg.html">cavalry_hotlink_slot_cfg</a> slot_cfg = {0};</div>
<div class="line">    <span class="keywordtype">void</span> *virt = NULL;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> phys = 0;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a30" name="a30"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga588794f515a77d86717822127c50e827">CAVALRY_QUERY_HOTLINK_SLOT_BUF_CFG</a>, &amp;slot_cfg) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;CAVALRY_QUERY_HOTLINK_SLOT_BUF_CFG&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (slot-&gt;slot_id &gt;= slot_cfg.<a id="a31" name="a31"></a><a class="code hl_variable" href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#a0671e63935e09df651aa48e4173ee931">slot_num</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;slot_id: %u exceed max num: %u\n&quot;</span>, slot-&gt;slot_id, slot_cfg.<a class="code hl_variable" href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#a0671e63935e09df651aa48e4173ee931">slot_num</a>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    querybuf.<a id="a32" name="a32"></a><a class="code hl_variable" href="../../d2/df6/structcavalry__querybuf.html#a447cc954c1e9c3a8f3db6613f889964a">buf</a> = <a id="a33" name="a33"></a><a class="code hl_enumvalue" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggafa5d536c609845d2b48b8e9d923fbed4a1c315a490ff28b2795735fb1575278a6">CAVALRY_MEM_HOTLINK</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga42987a89847621e2044e11f47e4ac959">CAVALRY_QUERY_BUF</a>, &amp;querybuf) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;CAVALRY_QUERY_BUF&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    phys = querybuf.<a id="a34" name="a34"></a><a class="code hl_variable" href="../../d2/df6/structcavalry__querybuf.html#ac1369a1f209735864674d22517edfa76">offset</a> + slot-&gt;slot_id * slot_cfg.<a id="a35" name="a35"></a><a class="code hl_variable" href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#ae9d755a7127ad51dbb8717274f6940d0">per_slot_size</a>;</div>
<div class="line">    virt = mmap(NULL, slot_cfg.<a class="code hl_variable" href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#ae9d755a7127ad51dbb8717274f6940d0">per_slot_size</a>, PROT_WRITE, MAP_SHARED, pctx-&gt;fd_cav, phys);</div>
<div class="line">    <span class="keywordflow">if</span> (virt == MAP_FAILED) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;mmap\n&quot;</span>);</div>
<div class="line">        rval = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        slot-&gt;virt = virt;</div>
<div class="line">        slot-&gt;phys = querybuf.<a class="code hl_variable" href="../../d2/df6/structcavalry__querybuf.html#ac1369a1f209735864674d22517edfa76">offset</a>;</div>
<div class="line">        slot-&gt;size = querybuf.<a id="a36" name="a36"></a><a class="code hl_variable" href="../../d2/df6/structcavalry__querybuf.html#a9ee64c7b918513891b3834b93ad0e501">length</a>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;map_slot [%u] phys: 0x%lx, virt: %p, total size: 0x%lx\n&quot;</span>,</div>
<div class="line">            slot-&gt;slot_id, slot-&gt;phys, slot-&gt;virt, slot-&gt;size);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t crc32_tab[] = {</div>
<div class="line">    0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419, 0x706af48f,</div>
<div class="line">    0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988,</div>
<div class="line">    0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91, 0x1db71064, 0x6ab020f2,</div>
<div class="line">    0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,</div>
<div class="line">    0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,</div>
<div class="line">    0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172,</div>
<div class="line">    0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b, 0x35b5a8fa, 0x42b2986c,</div>
<div class="line">    0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,</div>
<div class="line">    0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423,</div>
<div class="line">    0xcfba9599, 0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,</div>
<div class="line">    0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190, 0x01db7106,</div>
<div class="line">    0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,</div>
<div class="line">    0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x086d3d2d,</div>
<div class="line">    0x91646c97, 0xe6635c01, 0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e,</div>
<div class="line">    0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,</div>
<div class="line">    0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,</div>
<div class="line">    0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7,</div>
<div class="line">    0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0,</div>
<div class="line">    0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa,</div>
<div class="line">    0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,</div>
<div class="line">    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81,</div>
<div class="line">    0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a,</div>
<div class="line">    0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683, 0xe3630b12, 0x94643b84,</div>
<div class="line">    0x0d6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,</div>
<div class="line">    0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,</div>
<div class="line">    0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc,</div>
<div class="line">    0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5, 0xd6d6a3e8, 0xa1d1937e,</div>
<div class="line">    0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,</div>
<div class="line">    0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55,</div>
<div class="line">    0x316e8eef, 0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,</div>
<div class="line">    0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe, 0xb2bd0b28,</div>
<div class="line">    0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,</div>
<div class="line">    0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a, 0x9c0906a9, 0xeb0e363f,</div>
<div class="line">    0x72076785, 0x05005713, 0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38,</div>
<div class="line">    0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,</div>
<div class="line">    0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,</div>
<div class="line">    0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69,</div>
<div class="line">    0x616bffd3, 0x166ccf45, 0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2,</div>
<div class="line">    0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc,</div>
<div class="line">    0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,</div>
<div class="line">    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693,</div>
<div class="line">    0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94,</div>
<div class="line">    0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> uint32_t crc32(<span class="keyword">const</span> <span class="keywordtype">void</span> *buf, uint32_t size)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> uint8_t *p = NULL;</div>
<div class="line">    uint32_t crc = 0;</div>
<div class="line"> </div>
<div class="line">    p = (<span class="keyword">const</span> uint8_t *)buf;</div>
<div class="line">    crc = ~0U;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (size &gt; 0) {</div>
<div class="line">        crc = crc32_tab[(crc ^ *p++) &amp; 0xff] ^ (crc &gt;&gt; 8);</div>
<div class="line">        size--;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> crc ^ ~0U;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> load_ucode(<span class="keywordtype">char</span> *file, <span class="keywordtype">void</span> *addr, uint32_t size)</div>
<div class="line">{</div>
<div class="line">    FILE *fp = NULL;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> file_length;</div>
<div class="line">    uint32_t *crc_bin;</div>
<div class="line">    uint32_t crc_result;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="keywordflow">if</span> ((fp = fopen(file, <span class="stringliteral">&quot;rb&quot;</span>)) == NULL) {</div>
<div class="line">            perror(file);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (fseek(fp, 0, SEEK_END) &lt; 0) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;SEEK_END&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        file_length = ftell(fp);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (file_length &gt; size) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;file size too large: %lu &gt; %u\n&quot;</span>, file_length, size);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (fseek(fp, 0, SEEK_SET) &lt; 0) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;SEEK_SET&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (fread(addr, 1, file_length, fp) != file_length) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;fread&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        crc_bin = addr + file_length - <span class="keyword">sizeof</span>(uint32_t);</div>
<div class="line">        crc_result = crc32(addr, file_length - <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line">        <span class="keywordflow">if</span> (*crc_bin != crc_result) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;%s damaged! CRC result is %x, should be %x\n&quot;</span>,</div>
<div class="line">                file, crc_result, *crc_bin);</div>
<div class="line">            rval = -1;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">while</span>(0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fp) {</div>
<div class="line">        fclose(fp);</div>
<div class="line">        fp = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> get_hotlink_slot_id(<span class="keyword">const</span> <span class="keywordtype">char</span> *file_name, uint8_t *slot_id)</div>
<div class="line">{</div>
<div class="line">    FILE *in = NULL;</div>
<div class="line">    uint32_t <span class="keywordtype">id</span> = 0;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="keywordflow">if</span> ((in = fopen(file_name, <span class="stringliteral">&quot;rb&quot;</span>)) == NULL) {</div>
<div class="line">            perror(file_name);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (fseek(in, <a id="a37" name="a37"></a><a class="code hl_define" href="../../d6/d9f/group__cavalry-ioctl-helper.html#gac101ed59e896b2e65483c92fcb38e88b">CAVALRY_SLOT_ID_OFFSET</a>, SEEK_SET) &lt; 0) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;SEEK_SET&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (fread(&amp;<span class="keywordtype">id</span>, 1, <span class="keyword">sizeof</span>(uint32_t), in) != <span class="keyword">sizeof</span>(uint32_t)) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;fread input file&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">while</span> (0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (in) {</div>
<div class="line">        fclose(in);</div>
<div class="line">        in = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!rval) {</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &gt;= MAX_SLOT_NUM) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Invalid slot_id: %u &gt;= %u\n&quot;</span>, <span class="keywordtype">id</span>, MAX_SLOT_NUM);</div>
<div class="line">            rval = -1;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Hotlink file: %s, slot_id: %u\n&quot;</span>, file_name, <span class="keywordtype">id</span>);</div>
<div class="line">            *slot_id = (uint8_t)<span class="keywordtype">id</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> load_hotlink(<span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    uint32_t slot_map = 0;</div>
<div class="line">    uint32_t i = 0;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pctx-&gt;slot_num == 0) {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a38" name="a38"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga4f1a2c14737ecfff0c3b358a30b619c7">CAVALRY_GET_HOTLINK_SLOT_CFG</a>, &amp;slot_map) &lt; 0) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;CAVALRY_GET_HOTLINK_SLOT_CFG&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; pctx-&gt;slot_num; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (get_hotlink_slot_id(pctx-&gt;slot[i].file_name, &amp;pctx-&gt;slot[i].slot_id) &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;get hotlink slot id err\n&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (map_hotlink_slot(pctx, &amp;pctx-&gt;slot[i]) &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;mmap slot [%u] err\n&quot;</span>, pctx-&gt;slot[i].slot_id);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (load_ucode(pctx-&gt;slot[i].file_name,</div>
<div class="line">            pctx-&gt;slot[i].virt, pctx-&gt;slot[i].size) &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;load slot [%s] err\n&quot;</span>, pctx-&gt;slot[i].file_name);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        };</div>
<div class="line">        slot_map |= (1 &lt;&lt; (pctx-&gt;slot[i].slot_id));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (rval == 0) {</div>
<div class="line">        <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a39" name="a39"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga94e5958cdd3313df2836e8424cbfac6c">CAVALRY_SET_HOTLINK_SLOT_CFG</a>, &amp;slot_map) &lt; 0) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;CAVALRY_SET_HOTLINK_SLOT_CFG&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> release(<span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    uint32_t i = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; pctx-&gt;slot_num; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;slot[i].virt) {</div>
<div class="line">            <span class="keywordflow">if</span> (munmap(pctx-&gt;slot[i].virt, pctx-&gt;slot[i].size) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;munmap slot&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            pctx-&gt;slot[i].virt = NULL;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pctx-&gt;ucode_addr) {</div>
<div class="line">        <span class="keywordflow">if</span> (munmap(pctx-&gt;ucode_addr, pctx-&gt;ucode_size) &lt; 0 ) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;munmap ucode&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        pctx-&gt;ucode_addr = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pctx-&gt;fd_cav &gt; 0) {</div>
<div class="line">        close(pctx-&gt;fd_cav);</div>
<div class="line">        pctx-&gt;fd_cav = -1;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> config_cavalry_clock(<span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a40" name="_a40"></a><a class="code hl_struct" href="../../dd/d71/structcavalry__clock__cfg.html">cavalry_clock_cfg</a> clk = {0};</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;cavalry_vp_clk_flag) {</div>
<div class="line">            clk.<a id="a41" name="a41"></a><a class="code hl_variable" href="../../dd/d71/structcavalry__clock__cfg.html#a60162ad40c3fc0265673da2a321e6554">vp_clk_flag</a> = 1;</div>
<div class="line">            clk.<a id="a42" name="a42"></a><a class="code hl_variable" href="../../dd/d71/structcavalry__clock__cfg.html#a2d2b0dbff8123a2760005a6b068e8ba8">vp_clk_numerator</a> = pctx-&gt;vp_clk_numerator;</div>
<div class="line">            clk.<a id="a43" name="a43"></a><a class="code hl_variable" href="../../dd/d71/structcavalry__clock__cfg.html#a523add199ececeb516171bbb139c41aa">vp_clk_denominator</a> = pctx-&gt;vp_clk_denominator;</div>
<div class="line">            <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a44" name="a44"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga76e2efadd6e337d5c935f41f4851fb64">CAVALRY_SET_CAVALRY_CLK</a>, &amp;clk) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;CAVALRY_SET_CAVALRY_CLK&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a45" name="a45"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#gac3aa2aea3d0abd6efa0a02cc46377487">CAVALRY_GET_CAVALRY_CLK</a>, &amp;clk) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;CAVALRY_GET_CAVALRY_CLK&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            printf(<span class="stringliteral">&quot;Configure VP Clock Percentage: %u/%u\n&quot;</span>,</div>
<div class="line">                clk.<a class="code hl_variable" href="../../dd/d71/structcavalry__clock__cfg.html#a2d2b0dbff8123a2760005a6b068e8ba8">vp_clk_numerator</a>, clk.<a class="code hl_variable" href="../../dd/d71/structcavalry__clock__cfg.html#a523add199ececeb516171bbb139c41aa">vp_clk_denominator</a>);</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">while</span> (0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> show_cavalry_status(<span class="keyword">struct</span> ucode_ctx *pctx)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a id="_a46" name="_a46"></a><a class="code hl_struct" href="../../d9/d42/structcavalry__status.html">cavalry_status</a> status = {0};</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a47" name="a47"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#gafeef5ed5b7c7d5a4a1a63deba0480aed">CAVALRY_GET_CAVALRY_STATUS</a>, &amp;status) &lt; 0) {</div>
<div class="line">            perror(<span class="stringliteral">&quot;CAVALRY_GET_CAVALRY_STATUS&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;Cavalry Status: %s \n&quot;</span>, status.<a id="a48" name="a48"></a><a class="code hl_variable" href="../../d9/d42/structcavalry__status.html#add94e4bd642ca06fe1052fe04c7a7069">is_cavalry_started</a> ? <span class="stringliteral">&quot;Started&quot;</span> : <span class="stringliteral">&quot;Stopped&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">while</span> (0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sigstop()</div>
<div class="line">{</div>
<div class="line">    exit(0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a id="a49" name="a49"></a><a class="code hl_functionRef" target="_blank" href="../../../video/db/d1a/test__vout__cfg_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>ucode_ctx ucode;</div>
<div class="line">    <span class="keyword">struct </span>ucode_ctx *pctx = &amp;ucode;</div>
<div class="line">    <span class="keywordtype">int</span> rval = 0;</div>
<div class="line"> </div>
<div class="line">    signal(SIGINT, sigstop);</div>
<div class="line">    signal(SIGQUIT, sigstop);</div>
<div class="line">    signal(SIGTERM, sigstop);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (argc &lt; 2) {</div>
<div class="line">        usage();</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    memset(pctx, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> ucode_ctx));</div>
<div class="line">    <span class="keywordflow">if</span> (init_param(argc, argv, pctx) &lt; 0) {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pctx-&gt;fd_cav = open(<a id="a50" name="a50"></a><a class="code hl_define" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ga6fa217129c0f69ef5ab1f0099e3895ed">CAVALRY_DEV_NODE</a>, O_RDWR, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (pctx-&gt;fd_cav &lt; 0) {</div>
<div class="line">        perror(<a class="code hl_define" href="../../d6/d9f/group__cavalry-ioctl-helper.html#ga6fa217129c0f69ef5ab1f0099e3895ed">CAVALRY_DEV_NODE</a>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;cavalry_status_flag) {</div>
<div class="line">            rval = show_cavalry_status(pctx);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;stop_vp_flag) {</div>
<div class="line">            <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a51" name="a51"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga80a7ac3e31d2496b6e238ce899995362">CAVALRY_STOP_VP</a>, NULL) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;CAVALRY_STOP_VP&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;cavalry_clk_flag) {</div>
<div class="line">            rval = config_cavalry_clock(pctx);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;force_load || pctx-&gt;file_flag) {</div>
<div class="line">            <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga80a7ac3e31d2496b6e238ce899995362">CAVALRY_STOP_VP</a>, NULL) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;CAVALRY_STOP_VP&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;file_flag || pctx-&gt;slot_num) {</div>
<div class="line">            <span class="keywordflow">if</span> (map_cavalry(pctx) &lt; 0) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;map_cavalry fails!\n&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;file_flag) {</div>
<div class="line">            <span class="keywordflow">if</span> (load_ucode(pctx-&gt;file_name, pctx-&gt;ucode_addr, pctx-&gt;ucode_size) &lt; 0) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;load ucode fails!\n&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            show_ucode_version(pctx-&gt;ucode_addr);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (load_hotlink(pctx) &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;load_hotlink err\n&quot;</span>);</div>
<div class="line">            rval = -1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pctx-&gt;force_load || pctx-&gt;file_flag) {</div>
<div class="line">            <span class="keywordflow">if</span> (ioctl(pctx-&gt;fd_cav, <a id="a52" name="a52"></a><a class="code hl_define" href="../../d9/d15/group__cavalry-ioctl-api.html#ga5992bb4f13d06a71c8b67734edb9272d">CAVALRY_START_VP</a>, NULL) &lt; 0) {</div>
<div class="line">                perror(<span class="stringliteral">&quot;CAVALRY_START_VP&quot;</span>);</div>
<div class="line">                rval = -1;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">while</span> (0);</div>
<div class="line"> </div>
<div class="line">    release(pctx);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
<div class="ttc" id="acJSON_8h_html_a25d22ecc7e656d2c59332072684e8766"><div class="ttname"><a href="../../../library/d1/d82/cJSON_8h.html#a25d22ecc7e656d2c59332072684e8766">name</a></div><div class="ttdeci">const char *const name</div></div>
<div class="ttc" id="acavalry__ioctl_8h_html"><div class="ttname"><a href="../../d3/dbc/cavalry__ioctl_8h.html">cavalry_ioctl.h</a></div><div class="ttdoc">This file defines cavalry driver ioctl api.</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga42987a89847621e2044e11f47e4ac959"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga42987a89847621e2044e11f47e4ac959">CAVALRY_QUERY_BUF</a></div><div class="ttdeci">#define CAVALRY_QUERY_BUF</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1264</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga4f1a2c14737ecfff0c3b358a30b619c7"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga4f1a2c14737ecfff0c3b358a30b619c7">CAVALRY_GET_HOTLINK_SLOT_CFG</a></div><div class="ttdeci">#define CAVALRY_GET_HOTLINK_SLOT_CFG</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1330</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga588794f515a77d86717822127c50e827"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga588794f515a77d86717822127c50e827">CAVALRY_QUERY_HOTLINK_SLOT_BUF_CFG</a></div><div class="ttdeci">#define CAVALRY_QUERY_HOTLINK_SLOT_BUF_CFG</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1551</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga5992bb4f13d06a71c8b67734edb9272d"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga5992bb4f13d06a71c8b67734edb9272d">CAVALRY_START_VP</a></div><div class="ttdeci">#define CAVALRY_START_VP</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1269</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga76e2efadd6e337d5c935f41f4851fb64"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga76e2efadd6e337d5c935f41f4851fb64">CAVALRY_SET_CAVALRY_CLK</a></div><div class="ttdeci">#define CAVALRY_SET_CAVALRY_CLK</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1511</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga80a7ac3e31d2496b6e238ce899995362"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga80a7ac3e31d2496b6e238ce899995362">CAVALRY_STOP_VP</a></div><div class="ttdeci">#define CAVALRY_STOP_VP</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1274</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_ga94e5958cdd3313df2836e8424cbfac6c"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#ga94e5958cdd3313df2836e8424cbfac6c">CAVALRY_SET_HOTLINK_SLOT_CFG</a></div><div class="ttdeci">#define CAVALRY_SET_HOTLINK_SLOT_CFG</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1325</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_gac3aa2aea3d0abd6efa0a02cc46377487"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#gac3aa2aea3d0abd6efa0a02cc46377487">CAVALRY_GET_CAVALRY_CLK</a></div><div class="ttdeci">#define CAVALRY_GET_CAVALRY_CLK</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1516</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-api_html_gafeef5ed5b7c7d5a4a1a63deba0480aed"><div class="ttname"><a href="../../d9/d15/group__cavalry-ioctl-api.html#gafeef5ed5b7c7d5a4a1a63deba0480aed">CAVALRY_GET_CAVALRY_STATUS</a></div><div class="ttdeci">#define CAVALRY_GET_CAVALRY_STATUS</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1546</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ga1cd8ef46d0c1de6e8dd65c7b30d3031f"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ga1cd8ef46d0c1de6e8dd65c7b30d3031f">VERSION_INFO_OFFSET</a></div><div class="ttdeci">#define VERSION_INFO_OFFSET</div><div class="ttdoc">define offset of ucode version in cavalry ucode file.</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:135</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ga6fa217129c0f69ef5ab1f0099e3895ed"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ga6fa217129c0f69ef5ab1f0099e3895ed">CAVALRY_DEV_NODE</a></div><div class="ttdeci">#define CAVALRY_DEV_NODE</div><div class="ttdoc">define the device node when call open().</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:45</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_gac101ed59e896b2e65483c92fcb38e88b"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#gac101ed59e896b2e65483c92fcb38e88b">CAVALRY_SLOT_ID_OFFSET</a></div><div class="ttdeci">#define CAVALRY_SLOT_ID_OFFSET</div><div class="ttdoc">define offset of hotlink slot id in cavalry hotlink file.</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:140</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eea1ece722b2f10330d099b8b1946842733"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea1ece722b2f10330d099b8b1946842733">CHIP_TYPE_CV2</a></div><div class="ttdeci">@ CHIP_TYPE_CV2</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:192</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eea4a4afd51141ccc050b115024a2ba96d1"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea4a4afd51141ccc050b115024a2ba96d1">CHIP_TYPE_CV28</a></div><div class="ttdeci">@ CHIP_TYPE_CV28</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:194</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eea54df8998f52889841804b8be531a86a4"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea54df8998f52889841804b8be531a86a4">CHIP_TYPE_CV72</a></div><div class="ttdeci">@ CHIP_TYPE_CV72</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:198</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eea7674f0d65a989fcaeba48f2a7ada1cdc"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea7674f0d65a989fcaeba48f2a7ada1cdc">CHIP_TYPE_CV25</a></div><div class="ttdeci">@ CHIP_TYPE_CV25</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:193</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eea93f59969a351047ff9fb2f7cfd6f190d"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eea93f59969a351047ff9fb2f7cfd6f190d">CHIP_TYPE_CV22</a></div><div class="ttdeci">@ CHIP_TYPE_CV22</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:191</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eeaab82b92d03ba39ca3b747f52dc041c4e"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeaab82b92d03ba39ca3b747f52dc041c4e">CHIP_TYPE_CV3</a></div><div class="ttdeci">@ CHIP_TYPE_CV3</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:197</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eeac91135c99c3253a2a908cf0b20b494f7"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeac91135c99c3253a2a908cf0b20b494f7">CHIP_TYPE_CV3AD685</a></div><div class="ttdeci">@ CHIP_TYPE_CV3AD685</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:200</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eeaf0af29d148d436dc1f8c322746417c41"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeaf0af29d148d436dc1f8c322746417c41">CHIP_TYPE_CV52</a></div><div class="ttdeci">@ CHIP_TYPE_CV52</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:196</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggadc61c7e3bbc325c531e5ca699aaa61eeafe2f943c633379208e9d258a1755e679"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggadc61c7e3bbc325c531e5ca699aaa61eeafe2f943c633379208e9d258a1755e679">CHIP_TYPE_CV5</a></div><div class="ttdeci">@ CHIP_TYPE_CV5</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:195</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggafa5d536c609845d2b48b8e9d923fbed4a1c315a490ff28b2795735fb1575278a6"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggafa5d536c609845d2b48b8e9d923fbed4a1c315a490ff28b2795735fb1575278a6">CAVALRY_MEM_HOTLINK</a></div><div class="ttdeci">@ CAVALRY_MEM_HOTLINK</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:242</div></div>
<div class="ttc" id="agroup__cavalry-ioctl-helper_html_ggafa5d536c609845d2b48b8e9d923fbed4a306b52dbdd0457fbb4da0120eb1c3e23"><div class="ttname"><a href="../../d6/d9f/group__cavalry-ioctl-helper.html#ggafa5d536c609845d2b48b8e9d923fbed4a306b52dbdd0457fbb4da0120eb1c3e23">CAVALRY_MEM_UCODE</a></div><div class="ttdeci">@ CAVALRY_MEM_UCODE</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:241</div></div>
<div class="ttc" id="astructcavalry__clock__cfg_html"><div class="ttname"><a href="../../dd/d71/structcavalry__clock__cfg.html">cavalry_clock_cfg</a></div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1005</div></div>
<div class="ttc" id="astructcavalry__clock__cfg_html_a2d2b0dbff8123a2760005a6b068e8ba8"><div class="ttname"><a href="../../dd/d71/structcavalry__clock__cfg.html#a2d2b0dbff8123a2760005a6b068e8ba8">cavalry_clock_cfg::vp_clk_numerator</a></div><div class="ttdeci">uint32_t vp_clk_numerator</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1009</div></div>
<div class="ttc" id="astructcavalry__clock__cfg_html_a523add199ececeb516171bbb139c41aa"><div class="ttname"><a href="../../dd/d71/structcavalry__clock__cfg.html#a523add199ececeb516171bbb139c41aa">cavalry_clock_cfg::vp_clk_denominator</a></div><div class="ttdeci">uint32_t vp_clk_denominator</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1010</div></div>
<div class="ttc" id="astructcavalry__clock__cfg_html_a60162ad40c3fc0265673da2a321e6554"><div class="ttname"><a href="../../dd/d71/structcavalry__clock__cfg.html#a60162ad40c3fc0265673da2a321e6554">cavalry_clock_cfg::vp_clk_flag</a></div><div class="ttdeci">uint32_t vp_clk_flag</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:1006</div></div>
<div class="ttc" id="astructcavalry__hotlink__slot__cfg_html"><div class="ttname"><a href="../../da/dc9/structcavalry__hotlink__slot__cfg.html">cavalry_hotlink_slot_cfg</a></div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:598</div></div>
<div class="ttc" id="astructcavalry__hotlink__slot__cfg_html_a0671e63935e09df651aa48e4173ee931"><div class="ttname"><a href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#a0671e63935e09df651aa48e4173ee931">cavalry_hotlink_slot_cfg::slot_num</a></div><div class="ttdeci">uint32_t slot_num</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:600</div></div>
<div class="ttc" id="astructcavalry__hotlink__slot__cfg_html_ae9d755a7127ad51dbb8717274f6940d0"><div class="ttname"><a href="../../da/dc9/structcavalry__hotlink__slot__cfg.html#ae9d755a7127ad51dbb8717274f6940d0">cavalry_hotlink_slot_cfg::per_slot_size</a></div><div class="ttdeci">uint32_t per_slot_size</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:599</div></div>
<div class="ttc" id="astructcavalry__querybuf_html"><div class="ttname"><a href="../../d2/df6/structcavalry__querybuf.html">cavalry_querybuf</a></div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:276</div></div>
<div class="ttc" id="astructcavalry__querybuf_html_a447cc954c1e9c3a8f3db6613f889964a"><div class="ttname"><a href="../../d2/df6/structcavalry__querybuf.html#a447cc954c1e9c3a8f3db6613f889964a">cavalry_querybuf::buf</a></div><div class="ttdeci">CAVALRY_MEM buf</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:277</div></div>
<div class="ttc" id="astructcavalry__querybuf_html_a9ee64c7b918513891b3834b93ad0e501"><div class="ttname"><a href="../../d2/df6/structcavalry__querybuf.html#a9ee64c7b918513891b3834b93ad0e501">cavalry_querybuf::length</a></div><div class="ttdeci">unsigned long length</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:278</div></div>
<div class="ttc" id="astructcavalry__querybuf_html_ac1369a1f209735864674d22517edfa76"><div class="ttname"><a href="../../d2/df6/structcavalry__querybuf.html#ac1369a1f209735864674d22517edfa76">cavalry_querybuf::offset</a></div><div class="ttdeci">unsigned long offset</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:279</div></div>
<div class="ttc" id="astructcavalry__status_html"><div class="ttname"><a href="../../d9/d42/structcavalry__status.html">cavalry_status</a></div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:932</div></div>
<div class="ttc" id="astructcavalry__status_html_add94e4bd642ca06fe1052fe04c7a7069"><div class="ttname"><a href="../../d9/d42/structcavalry__status.html#add94e4bd642ca06fe1052fe04c7a7069">cavalry_status::is_cavalry_started</a></div><div class="ttdeci">uint32_t is_cavalry_started</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:933</div></div>
<div class="ttc" id="astructhint__s_html"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html">hint_s</a></div></div>
<div class="ttc" id="astructhint__s_html_a2799cca21c05a4f99f4c8b3b178d0133"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html#a2799cca21c05a4f99f4c8b3b178d0133">hint_s::str</a></div><div class="ttdeci">const char * str</div></div>
<div class="ttc" id="astructhint__s_html_aa56a50443afd9d2f7cf738fb7ffba168"><div class="ttname"><a href="../../../video/d2/d4b/structhint__s.html#aa56a50443afd9d2f7cf738fb7ffba168">hint_s::arg</a></div><div class="ttdeci">const char * arg</div></div>
<div class="ttc" id="astructversion__info__s_html"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html">version_info_s</a></div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:222</div></div>
<div class="ttc" id="astructversion__info__s_html_a2bde5a48eac5b5fe39e1a0131d604c0d"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html#a2bde5a48eac5b5fe39e1a0131d604c0d">version_info_s::build_date</a></div><div class="ttdeci">uint32_t build_date</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:225</div></div>
<div class="ttc" id="astructversion__info__s_html_a31b62251bb00fd281acd8216e883dc33"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html#a31b62251bb00fd281acd8216e883dc33">version_info_s::hotlink_fw_version</a></div><div class="ttdeci">uint32_t hotlink_fw_version</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:227</div></div>
<div class="ttc" id="astructversion__info__s_html_a417d035e0817b1fb3f27cf3af251533a"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html#a417d035e0817b1fb3f27cf3af251533a">version_info_s::ucode_version</a></div><div class="ttdeci">uint32_t ucode_version</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:224</div></div>
<div class="ttc" id="astructversion__info__s_html_a7a2a905139264aa57ca935d7962cdaef"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html#a7a2a905139264aa57ca935d7962cdaef">version_info_s::git_hash</a></div><div class="ttdeci">uint32_t git_hash</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:226</div></div>
<div class="ttc" id="astructversion__info__s_html_acf2be07127c04e8c7520f8f99a8d46d5"><div class="ttname"><a href="../../d0/daa/structversion__info__s.html#acf2be07127c04e8c7520f8f99a8d46d5">version_info_s::chip</a></div><div class="ttdeci">uint32_t chip</div><div class="ttdef"><b>Definition:</b> cavalry_ioctl.h:223</div></div>
<div class="ttc" id="atest__decode_8h_html_ab5fefa6fc4abffdc4b912255ea537aae"><div class="ttname"><a href="../../../video/d0/d7d/test__decode_8h.html#ab5fefa6fc4abffdc4b912255ea537aae">numeric_short_options</a></div><div class="ttdeci">numeric_short_options</div></div>
<div class="ttc" id="atest__fb_8h_html_a2d0022791143e08a64621257f48d9739"><div class="ttname"><a href="../../../video/d3/d6c/test__fb_8h.html#a2d0022791143e08a64621257f48d9739">NO_ARG</a></div><div class="ttdeci">#define NO_ARG</div></div>
<div class="ttc" id="atest__fb_8h_html_affec572f11fcba59ce0cd49cbcd0110f"><div class="ttname"><a href="../../../video/d3/d6c/test__fb_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a></div><div class="ttdeci">#define HAS_ARG</div></div>
<div class="ttc" id="atest__vout__cfg_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="../../../video/db/d1a/test__vout__cfg_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
